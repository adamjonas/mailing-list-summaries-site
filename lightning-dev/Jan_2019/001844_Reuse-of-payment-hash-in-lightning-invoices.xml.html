<!doctype html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="Content-Type" content="text/html; charset=us-ascii">
    <title>Atom Feed Display</title>
    <link rel="stylesheet" href="../../archive_styles.css">
</head>

<body BGCOLOR="#fffffb">
    
    <h1>Reuse of payment_hash in lightning invoices</h1>
    <hr class="solid">
    
    <ul>
        
        
            <p><b>Author:</b> Jose Manuel Arenillas 2019-01-24 18:00:51
            <br><i>Published on: 2019-01-24T18:00:51+00:00</i></p>

        
        

        
        
        <li>
        <a href="/lightning-dev/Jan_2019/combined_Reuse-of-payment-hash-in-lightning-invoices.xml.html"> Combined Summary of all posts in thread </a>
        </li>
        
        <li>
            
                <a href="https://lists.linuxfoundation.org/pipermail/lightning-dev/2019-January/001844.html">Click here to read original discussion on the lightning-dev mailing list</a>
            
        </li>

    </ul>

    <hr>
    <h3> Summary:</h3>
    <p>A user contacted Anton Kumaigorodski to claim that he did not receive payment even though the payer was able to provide a preimage. It was found out that the user reused the same invoice which has already expired. If the invoice is fulfilled, a routing node will return a preimage right away. This incident raises concerns about QR reuse and calls for action. In response, ZmnSCPxj stated that the possession of the payment preimage is considered sufficient proof of payment, regardless of what the receiver claims. However, the reuse of payment hashes should be strongly discouraged as it can lead to theft by intermediate routing nodes. Andrea RASPITZU suggested that this should be made clear in BOLT11. Overall, there is a need to clarify the issue of payment hash reuse and its implications to prevent potential theft in the future.</p>
    <hr>
    <p><i> Updated on: 2023-06-02T16:58:13.125885+00:00 </i></p>
    
    

    <footer>
        <span style="font-family: Arial, Helvetica, sans-serif;">&#10084;&#65039;</span> <a href="https://chaincode.com" target="_blank" rel="noreferrer" style="text-decoration: none; color: inherit;">Chaincode</a>
    </footer>
</body>

</html>