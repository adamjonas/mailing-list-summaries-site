<!doctype html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="Content-Type" content="text/html; charset=us-ascii">
    <title>Atom Feed Display</title>
    <link rel="stylesheet" href="../../archive_styles.css">
</head>

<body BGCOLOR="#fffffb">
    
    <h1>[RFC] Simplified (but less optimal) HTLC Negotiation</h1>
    <hr class="solid">
    
    <ul>
        
        
            <p><b>Author:</b> Christian Decker 2020-10-26 12:46:44
            <br><i>Published on: 2020-10-26T12:46:44+00:00</i></p>

        
        

        
        
        <li>
        <a href="/lightning-dev/Oct_2020/combined_-RFC-Simplified-but-less-optimal-HTLC-Negotiation.xml.html"> Combined Summary of all posts in thread </a>
        </li>
        
        <li>
            
                <a href="https://lists.linuxfoundation.org/pipermail/lightning-dev/2020-October/002871.html">Click here to read original discussion on the lightning-dev mailing list</a>
            
        </li>

    </ul>

    <hr>
    <h3> Summary:</h3>
    <p>Rusty Russell and Christian are discussing an optimization step, where a batch-ack is sent after a whole series of changes were proposed to the leader, and referenced by their `htlc_id`. The former proposal was to either reflect the whole message or send back individual acks, containing the hash of the message if they want to safe on bytes transferred. Alternatively, they could also use reference the change by its htlc_id. However, the latter means that there is a tight binding between the linearization protocol and the internals of these changes. Christian's goal ultimately is to introduce a better layering between the change proposal/commitment scheme, and the semantics of the individual changes ("which order" vs. "what"). Christian thinks that reflecting the changes as a whole, interleaving his updates with Rusty's is likely the simplest protocol, with the least implied state that can get out of sync, and cause nodes to drift apart like they had a number of times. They discussed the performance increase of the batching would be compared to just acking each update individually.</p>
    <hr>
    <p><i> Updated on: 2023-06-03T02:47:43.556347+00:00 </i></p>
    
    

    <footer>
        <span style="font-family: Arial, Helvetica, sans-serif;">&#10084;&#65039;</span> <a href="https://chaincode.com" target="_blank" rel="noreferrer" style="text-decoration: none; color: inherit;">Chaincode</a>
    </footer>
</body>

</html>