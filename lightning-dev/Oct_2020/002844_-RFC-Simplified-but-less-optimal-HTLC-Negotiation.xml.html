<!doctype html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="Content-Type" content="text/html; charset=us-ascii">
    <title>Atom Feed Display</title>
    <link rel="stylesheet" href="../../archive_styles.css">
</head>

<body BGCOLOR="#fffffb">
    
    <h1>[RFC] Simplified (but less optimal) HTLC Negotiation</h1>
    <hr class="solid">
    
    <ul>
        
        
            <p><b>Author:</b> Bastien TEINTURIER 2020-10-14 09:22:51
            <br><i>Published on: 2020-10-14T09:22:51+00:00</i></p>

        
        

        
        
        <li>
        <a href="/lightning-dev/Oct_2020/combined_-RFC-Simplified-but-less-optimal-HTLC-Negotiation.xml.html"> Combined Summary of all posts in thread </a>
        </li>
        
        <li>
            
                <a href="https://lists.linuxfoundation.org/pipermail/lightning-dev/2020-October/002844.html">Click here to read original discussion on the lightning-dev mailing list</a>
            
        </li>

    </ul>

    <hr>
    <h3> Summary:</h3>
    <p>In a Lightning-dev mailing list, Christian Decker suggested using the leader-based mechanism to simplify the HTLC state machine rather than Rusty Russell's recent proposal. The current HTLC state machine can be confusing at first, but once implemented, it is straightforward and deterministic. However, recurring compatibility issues arise during reconnections. Test scenarios could help implementers get this right. Meanwhile, Russell's proposal significantly simplifies the state machine by eliminating turn changes and negotiating both sides at once. However, it adds 1 RTT latency if it's not your turn. Database accesses are unchanged, and one day, it will be compulsory to record the index at which HTLCs were changed in case peer wants you to rexmit though.</p>
    <hr>
    <p><i> Updated on: 2023-06-03T02:51:15.787097+00:00 </i></p>
    
    

    <footer>
        <span style="font-family: Arial, Helvetica, sans-serif;">&#10084;&#65039;</span> <a href="https://chaincode.com" target="_blank" rel="noreferrer" style="text-decoration: none; color: inherit;">Chaincode</a>
    </footer>
</body>

</html>