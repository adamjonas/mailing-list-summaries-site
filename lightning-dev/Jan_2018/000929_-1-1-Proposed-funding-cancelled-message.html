<!doctype html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="Content-Type" content="text/html; charset=us-ascii">
    <title>Atom Feed Display</title>
    <link rel="stylesheet" href="../../archive_styles.css">
</head>

<body BGCOLOR="#fffffb">
    
    <h1>[1.1] Proposed `funding_cancelled` message</h1>
    <hr class="solid">
    
    <ul>
        
        
            <p><b>Author:</b> Matt Corallo 2018-01-15 01:00:20
            <br><i>Published on: 2018-01-15T01:00:20+00:00</i></p>

        
        

        
        
        <li>
        <a href="/lightning-dev/Jan_2018/combined_-1-1-Proposed-funding-cancelled-message.html"> Combined Summary of all posts in thread </a>
        </li>
        
        <li>
            
                <a href="https://lists.linuxfoundation.org/pipermail/lightning-dev/2018-January/000929.html">Click here to read original discussion on the lightning-dev mailing list</a>
            
        </li>

    </ul>

    <hr>
    <h3> Summary:</h3>
    <p>The lack of a protocol-required minimum timeout for unopened channels is causing issues with replaceable funding transactions. While it may seem trivial to track an unopened channel, there is always the possibility that the winning miner got older versions of the funding transaction. It is necessary for a receiving node to keep a channel ready to be used for at least a week prior to funding transaction confirmation. This will allow a node creating a funding transaction to double-spend and make unconfirmable a funding transaction which has not confirmed prior to a week. This can even be slipped into the spec today prior to v1.1.To implement replace-by-fee funding transactions, one would need to keep track of all versions of the funding transaction and state of each version. The funder needs to keep track of all versions of the funding transaction broadcasted and delete such entries from its database that can never confirm. Sending `funding_cancelled` in this case is simply "being nice", and the fundee ignores this at its own detriment, wasting resources each block to check for a transaction that logically can never confirm.</p>
    <hr>
    <p><i> Updated on: 2023-05-20T07:52:47.060709+00:00 </i></p>
    
    

    <footer>
        <span style="font-family: Arial, Helvetica, sans-serif;">&#10084;&#65039;</span> <a href="https://chaincode.com" target="_blank" rel="noreferrer" style="text-decoration: none; color: inherit;">Chaincode</a>
    </footer>
</body>

</html>