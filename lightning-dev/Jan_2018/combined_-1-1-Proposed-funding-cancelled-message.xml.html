<!doctype html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="Content-Type" content="text/html; charset=us-ascii">
    <title>Atom Feed Display</title>
    <link rel="stylesheet" href="../../archive_styles.css">
</head>

<body BGCOLOR="#fffffb">
    
    <h1>[1.1] Proposed `funding_cancelled` message <span class="combined-summary">[combined summary]</span></h1>
    <hr class="solid">
    <br><b>Individual post summaries:</b>
    
        <ul>
            
                
                    <li>
                        <a href="/lightning-dev/Jan_2018/000947_-1-1-Proposed-funding-cancelled-message.xml.html">[1.1] Proposed `funding_cancelled` message</a>
                        <b>7riw77 at gmail.com 2018-01-18 11:03:58</b>
                    </li>
                
                    <li>
                        <a href="/lightning-dev/Jan_2018/000954_-1-1-Proposed-funding-cancelled-message.xml.html">[1.1] Proposed `funding_cancelled` message</a>
                        <b>ZmnSCPxj 2018-01-20 04:49:03</b>
                    </li>
                
                    <li>
                        <a href="/lightning-dev/Jan_2018/000956_-1-1-Proposed-funding-cancelled-message.xml.html">[1.1] Proposed `funding_cancelled` message</a>
                        <b>7riw77 at gmail.com 2018-01-21 12:57:32</b>
                    </li>
                
                    <li>
                        <a href="/lightning-dev/Jan_2018/000958_-1-1-Proposed-funding-cancelled-message.xml.html">[1.1] Proposed `funding_cancelled` message</a>
                        <b>ZmnSCPxj 2018-01-22 10:45:58</b>
                    </li>
                
                    <li>
                        <a href="/lightning-dev/Jan_2018/000905_-1-1-Proposed-funding-cancelled-message.xml.html">[1.1] Proposed `funding_cancelled` message</a>
                        <b>ZmnSCPxj 2018-01-08 03:26:23</b>
                    </li>
                
                    <li>
                        <a href="/lightning-dev/Jan_2018/000909_-1-1-Proposed-funding-cancelled-message.xml.html">[1.1] Proposed `funding_cancelled` message</a>
                        <b>ZmnSCPxj 2018-01-09 05:25:29</b>
                    </li>
                
                    <li>
                        <a href="/lightning-dev/Jan_2018/000907_-1-1-Proposed-funding-cancelled-message.xml.html">[1.1] Proposed `funding_cancelled` message</a>
                        <b>Matt Corallo 2018-01-08 14:42:01</b>
                    </li>
                
                    <li>
                        <a href="/lightning-dev/Jan_2018/000929_-1-1-Proposed-funding-cancelled-message.xml.html">[1.1] Proposed `funding_cancelled` message</a>
                        <b>Matt Corallo 2018-01-15 01:00:20</b>
                    </li>
                
                    <li>
                        <a href="/lightning-dev/Jan_2018/000932_-1-1-Proposed-funding-cancelled-message.xml.html">[1.1] Proposed `funding_cancelled` message</a>
                        <b>Matt Corallo 2018-01-15 02:33:39</b>
                    </li>
                
                    <li>
                        <a href="/lightning-dev/Jan_2018/000933_-1-1-Proposed-funding-cancelled-message.xml.html">[1.1] Proposed `funding_cancelled` message</a>
                        <b>ZmnSCPxj 2018-01-15 02:53:07</b>
                    </li>
                
                    <li>
                        <a href="/lightning-dev/Jan_2018/000957_-1-1-Proposed-funding-cancelled-message.xml.html">[1.1] Proposed `funding_cancelled` message</a>
                        <b>ZmnSCPxj 2018-01-22 10:36:40</b>
                    </li>
                
                    <li>
                        <a href="/lightning-dev/Jan_2018/000908_-1-1-Proposed-funding-cancelled-message.xml.html">[1.1] Proposed `funding_cancelled` message</a>
                        <b>Pierre 2018-01-08 18:28:35</b>
                    </li>
                
                    <li>
                        <a href="/lightning-dev/Jan_2018/000910_-1-1-Proposed-funding-cancelled-message.xml.html">[1.1] Proposed `funding_cancelled` message</a>
                        <b>ZmnSCPxj 2018-01-09 05:44:14</b>
                    </li>
                
                    <li>
                        <a href="/lightning-dev/Jan_2018/000931_-1-1-Proposed-funding-cancelled-message.xml.html">[1.1] Proposed `funding_cancelled` message</a>
                        <b>ZmnSCPxj 2018-01-15 02:14:57</b>
                    </li>
                
                    <li>
                        <a href="/lightning-dev/Jan_2018/000934_-1-1-Proposed-funding-cancelled-message.xml.html">[1.1] Proposed `funding_cancelled` message</a>
                        <b>Matt Corallo 2018-01-15 23:25:24</b>
                    </li>
                
            
        </ul>
        
            <a href="https://lists.linuxfoundation.org/pipermail/lightning-dev/2018-January/000947.html">Click here to read the original discussion on the lightning-dev mailing list</a>
        
        <p><i>Published on: 2018-01-18T11:03:58+00:00</i></p>
        <hr>
        <h3>Summary:</h3>
        <p>The Lightning Network has potential security risks, including denial-of-service attacks and resource exhaustion. One proposed solution is the implementation of a `funding_cancelled` message that can inform the fundee node that the funder node is sure that the channel funding transaction cannot be confirmed. However, there are concerns about how this message may not work for multi-channel funding transactions.Another issue with the Lightning Network is the lack of a protocol-required minimum timeout for channels. To address this problem, one member of the Lightning Development mailing list suggested having something like "a receiving node MUST keep a channel ready to be used for at least a week prior to funding transaction confirmation." Additionally, there is concern about malicious nodes continuously sending `open_channel` -> `funding_created` messages with random numbers for transaction ID, which could make the cost of tracking an unopened channel arbitrarily high. One potential solution is for a node implementation to limit the number of pending channel opens for each peer.There is also discussion about imposing a limit of 25 channels per peer to prevent potential denial-of-service attacks. However, failed channel opening attempts can count as resources on the receiver, potentially leading to exhaustion and network failure. ZmnSCPxj suggests addressing this issue by avoiding fixed pools of resources that can be easily exhausted and designing a network of devices that can handle these problems without losing essential state. He argues that the proposed `funding_cancelled` message would allow an honest party to free up the limited resource of pending channel opens without having to wait for the timeout.The proposal of implementing 'funding_cancelled' lets the funder free up the imposed resource limit on the fundee side. The sender intends to inform the fundee node that the funder node is certain that the channel funding transaction cannot confirm. However, if the initial transaction sent funds to the fundee via push_msat, the fundee may not want to trust the funder on this matter. To establish trust in a trustless manner, the funder can attach the actual deprecated funding transaction (which may or may not be signed) to the 'funding_cancelled' message.There is also discussion about potential solutions to distributed denial of service attacks and the relative resource consumption differences on an attacker simulating multiple nodes versus one simulating a single node. The email suggests several solutions such as coming closer to stateless on the server side during session setup before knowing the request is going to be followed through/is legitimate and having the ability to shift a transaction from one server to another without losing some essential state.</p>
        <hr>
        <p><i>Updated on: 2023-06-02T01:51:34.670434+00:00</i></p>
    

    

    <footer>
        <span style="font-family: Arial, Helvetica, sans-serif;">&#10084;&#65039;</span> <a href="https://chaincode.com" target="_blank" rel="noreferrer" style="text-decoration: none; color: inherit;">Chaincode</a>
    </footer>
</body>

</html>