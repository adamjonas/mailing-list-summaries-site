<!doctype html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="Content-Type" content="text/html; charset=us-ascii">
    <title>Atom Feed Display</title>
    <link rel="stylesheet" href="../../archive_styles.css">
</head>

<body BGCOLOR="#fffffb">
    
    <h1>Probing final receiver with refund timeout</h1>
    <hr class="solid">
    
    <ul>
        
        
            <p><b>Author:</b> Mats Jerratsch 2016-03-09 09:49:23
            <br><i>Published on: 2016-03-09T09:49:23+00:00</i></p>

        
        

        
        
        <li>
        <a href="/lightning-dev/March_2016/combined_Probing-final-receiver-with-refund-timeout.xml.html"> Combined Summary of all posts in thread </a>
        </li>
        
        <li>
            
                <a href="https://lists.linuxfoundation.org/pipermail/lightning-dev/2016-March/000484.html">Click here to read original discussion on the lightning-dev mailing list</a>
            
        </li>

    </ul>

    <hr>
    <h3> Summary:</h3>
    <p>The context discusses a potential attack vector in the Lightning Network, where an intermediary node can determine if a sender is generating all their payments or relaying payments for someone else by plotting the timeouts of the payments. If the sender generates all payments with a timeout larger than a minimum value X, they are likely just randomizing them. However, if the initial refund value is lower than X, the payment might not succeed due to intermediate nodes deducting too much. The number of nodes in the route is not constant and therefore adds another degree of freedom to choose the initial value. The solution proposed is to use randomized timestamps in the onion object to prevent explicit information on the number of previous hops. The sender will choose a good starting value and deduct MIN_TIMEOUT * MIN_OVERLAY * RANDOM from it. This mechanism is the same as the one used by intermediate hops to come to that value.</p>
    <hr>
    <p><i> Updated on: 2023-05-23T22:37:54.628068+00:00 </i></p>
    
    

    <footer>
        <span style="font-family: Arial, Helvetica, sans-serif;">&#10084;&#65039;</span> <a href="https://chaincode.com" target="_blank" rel="noreferrer" style="text-decoration: none; color: inherit;">Chaincode</a>
    </footer>
</body>

</html>