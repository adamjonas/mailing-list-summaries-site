<!doctype html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="Content-Type" content="text/html; charset=us-ascii">
    <title>Atom Feed Display</title>
    <link rel="stylesheet" href="../../archive_styles.css">
</head>

<body BGCOLOR="#fffffb">
    
    <h1>Probing final receiver with refund timeout <span class="combined-summary">[combined summary]</span></h1>
    <hr class="solid">
    <br><b>Individual post summaries:</b>
    
        <ul>
            
                
                    <li>
                        <a href="/lightning-dev/March_2016/000452_Probing-final-receiver-with-refund-timeout.xml.html">Probing final receiver with refund timeout</a>
                        <b>Mats Jerratsch 2016-03-02 11:29:39</b>
                    </li>
                
                    <li>
                        <a href="/lightning-dev/March_2016/000484_Probing-final-receiver-with-refund-timeout.xml.html">Probing final receiver with refund timeout</a>
                        <b>Mats Jerratsch 2016-03-09 09:49:23</b>
                    </li>
                
                    <li>
                        <a href="/lightning-dev/March_2016/000490_Probing-final-receiver-with-refund-timeout.xml.html">Probing final receiver with refund timeout</a>
                        <b>Rusty Russell 2016-03-15 01:01:38</b>
                    </li>
                
                    <li>
                        <a href="/lightning-dev/March_2016/000499_Probing-final-receiver-with-refund-timeout.xml.html">Probing final receiver with refund timeout</a>
                        <b>Rusty Russell 2016-03-22 01:14:15</b>
                    </li>
                
                    <li>
                        <a href="/lightning-dev/March_2016/000454_Probing-final-receiver-with-refund-timeout.xml.html">Probing final receiver with refund timeout</a>
                        <b>Rusty Russell 2016-03-05 09:28:36</b>
                    </li>
                
                    <li>
                        <a href="/lightning-dev/March_2016/000472_Probing-final-receiver-with-refund-timeout.xml.html">Probing final receiver with refund timeout</a>
                        <b>Mats Jerratsch 2016-03-08 15:36:21</b>
                    </li>
                
                    <li>
                        <a href="/lightning-dev/March_2016/000481_Probing-final-receiver-with-refund-timeout.xml.html">Probing final receiver with refund timeout</a>
                        <b>Rusty Russell 2016-03-09 00:30:47</b>
                    </li>
                
                    <li>
                        <a href="/lightning-dev/March_2016/000497_Probing-final-receiver-with-refund-timeout.xml.html">Probing final receiver with refund timeout</a>
                        <b>Mats Jerratsch 2016-03-21 09:42:35</b>
                    </li>
                
            
        </ul>
        
            <a href="https://lists.linuxfoundation.org/pipermail/lightning-dev/2016-March/000452.html">Click here to read the original discussion on the lightning-dev mailing list</a>
        
        <p><i>Published on: 2016-03-02T11:29:39+00:00</i></p>
        <hr>
        <h3>Summary:</h3>
        <p>The Lightning Network, a layer-2 scaling solution for Bitcoin, has been discovered to have a vulnerability in its onion routing. The attack can be carried out by setting too short of an absolute CLTV refund timeout, allowing an intermediary node to determine if a payment is originating from another source rather than being relayed. One proposed solution involves making sure that payment timeouts differ between each other, while another suggests that each node should publish their minimum timeout value. Mats Jerratsch proposes a three-step solution that involves publishing MIN_TIMEOUT, summing the MIN_TIMEOUT to the payee and adding some random value, and putting the 'expected_timeout' in each layer of the onion by subtracting the last hops' MIN_TIMEOUT from the initial timeout. However, there are concerns that even with this solution, patterns could still emerge that clever individuals could exploit. To combat this issue, Mats proposes using MAX_HOPS * MAX_OVERLAY * MIN_TIMEOUT to randomize the refund time, without running out of time in the end. There are also fears that including the timeout the previous node should have sent you and the timeout you should use for the next node into the onion object would complicate routing and open up another attack vector for attacking the network with unroutable payments.Furthermore, Mats Jerratsch is proposing adding complexity to prevent free payments and to potentially block future features involving multiple payments to one R value over the same route. This would prevent malicious nodes from manipulating the routing onion. However, it is acknowledged that the filtering would not be based on the same R value, but on the bitwise identical onion routing information. In summary, the Lightning Network's onion routing has been found to have vulnerabilities, leading to a discussion on the different solutions proposed to mitigate this issue. While there are concerns about the potential exploitation of these solutions, they aim to prevent attacks and ensure the security of the network.</p>
        <hr>
        <p><i>Updated on: 2023-06-03T16:14:13.620810+00:00</i></p>
    

    

    <footer>
        <span style="font-family: Arial, Helvetica, sans-serif;">&#10084;&#65039;</span> <a href="https://chaincode.com" target="_blank" rel="noreferrer" style="text-decoration: none; color: inherit;">Chaincode</a>
    </footer>
</body>

</html>