<!doctype html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="Content-Type" content="text/html; charset=us-ascii">
    <title>Atom Feed Display</title>
    <link rel="stylesheet" href="../../archive_styles.css">
</head>

<body BGCOLOR="#fffffb">
    
    <h1>Dropping Tor v2 onion services from node_announcement <span class="combined-summary">[combined summary]</span></h1>
    <hr class="solid">
    <br><b>Individual post summaries:</b>
    
        <ul>
            
                
                    <li>
                        <a href="/lightning-dev/Sept_2021/003250_Dropping-Tor-v2-onion-services-from-node-announcement.xml.html">Dropping Tor v2 onion services from node_announcement</a>
                        <b>Olaoluwa Osuntokun 2021-09-22 23:03:50</b>
                    </li>
                
                    <li>
                        <a href="/lightning-dev/June_2021/003044_Dropping-Tor-v2-onion-services-from-node-announcement.xml.html">Dropping Tor v2 onion services from node_announcement</a>
                        <b>darosior 2021-06-01 22:18:42</b>
                    </li>
                
                    <li>
                        <a href="/lightning-dev/June_2021/003046_Dropping-Tor-v2-onion-services-from-node-announcement.xml.html">Dropping Tor v2 onion services from node_announcement</a>
                        <b>Peter Todd 2021-06-02 02:41:11</b>
                    </li>
                
                    <li>
                        <a href="/lightning-dev/June_2021/003051_Dropping-Tor-v2-onion-services-from-node-announcement.xml.html">Dropping Tor v2 onion services from node_announcement</a>
                        <b>Matt Corallo 2021-06-10 20:40:21</b>
                    </li>
                
            
        </ul>
        
            <a href="https://lists.linuxfoundation.org/pipermail/lightning-dev/2021-September/003250.html">Click here to read the original discussion on the lightning-dev mailing list</a>
        
        <p><i>Published on: 2021-09-22T23:03:50+00:00</i></p>
        <hr>
        <h3>Summary:</h3>
        <p>Recent logs reveal that some newer Tor clients are refusing to connect to v2 onion services, and the Lightning Network daemon (lnd) is planning to disallow users from creating v2 onion service in its next major release and may upgrade them to v3 onion service if their node supports it. A tracking issue has been created for this purpose. The Tor project plans to drop support for v2 onion services by October 2021, and Bitcoin Core and C-lightning are also planning to drop support. A naïve script was run to determine how much of the network uses Tor, and 8793 out of 12844 nodes were found to use Tor. Only around 60 v2 addresses seem to be advertised on the network, so this change should not cause much disruption. Over half of all advertised addresses on the network are now onion services, which could affect payment latency, connection stability, and gossip announcement propagation.The Lightning network is likely to follow suit and deprecate Tor v2 services, but other implementations have not yet shared their plans for Tor v2 support. At the spec level, it is suggested to advise implementations to ignore the v2 addr type in the node_announcement message's addrs section. Nodes need to start ignoring the addresses bug nodes always need to know the length/parse v2 Onion addresses forever as well as store and forward them. It could amend the spec to say that nodes shouldn’t produce them but it won’t change the receive/process end much.</p>
        <hr>
        <p><i>Updated on: 2023-06-03T04:01:42.433188+00:00</i></p>
    

    

    <footer>
        <span style="font-family: Arial, Helvetica, sans-serif;">&#10084;&#65039;</span> <a href="https://chaincode.com" target="_blank" rel="noreferrer" style="text-decoration: none; color: inherit;">Chaincode</a>
    </footer>
</body>

</html>