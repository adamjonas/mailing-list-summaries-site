<!doctype html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="Content-Type" content="text/html; charset=us-ascii">
    <title>Atom Feed Display</title>
    <link rel="stylesheet" href="../../archive_styles.css">
</head>

<body BGCOLOR="#fffffb">
    
    <h1>Multipath Keysend <span class="combined-summary">[combined summary]</span></h1>
    <hr class="solid">
    <br><b>Individual post summaries:</b>
    
        <ul>
            
                
                    <li>
                        <a href="/lightning-dev/July_2023/004032_Multipath-Keysend.html">Multipath Keysend</a>
                        <b>Matt Corallo 2023-07-29 16:37:26+00:00</b>
                    </li>
                
                    <li>
                        <a href="/lightning-dev/July_2023/004031_Multipath-Keysend.html">Multipath Keysend</a>
                        <b>Olaoluwa Osuntokun 2023-07-29 00:28:23+00:00</b>
                    </li>
                
                    <li>
                        <a href="/lightning-dev/July_2023/004030_Multipath-Keysend.html">Multipath Keysend</a>
                        <b>Matt Morehouse 2023-07-28 22:10:11+00:00</b>
                    </li>
                
                    <li>
                        <a href="/lightning-dev/July_2023/004029_Multipath-Keysend.html">Multipath Keysend</a>
                        <b>Thomas HUET 2023-07-28 10:43:34+00:00</b>
                    </li>
                
                    <li>
                        <a href="/lightning-dev/July_2023/004028_Multipath-Keysend.html">Multipath Keysend</a>
                        <b>ZmnSCPxj 2023-07-27 17:13:59+00:00</b>
                    </li>
                
            
        </ul>
        
            <a href="https://lists.linuxfoundation.org/pipermail/lightning-dev/2023-July/004032.html">Click here to read the original discussion on the lightning-dev mailing list</a>
        
        <p><i>Published on: 2023-07-29T16:37:26+00:00</i></p>
        <hr>
        <h3>Summary:</h3>
        <p>The email discusses the idea of implementing a multipath keysend protocol, which would allow for multipath payments. In this scheme, the preimage is embedded as TLV 5482373484 with a length of 32. The sender would split the keysend into multiple parts, each using the same payment hash. The receiver would only be able to claim the payment once all parts have arrived. The receiver holds the payment when it receives a part and finds that the supposed preimage does not match the actual HTLC payment hashes. When it receives another part, it XORs the supposed preimages together until it gets the correct preimage and can claim the entire funds. This scheme can work with any number of parts and even supports dynamic splitting. If a part reaches a receiver that doesn't support multipath keysend, it will error with "incorrect_or_unknown_payment_details", while an MPP-capable receiver will hold onto the incoming HTLCs until the MPP timeout and error with "mpp_timeout". The same feature bit 55 can be reused for this purpose.</p>
        <hr>
        <p><i>Updated on: 2023-08-11T15:57:07.665462+00:00</i></p>
    

    

    <footer>
        <span style="font-family: Arial, Helvetica, sans-serif;">&#10084;&#65039;</span> <a href="https://chaincode.com" target="_blank" rel="noreferrer" style="text-decoration: none; color: inherit;">Chaincode</a>
    </footer>
</body>

</html>