<!doctype html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="Content-Type" content="text/html; charset=us-ascii">
    <title>Atom Feed Display</title>
    <link rel="stylesheet" href="../../archive_styles.css">
</head>

<body BGCOLOR="#fffffb">
    
    <h1>Multipath Keysend <span class="combined-summary">[combined summary]</span></h1>
    <hr class="solid">
    <br><b>Individual post summaries:</b>
    
        <ul>
            
                
                    <li>
                        <a href="/lightning-dev/July_2023/004032_Multipath-Keysend.html">Multipath Keysend</a>
                        <b>Matt Corallo 2023-07-29 16:37:26+00:00</b>
                    </li>
                
                    <li>
                        <a href="/lightning-dev/July_2023/004029_Multipath-Keysend.html">Multipath Keysend</a>
                        <b>Thomas HUET  + 2023-07-28 10:43:34+00:00</b>
                    </li>
                
                    <li>
                        <a href="/lightning-dev/July_2023/004031_Multipath-Keysend.html">Multipath Keysend</a>
                        <b>Olaoluwa Osuntokun  + 2023-07-29 00:28:23+00:00</b>
                    </li>
                
                    <li>
                        <a href="/lightning-dev/July_2023/004030_Multipath-Keysend.html">Multipath Keysend</a>
                        <b>Matt Morehouse  + 2023-07-28 22:10:11+00:00</b>
                    </li>
                
                    <li>
                        <a href="/lightning-dev/July_2023/004028_Multipath-Keysend.html">Multipath Keysend</a>
                        <b>ZmnSCPxj  + 2023-07-27 17:13:59+00:00</b>
                    </li>
                
            
        </ul>
        
            <a href="https://lists.linuxfoundation.org/pipermail/lightning-dev/2023-July/004032.html">Click here to read the original discussion on the lightning-dev mailing list</a>
        
        <p><i>Published on: 2023-07-29T16:37:26+00:00</i></p>
        <hr>
        <h3>Summary:</h3>
        <p>The proposed scheme aims to implement a `keysend` protocol that facilitates multipath payments without the need for additional feature bits or announcements. This technique involves splitting the payment into multiple parts, with each part containing a random scalar. These random scalars are used to XOR with the scalar-to-be-split for each subsequent part. This process allows the receiver to claim the complete funds by XORing the preimages together.To extend this technique to any number of parts, the sender generates additional random scalars for the first `n-1` parts and XORs them with the scalar-to-be-split for the `n`th part. This approach also supports dynamic splitting, meaning that if a part was already split off from another part, it can still be further split.To determine if the receiver supports multipath `keysend`, the sender can check if a part reaches the receiver and results in an error with `incorrect_or_unknown_payment_details`. If the receiver supports multipath `keysend`, it will hold onto the incoming HTLCs until the MPP timeout and then error with `mpp_timeout`. Therefore, there is no need for the receiver to specifically announce support for this feature via a new feature bit. The existing feature bit 55 can be reused.In conclusion, the proposed scheme provides a simple method for implementing a `keysend` protocol that enables multipath payments without requiring additional feature bits or announcements. This approach offers flexibility in splitting payments and does not require explicit support announcement from the receiver. It is important to assess the user need before implementing this scheme, as it adds complexity to the keysend protocol. It is worth noting that the BOLT 12 specification already supports multipath payments and provides a proof of payment.</p>
        <hr>
        <p><i>Updated on: 2023-07-31T02:10:01.985625+00:00</i></p>
    

    

    <footer>
        <span style="font-family: Arial, Helvetica, sans-serif;">&#10084;&#65039;</span> <a href="https://chaincode.com" target="_blank" rel="noreferrer" style="text-decoration: none; color: inherit;">Chaincode</a>
    </footer>
</body>

</html>