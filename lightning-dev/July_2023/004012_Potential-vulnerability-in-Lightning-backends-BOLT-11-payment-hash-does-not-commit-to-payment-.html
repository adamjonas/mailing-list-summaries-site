<!doctype html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="Content-Type" content="text/html; charset=us-ascii">
    <title>Atom Feed Display</title>
    <link rel="stylesheet" href="../../archive_styles.css">
</head>

<body BGCOLOR="#fffffb">
    
    <h1>Potential vulnerability in Lightning backends: BOLT-11 &#34;payment hash&#34; does not commit to payment!</h1>
    <hr class="solid">
    
    <ul>
        
        
            <p><b>Author:</b> Martin Habov≈°tiak 2023-07-16 18:11:58+00:00
            <br><i>Published on: 2023-07-16T18:11:58+00:00</i></p>

        
        

        
        
        <li>
        <a href="/lightning-dev/July_2023/combined_Potential-vulnerability-in-Lightning-backends-BOLT-11-payment-hash-does-not-commit-to-payment-.html"> Combined Summary of all posts in thread </a>
        </li>
        
        <li>
            
                <a href="https://lists.linuxfoundation.org/pipermail/lightning-dev/2023-July/004012.html">Click here to read original discussion on the lightning-dev mailing list</a>
            
        </li>

    </ul>

    <hr>
    <h3> Summary:</h3>
    <p>The user is looking for a way to test Lightning Network Daemon (LND) app integration without setting up another instance of LND. They want to know if there is a flag or option that allows for self-payment without going through the network. Olaoluwa Osuntokun, in response, explains that LND does support paying invoices it generates and mentions the `allow_self_payment` field that can be set using the API provided. However, this still finds a circular route through the network and is commonly used for circular rebalancing.Alternatively, Olaoluwa suggests setting up another node and funding bi-lateral "trusted channels" where the funding point will never exist on the chain. This allows for paying invoices without going through the actual network route and doesn't require any external software. It also provides all the normal payment/invoice records that one would expect.Another approach mentioned by Olaoluwa is to use the `"allow-circular-route"` flag, which allows for doubling back on the same channel for the route.The user, fiatjaf, expresses their knowledge that no Lightning node currently has the ability for self-payment, which they find unfortunate. They believe that implementing this feature would be beneficial for custodial Lightning service providers.Overall, the discussion revolves around finding a way to enable self-payment of invoices generated by LND without going through the network, either by using specific flags/options or setting up trusted channels. The current consensus is that there isn't a built-in solution for self-payment, but there are workarounds available.</p>
    <hr>
    <p><i> Updated on: 2023-07-17T02:42:21.038669+00:00 </i></p>
    
    

    <footer>
        <span style="font-family: Arial, Helvetica, sans-serif;">&#10084;&#65039;</span> <a href="https://chaincode.com" target="_blank" rel="noreferrer" style="text-decoration: none; color: inherit;">Chaincode</a>
    </footer>
</body>

</html>