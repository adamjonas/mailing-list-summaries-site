<!doctype html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="Content-Type" content="text/html; charset=us-ascii">
    <title>Atom Feed Display</title>
    <link rel="stylesheet" href="../../archive_styles.css">
</head>

<body BGCOLOR="#fffffb">
    
    <h1>Equalizing Packet Size <span class="combined-summary">[combined summary]</span></h1>
    <hr class="solid">
    <br><b>Individual post summaries:</b>
    
        <ul>
            
                
                    <li>
                        <a href="/lightning-dev/July_2023/004019_Equalizing-Packet-Size.html">Equalizing Packet Size</a>
                        <b>Antoine Riard 2023-07-26 01:30:20+00:00</b>
                    </li>
                
                    <li>
                        <a href="/lightning-dev/June_2023/004000_Equalizing-Packet-Size.html">Equalizing Packet Size</a>
                        <b>ZmnSCPxj 2023-06-29 18:13:10+00:00</b>
                    </li>
                
            
        </ul>
        
            <a href="https://lists.linuxfoundation.org/pipermail/lightning-dev/2023-July/004019.html">Click here to read the original discussion on the lightning-dev mailing list</a>
        
        <p><i>Published on: 2023-07-26T01:30:20+00:00</i></p>
        <hr>
        <h3>Summary:</h3>
        <p>A potential security risk has been identified in the Lightning Network (LN) where a third-party eavesdropper can deduce the content of messages by analyzing packet sizes. To address this, it is proposed to ensure uniform packet sizes in the BOLT8 specification. The solution involves transforming the object responsible for encrypting messages into a "buffer" in addition to being a tunnel encrypter. This modified object will have entry points for sending BOLT8 messages and flushing the buffer. It will maintain an internal buffer of fixed size, transmitting it as a packet when full, ensuring uniform packet sizes. The "flush" entry point appends a `pong` message to pad the buffer until it reaches capacity. Handling overflow scenarios is also important. Incorporating the `pong` message into the stream of BOLT8 messages allows combining multiple messages into a single fixed-size packet or sequence of packets. A randomized timer can be used to trigger a self-flush operation to enhance robustness against bugs. It is recommended to match the buffer size with the packet size of `update_add_htlc` for optimal latency. These measures strengthen the security of communication between LN nodes.</p>
        <hr>
        <p><i>Updated on: 2023-08-11T15:52:24.298926+00:00</i></p>
    

    

    <footer>
        <span style="font-family: Arial, Helvetica, sans-serif;">&#10084;&#65039;</span> <a href="https://chaincode.com" target="_blank" rel="noreferrer" style="text-decoration: none; color: inherit;">Chaincode</a>
    </footer>
</body>

</html>