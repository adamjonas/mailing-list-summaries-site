<!doctype html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="Content-Type" content="text/html; charset=us-ascii">
    <title>Atom Feed Display</title>
    <link rel="stylesheet" href="../../archive_styles.css">
</head>

<body BGCOLOR="#fffffb">
    
    <h1>Potential vulnerability in Lightning backends: BOLT-11 &#34;payment hash&#34; does not commit to payment!</h1>
    <hr class="solid">
    
    <ul>
        
        
            <p><b>Author:</b> Olaoluwa Osuntokun 2023-07-16 11:32:08+00:00
            <br><i>Published on: 2023-07-16T11:32:08+00:00</i></p>

        
        

        
        
        <li>
        <a href="/lightning-dev/July_2023/combined_Potential-vulnerability-in-Lightning-backends-BOLT-11-payment-hash-does-not-commit-to-payment-.html"> Combined Summary of all posts in thread </a>
        </li>
        
        <li>
            
                <a href="https://lists.linuxfoundation.org/pipermail/lightning-dev/2023-July/004010.html">Click here to read original discussion on the lightning-dev mailing list</a>
            
        </li>

    </ul>

    <hr>
    <h3> Summary:</h3>
    <p>To pay invoices generated by lnd, you can use the API mentioned here: <a href="https://lightning.engineering/api-docs/api/lnd/router/send-payment-v2">https://lightning.engineering/api-docs/api/lnd/router/send-payment-v2</a>. This API allows you to set the `allow_self_payment` field. Although it creates a circular route through the network, it is commonly used for circular rebalancing. Alternatively, you can set up another node and fund bi-lateral "trusted channels" to enable invoice payments without involving the actual network route. These channels will never confirm on the blockchain. This method does not require any external software and provides the usual payment and invoice records. Another option is to use the `"allow-circular-route` flag, which enables double-backing on the same channel for the route.</p>
    <hr>
    <p><i> Updated on: 2023-08-11T15:49:54.325909+00:00 </i></p>
    
    

    <footer>
        <span style="font-family: Arial, Helvetica, sans-serif;">&#10084;&#65039;</span> <a href="https://chaincode.com" target="_blank" rel="noreferrer" style="text-decoration: none; color: inherit;">Chaincode</a>
    </footer>
</body>

</html>