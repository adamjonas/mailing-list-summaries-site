<!doctype html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="Content-Type" content="text/html; charset=us-ascii">
    <title>Atom Feed Display</title>
    <link rel="stylesheet" href="../../archive_styles.css">
</head>

<body BGCOLOR="#fffffb">
    
    <h1>Updated commitment design + Release thunder.network <span class="combined-summary">[combined summary]</span></h1>
    <hr class="solid">
    <br><b>Individual post summaries:</b>
    
        <ul>
            
                
                    <li>
                        <a href="/lightning-dev/June_2016/000546_Updated-commitment-design-Release-thunder-network.html">Updated commitment design + Release thunder.network</a>
                        <b>Rusty Russell 2016-06-01 06:47:33+00:00</b>
                    </li>
                
                    <li>
                        <a href="/lightning-dev/May_2016/000544_Updated-commitment-design-Release-thunder-network.html">Updated commitment design + Release thunder.network</a>
                        <b>Mats Jerratsch 2016-05-30 08:56:44+00:00</b>
                    </li>
                
                    <li>
                        <a href="/lightning-dev/May_2016/000541_Updated-commitment-design-Release-thunder-network.html">Updated commitment design + Release thunder.network</a>
                        <b>Rusty Russell 2016-05-26 06:41:20+00:00</b>
                    </li>
                
                    <li>
                        <a href="/lightning-dev/May_2016/000538_Updated-commitment-design-Release-thunder-network.html">Updated commitment design + Release thunder.network</a>
                        <b>Mats Jerratsch 2016-05-17 13:58:17+00:00</b>
                    </li>
                
            
        </ul>
        
            <a href="https://lists.linuxfoundation.org/pipermail/lightning-dev/2016-June/000546.html">Click here to read the original discussion on the lightning-dev mailing list</a>
        
        <p><i>Published on: 2016-06-01T06:47:33+00:00</i></p>
        <hr>
        <h3>Summary:</h3>
        <p>The discussion centers around the dual-tx approach and its backward compatibility in relaying payments with old setups. Nodes need to publish their HTLC time subtraction despite the revocation value being a private arrangement. Initially, the prototype used times for calculations but later switched to blocks due to complexity. Active nodes prioritize block counts, especially for tight timings. However, transacting sub-dust amounts becomes significantly more difficult using this approach as one may end up paying more than 500 satoshis for a 1 satoshi payment on-chain.To address the issue of high refund times and low revocation times, the dual-tx approach has been proposed. The basic schema involves routing each payment and refund through an intermediate 2-of-2 transaction instead of directly to their respective owners. In order to redeem a payment, one must broadcast the Redeem-TX, while for a Refund-TX, one must wait for the agreed refund time. This approach allows for separate values for revocation delay and payment timeouts. However, there are two downsides: clearing a payment on the blockchain becomes more expensive, and updating the commitment transaction requires producing and sending a new signature for each currently included payment. Despite these drawbacks, the approach remains backward compatible, allowing for the relaying of payments with the old setup, albeit with longer refund times. Payments optimized for dual-tx cannot be relayed over hops that do not support it, but the old schema can still be used for low-amount payments.Mats Jerratsch has proposed a solution to the coupling problem between revocation delay and payment timeouts using SegWit. The proposed solution involves having each payment and refund directed to an intermediate 2-of-2 transaction, securing the funds on the condition that an old commitment transaction has not been used fraudulently. This enables the setting of separate values for revocation delay and payment timeouts. However, the approach also comes with the downsides of increased expense for clearing a payment on the blockchain and the need to produce and send a new signature for each currently included payment when updating the commitment transaction. More information and the proposed solution can be found at <a href="https://github.com/blockchain/thundernetwork/releases,">https://github.com/blockchain/thundernetwork/releases,</a> as well as on the GitHub pages for Thunder Network (<a href="https://github.com/blockchain/thundernetwork)">https://github.com/blockchain/thundernetwork)</a> and Blockchain (<a href="https://blockchain.com/thunder)">https://blockchain.com/thunder)</a>. Rusty commended Mats on the idea and suggested that it deserves its own email.In summary, the Lightning Network developer has proposed a solution to address the coupling problem between revocation delay and payment timeouts using SegWit. The approach involves routing payments and refunds through an intermediate 2-of-2 transaction, allowing for separate values for revocation delay and payment timeouts. While there are drawbacks such as increased expense for clearing payments on the blockchain and the need for new signatures when updating the commitment transaction, the developer believes that this clean solution is worth the trade-offs in solving the issue of high refund times and low revocation times.</p>
        <hr>
        <p><i>Updated on: 2023-07-31T19:00:58.687734+00:00</i></p>
    

    

    <footer>
        <span style="font-family: Arial, Helvetica, sans-serif;">&#10084;&#65039;</span> <a href="https://chaincode.com" target="_blank" rel="noreferrer" style="text-decoration: none; color: inherit;">Chaincode</a>
    </footer>
</body>

</html>