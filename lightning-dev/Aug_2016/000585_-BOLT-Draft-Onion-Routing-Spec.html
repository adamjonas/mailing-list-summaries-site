<!doctype html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="Content-Type" content="text/html; charset=us-ascii">
    <title>Atom Feed Display</title>
    <link rel="stylesheet" href="../../archive_styles.css">
</head>

<body BGCOLOR="#fffffb">
    
    <h1>[BOLT Draft] Onion Routing Spec</h1>
    <hr class="solid">
    
    <ul>
        
        
            <p><b>Author:</b> Rusty Russell 2016-08-13 10:04:02
            <br><i>Published on: 2016-08-13T10:04:02+00:00</i></p>

        
        

        
        
        <li>
        <a href="/lightning-dev/Aug_2016/combined_-BOLT-Draft-Onion-Routing-Spec.html"> Combined Summary of all posts in thread </a>
        </li>
        
        <li>
            
                <a href="https://lists.linuxfoundation.org/pipermail/lightning-dev/2016-August/000585.html">Click here to read original discussion on the lightning-dev mailing list</a>
            
        </li>

    </ul>

    <hr>
    <h3> Summary:</h3>
    <p>The Lightning Network developers are discussing the format of the next-hop address within a payment onion. Rusty Russell suggests a format that includes an ephemeral key, mac, realm and per-realm-information. Olaoluwa Osuntokun thinks that the next-hop field should be an opaque blob with no explicit meaning at the specification level. Nodes on different chains can parse the address accordingly. The explicit network byte should be within the main p2p message header rather than the header for the onion blob itself. When crossing chains, nodes will properly set the net magic in the outer message header. However, some node will have to straddle two chains, so the onion needs to be explicit that this transfer to another chain is what the sender intended. Rusty suggests using HTLC-hash and HTLC-preimage (H-hash & H-preimage) for proposal 1 and committx-hash and committx-preimage (C-hash / C-preimage) for the commitment transaction revocation for proposal 2. This avoids R altogether, which is overloaded.</p>
    <hr>
    <p><i> Updated on: 2023-05-24T00:03:35.804223+00:00 </i></p>
    
    

    <footer>
        <span style="font-family: Arial, Helvetica, sans-serif;">&#10084;&#65039;</span> <a href="https://chaincode.com" target="_blank" rel="noreferrer" style="text-decoration: none; color: inherit;">Chaincode</a>
    </footer>
</body>

</html>