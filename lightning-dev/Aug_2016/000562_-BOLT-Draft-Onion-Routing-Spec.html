<!doctype html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="Content-Type" content="text/html; charset=us-ascii">
    <title>Atom Feed Display</title>
    <link rel="stylesheet" href="../../archive_styles.css">
</head>

<body BGCOLOR="#fffffb">
    
    <h1>[BOLT Draft] Onion Routing Spec</h1>
    <hr class="solid">
    
    <ul>
        
        
            <p><b>Author:</b> Rusty Russell 2016-08-05 00:52:07
            <br><i>Published on: 2016-08-05T00:52:07+00:00</i></p>

        
        

        
        
        <li>
        <a href="/lightning-dev/Aug_2016/combined_-BOLT-Draft-Onion-Routing-Spec.html"> Combined Summary of all posts in thread </a>
        </li>
        
        <li>
            
                <a href="https://lists.linuxfoundation.org/pipermail/lightning-dev/2016-August/000562.html">Click here to read original discussion on the lightning-dev mailing list</a>
            
        </li>

    </ul>

    <hr>
    <h3> Summary:</h3>
    <p>A proposal was made to combine the "header" and "per-hop payload" into a single 40-byte field since they are not meaningfully distinct for lightning. However, it was suggested that ephemeral key and mac make sense as a header, but a different next hop address format could be used for different networks. An explicit network byte makes sense since multiple networks can be eventually supported. A flag for the terminal node is needed anyway. The author proposed some terminology changes such as using HTLC-hash and HTLC-preimage instead of r-hash.An alternative approach to replay avoidance using privkeys with point addition scheme was suggested which no longer makes having two HTLCs with the same pubkey an issue. However, it is not clear how one can switch to priv/pub key-based HTLC's without modifying Bitcoin Script.</p>
    <hr>
    <p><i> Updated on: 2023-05-24T00:04:24.059426+00:00 </i></p>
    
    

    <footer>
        <span style="font-family: Arial, Helvetica, sans-serif;">&#10084;&#65039;</span> <a href="https://chaincode.com" target="_blank" rel="noreferrer" style="text-decoration: none; color: inherit;">Chaincode</a>
    </footer>
</body>

</html>