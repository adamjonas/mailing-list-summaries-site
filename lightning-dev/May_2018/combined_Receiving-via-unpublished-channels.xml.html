<!doctype html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="Content-Type" content="text/html; charset=us-ascii">
    <title>Atom Feed Display</title>
    <link rel="stylesheet" href="../../archive_styles.css">
</head>

<body BGCOLOR="#fffffb">
    
    <h1>Receiving via unpublished channels <span class="combined-summary">[combined summary]</span></h1>
    <hr class="solid">
    <br><b>Individual post summaries:</b>
    
        <ul>
            
                
                    <li>
                        <a href="/lightning-dev/May_2018/001243_Receiving-via-unpublished-channels.xml.html">Receiving via unpublished channels</a>
                        <b>ZmnSCPxj 2018-05-07 22:39:43</b>
                    </li>
                
                    <li>
                        <a href="/lightning-dev/May_2018/001257_Receiving-via-unpublished-channels.xml.html">Receiving via unpublished channels</a>
                        <b>Hiroshi UENO 2018-05-09 04:49:40</b>
                    </li>
                
                    <li>
                        <a href="/lightning-dev/May_2018/001258_Receiving-via-unpublished-channels.xml.html">Receiving via unpublished channels</a>
                        <b>ZmnSCPxj 2018-05-09 05:17:26</b>
                    </li>
                
                    <li>
                        <a href="/lightning-dev/May_2018/001248_Receiving-via-unpublished-channels.xml.html">Receiving via unpublished channels</a>
                        <b>ueno at nayuta.co 2018-05-08 06:33:53</b>
                    </li>
                
                    <li>
                        <a href="/lightning-dev/May_2018/001259_Receiving-via-unpublished-channels.xml.html">Receiving via unpublished channels</a>
                        <b>Hiroshi UENO 2018-05-09 05:55:04</b>
                    </li>
                
                    <li>
                        <a href="/lightning-dev/May_2018/001281_Receiving-via-unpublished-channels.xml.html">Receiving via unpublished channels</a>
                        <b>ZmnSCPxj 2018-05-15 14:23:06</b>
                    </li>
                
                    <li>
                        <a href="/lightning-dev/April_2018/001220_Receiving-via-unpublished-channels.xml.html">Receiving via unpublished channels</a>
                        <b>ZmnSCPxj 2018-04-26 23:35:16</b>
                    </li>
                
                    <li>
                        <a href="/lightning-dev/May_2018/001241_Receiving-via-unpublished-channels.xml.html">Receiving via unpublished channels</a>
                        <b>Olaoluwa Osuntokun 2018-05-07 19:39:43</b>
                    </li>
                
                    <li>
                        <a href="/lightning-dev/May_2018/001280_Receiving-via-unpublished-channels.xml.html">Receiving via unpublished channels</a>
                        <b>Hiroshi Ueno 2018-05-15 14:04:15</b>
                    </li>
                
                    <li>
                        <a href="/lightning-dev/May_2018/001283_Receiving-via-unpublished-channels.xml.html">Receiving via unpublished channels</a>
                        <b>Hiroshi Ueno 2018-05-15 14:54:08</b>
                    </li>
                
            
        </ul>
        
            <a href="https://lists.linuxfoundation.org/pipermail/lightning-dev/2018-May/001243.html">Click here to read the original discussion on the lightning-dev mailing list</a>
        
        <p><i>Published on: 2018-05-07T22:39:43+00:00</i></p>
        <hr>
        <h3>Summary:</h3>
        <p>During a recent discussion on the Lightning-dev mailing list, concerns were raised about creating invoices with `r` fields while implementing support for them. ZmnSCPxj pointed out that there is a problem when trying to receive payments via an unpublished channel without knowing what onLightning fees the other side of that channel wants to charge. To address this issue, an idea was proposed to send a `channel_update` as soon as the channel locks in, regardless of whether it is published or unpublished. This approach seems to be back-compatible because software that does not expect this behavior will simply drop the `channel_update`. To standardize this behavior, ZmnSCPxj asked for feedback from other Lightning Network implementations (lnd, eclair, ucoin, lit). Additionally, he asked about the intended way to get the onLightning fee rates to put into invoice `r` fields for private routes.Nayuta-ueno is currently implementing the `r` field to their node called ptarmigan and has a question about whether c-lightning checks something in the `r` field from payee's invoice. ZmnSCPxj clarified that the `r` field does not contain a signature like the `channel_update`, and the invoice has a signature for the whole invoice. Only the payee signature is needed since the fee for this channel is from the peer of the payee. The payee has an incentive to provide accurate information about the channel as payment may fail if the channel fees or CLTV-delta is not as expected.Temporary `channel_update` messages are sent after `funding_locked` has been sent by both sides or upon reconnection; however, if the channel is shutting down or has already achieved the announcement depth, then any fee updates would be pointless. C-lightning always sends the `channel_update`. Nayuta-ueno appreciated the response and intends to implement this like c-lightning to ptarmigan.Overall, the discussion focused on standardizing Lightning fees across different implementations and ensuring accurate information about channels is provided to avoid payment failure.</p>
        <hr>
        <p><i>Updated on: 2023-06-03T18:53:27.626473+00:00</i></p>
    

    

    <footer>
        <span style="font-family: Arial, Helvetica, sans-serif;">&#10084;&#65039;</span> <a href="https://chaincode.com" target="_blank" rel="noreferrer" style="text-decoration: none; color: inherit;">Chaincode</a>
    </footer>
</body>

</html>