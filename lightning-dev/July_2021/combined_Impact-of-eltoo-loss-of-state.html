<!doctype html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="Content-Type" content="text/html; charset=us-ascii">
    <title>Atom Feed Display</title>
    <link rel="stylesheet" href="../../archive_styles.css">
</head>

<body BGCOLOR="#fffffb">
    
    <h1>Impact of eltoo loss of state <span class="combined-summary">[combined summary]</span></h1>
    <hr class="solid">
    <br><b>Individual post summaries:</b>
    
        <ul>
            
                
                    <li>
                        <a href="/lightning-dev/July_2021/003141_Impact-of-eltoo-loss-of-state.html">Impact of eltoo loss of state</a>
                        <b>Jeremy 2021-07-27 18:21:48+00:00</b>
                    </li>
                
                    <li>
                        <a href="/lightning-dev/July_2021/003140_Impact-of-eltoo-loss-of-state.html">Impact of eltoo loss of state</a>
                        <b>ZmnSCPxj 2021-07-27 16:53:14+00:00</b>
                    </li>
                
                    <li>
                        <a href="/lightning-dev/July_2021/003139_Impact-of-eltoo-loss-of-state.html">Impact of eltoo loss of state</a>
                        <b>ZmnSCPxj 2021-07-27 11:44:21+00:00</b>
                    </li>
                
                    <li>
                        <a href="/lightning-dev/July_2021/003137_Impact-of-eltoo-loss-of-state.html">Impact of eltoo loss of state</a>
                        <b>Anthony Towns 2021-07-21 06:39:13+00:00</b>
                    </li>
                
                    <li>
                        <a href="/lightning-dev/July_2021/003136_Impact-of-eltoo-loss-of-state.html">Impact of eltoo loss of state</a>
                        <b>Christian Decker 2021-07-20 10:57:17+00:00</b>
                    </li>
                
                    <li>
                        <a href="/lightning-dev/July_2021/003134_Impact-of-eltoo-loss-of-state.html">Impact of eltoo loss of state</a>
                        <b>Martin Habov≈°tiak 2021-07-15 10:28:17+00:00</b>
                    </li>
                
                    <li>
                        <a href="/lightning-dev/July_2021/003133_Impact-of-eltoo-loss-of-state.html">Impact of eltoo loss of state</a>
                        <b>Christian Decker 2021-07-14 14:44:24+00:00</b>
                    </li>
                
                    <li>
                        <a href="/lightning-dev/July_2021/003131_Impact-of-eltoo-loss-of-state.html">Impact of eltoo loss of state</a>
                        <b>Jeremy 2021-07-12 22:20:41+00:00</b>
                    </li>
                
                    <li>
                        <a href="/lightning-dev/July_2021/003130_Impact-of-eltoo-loss-of-state.html">Impact of eltoo loss of state</a>
                        <b>Jeremy 2021-07-12 22:16:43+00:00</b>
                    </li>
                
                    <li>
                        <a href="/lightning-dev/July_2021/003127_Impact-of-eltoo-loss-of-state.html">Impact of eltoo loss of state</a>
                        <b>Anthony Towns 2021-07-12 08:17:49+00:00</b>
                    </li>
                
            
        </ul>
        
            <a href="https://lists.linuxfoundation.org/pipermail/lightning-dev/2021-July/003141.html">Click here to read the original discussion on the lightning-dev mailing list</a>
        
        <p><i>Published on: 2021-07-27T18:21:48+00:00</i></p>
        <hr>
        <h3>Summary:</h3>
        <p>In a discussion about the size of a resolution during a contested close scenario, a user suggests encoding the necessary state in an op_return or similar method to ensure availability of the closing transaction data. The user also proposes cooperating with a contesting party to replace the transaction with something smaller. Removing the mempool absolute fee increase rule for RBF is suggested to make the process cheaper.The article discusses the issue of forgetting state in Lightning Network and its potential consequences. To prevent obsolete state from being passed off on-chain, nodes can provide a "will remember for you" flag. A secret distance measurement can be used to locate the nearest node and contact it to remember the memento. However, the anonymous nature of client requesting data storage poses vulnerability to abuse and DDoS attacks.The discussion focuses on storing data with multiple peers using erasure coding to ensure reliable data storage while limiting the amount of data stored. The objection that forgetting some state cannot be reliably hidden is acknowledged. Barrier Escrow is proposed as a possible solution where both parties provide data before the other withholds it. Barrier Escrow services need Lightning connectivity and require payment for their service.Christian Decker and AJ discuss the safety of restoring an eltoo channel from an out-of-date backup. It is noted that loss-of-state in eltoo channels only impacts funds in a PTLC at the time of the loss. Suggestions are made to use peer-storage to deposit encrypted bundles with peers and to hide the fact that they forgot some state until the data has been exchanged.In a discussion on the Lightning-dev mailing list, Christian Decker proposes options to deal with loss-of-state on eltoo channels after node crashes. One option is to do nothing and maintain the incentive for up-to-date backups. The other option involves using peer-storage, where encrypted bundles are deposited with peers. Anthony Towns raises concerns about eltoo channels and suggests sharing state on reconnection, negotiating mutual/cooperative close, and limiting the total value of inbound PTLCs for forwarding.Anthony Towns discusses a scenario where Bob's lightning node crashes during payments in eltoo channels. He explains the challenges faced by Bob in claiming funds due to loss of state. Suggestions are made to share state on reconnection, negotiate mutual/cooperative close, and set channel state index based on real-time. It is acknowledged that layered commitments make channel factories complicated.Jeremy Rubin proposes solutions to fix the lost state issue in blockchain, such as encrypting data in an OP_RETURN or modifying scripts. These solutions ensure data availability but may result in double publishing of txdata on the chain.The context describes a scenario where payments in eltoo channels are disrupted due to a node crash. The implications of this scenario are discussed, including the inability to claim refunds and the need for negotiation of cooperative closes. Recommendations are made to share state on reconnection, limit inbound PTLCs, and prioritize mutual/cooperative closes over on-chain transactions. Layered commitments are noted as a complicating factor in channel factories.</p>
        <hr>
        <p><i>Updated on: 2023-07-31T23:35:49.246651+00:00</i></p>
    

    

    <footer>
        <span style="font-family: Arial, Helvetica, sans-serif;">&#10084;&#65039;</span> <a href="https://chaincode.com" target="_blank" rel="noreferrer" style="text-decoration: none; color: inherit;">Chaincode</a>
    </footer>
</body>

</html>