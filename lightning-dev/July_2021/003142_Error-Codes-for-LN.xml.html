<!doctype html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="Content-Type" content="text/html; charset=us-ascii">
    <title>Atom Feed Display</title>
    <link rel="stylesheet" href="../../archive_styles.css">
</head>

<body BGCOLOR="#fffffb">
    
    <h1>Error Codes for LN</h1>
    <hr class="solid">
    
    <ul>
        
        
            <p><b>Author:</b> Carla Kirk-Cohen 2021-07-28 08:25:52
            <br><i>Published on: 2021-07-28T08:25:52+00:00</i></p>

        
        

        
        
        <li>
        <a href="/lightning-dev/July_2021/combined_Error-Codes-for-LN.xml.html"> Combined Summary of all posts in thread </a>
        </li>
        
        <li>
            
                <a href="https://lists.linuxfoundation.org/pipermail/lightning-dev/2021-July/003142.html">Click here to read original discussion on the lightning-dev mailing list</a>
            
        </li>

    </ul>

    <hr>
    <h3> Summary:</h3>
    <p>In an email exchange between Rusty and Carla, they discussed the implementation of more specific error codes. They suggested adding TLV fields after the data field to achieve this and also talked about how to support nodes that have not upgraded. Rusty proposed a straw proposal which included types such as erroneous_message, erroneous_fieldnum, and suggested_value. The new error message provides an error code that tells exactly what has gone wrong, and metadata pointing to the HTLC with an invalid signature. Carla suggested adding an error_code enum where timeout is one of the cases. Rusty also proposed adding the TLV to warnings.The context then shifts to fee updates and a misguided feature bit. The author suggests that if Alice requires a feature bit which Bob doesn't offer, it is on Bob to comply. The author also notes that all issues with the exception of timeouts can be expressed in the form "problem is this message, this field" and suggests having a special TLV case for timeouts in the message. Rusty believes that the spec indicates that senders/recipients of errors `MUST` fail the channel referenced in the error, but he thinks this isn't practical. He adds that the vast majority of errors are "contact your developer, peer says we did something illegal". The email exchange also includes a link to the relevant GitHub page.</p>
    <hr>
    <p><i> Updated on: 2023-06-03T03:48:05.714082+00:00 </i></p>
    
    

    <footer>
        <span style="font-family: Arial, Helvetica, sans-serif;">&#10084;&#65039;</span> <a href="https://chaincode.com" target="_blank" rel="noreferrer" style="text-decoration: none; color: inherit;">Chaincode</a>
    </footer>
</body>

</html>