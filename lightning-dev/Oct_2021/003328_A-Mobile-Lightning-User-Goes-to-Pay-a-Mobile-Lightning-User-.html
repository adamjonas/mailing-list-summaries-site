<!doctype html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="Content-Type" content="text/html; charset=us-ascii">
    <title>Atom Feed Display</title>
    <link rel="stylesheet" href="../../archive_styles.css">
</head>

<body BGCOLOR="#fffffb">
    
    <h1>A Mobile Lightning User Goes to Pay a Mobile Lightning User...</h1>
    <hr class="solid">
    
    <ul>
        
        
            <p><b>Author:</b> Bastien TEINTURIER 2021-10-19 11:51:38
            <br><i>Published on: 2021-10-19T11:51:38+00:00</i></p>

        
        

        
        
        <li>
        <a href="/lightning-dev/Oct_2021/combined_A-Mobile-Lightning-User-Goes-to-Pay-a-Mobile-Lightning-User-.html"> Combined Summary of all posts in thread </a>
        </li>
        
        <li>
            
                <a href="https://lists.linuxfoundation.org/pipermail/lightning-dev/2021-October/003328.html">Click here to read original discussion on the lightning-dev mailing list</a>
            
        </li>

    </ul>

    <hr>
    <h3> Summary:</h3>
    <p>In this email conversation between Bastien and ZmnSCPxj via Lightning-dev, they discuss an improvement to HTLCs (Hashed Time-Locked Contracts) for payments on the Lightning Network. Bastien likes the proposal of using onion messages with notifications to get recipients online quickly. However, he notes that senders also need to come online while the payment isn't settled to avoid losing their channels. If the sender's LSP receives the preimage but the sender doesn't come online, the sender's LSP will have to force-close to claim the HTLC on-chain when it gets close to the timeout. This is not a show-stopper, but an implementation detail to keep in mind. ZmnSCPxj suggests using two hashes instead of one for every HTLC on LN, even for current "online RPi user pays online RPi user," to provide similar protection as the `payment_secret` in invoices. He proposes that the second hash be from a preimage the sender generates, which the sender sends (encrypted via onion) to the receiver. However, he acknowledges that adapting every node in the path would require informing them and handling this change, so he agrees that PTLCs (Probabilistic Payment Tokens) should be used instead.</p>
    <hr>
    <p><i> Updated on: 2023-06-03T06:23:48.690128+00:00 </i></p>
    
    

    <footer>
        <span style="font-family: Arial, Helvetica, sans-serif;">&#10084;&#65039;</span> <a href="https://chaincode.com" target="_blank" rel="noreferrer" style="text-decoration: none; color: inherit;">Chaincode</a>
    </footer>
</body>

</html>