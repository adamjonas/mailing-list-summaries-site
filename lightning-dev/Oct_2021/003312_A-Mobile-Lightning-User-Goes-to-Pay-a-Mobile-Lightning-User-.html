<!doctype html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="Content-Type" content="text/html; charset=us-ascii">
    <title>Atom Feed Display</title>
    <link rel="stylesheet" href="../../archive_styles.css">
</head>

<body BGCOLOR="#fffffb">
    
    <h1>A Mobile Lightning User Goes to Pay a Mobile Lightning User...</h1>
    <hr class="solid">
    
    <ul>
        
        
            <p><b>Author:</b> Matt Corallo 2021-10-13 16:57:57
            <br><i>Published on: 2021-10-13T16:57:57+00:00</i></p>

        
        

        
        
        <li>
        <a href="/lightning-dev/Oct_2021/combined_A-Mobile-Lightning-User-Goes-to-Pay-a-Mobile-Lightning-User-.html"> Combined Summary of all posts in thread </a>
        </li>
        
        <li>
            
                <a href="https://lists.linuxfoundation.org/pipermail/lightning-dev/2021-October/003312.html">Click here to read original discussion on the lightning-dev mailing list</a>
            
        </li>

    </ul>

    <hr>
    <h3> Summary:</h3>
    <p>In a recent conversation, ZmnSCPxj suggested using PTLCs as an obvious solution for adding random nonce to the PTLC payments. By doing so, the sender and lnurl endpoint would need to collude to steal the funds. However, ZmnSCPxj was looking for suggestions that could fix this issue without using PTLCs. Matt suggested using two hashes in an HTLC instead of one, where the second hash is from a preimage the sender generates and sends (encrypted via onion) to the receiver. This method could also replace payment_secret in invoices and provide similar protection against forwarding nodes probing. Matt also pointed out that every hop along the path would need to be informed about this construction and adapted to handle it. Therefore, if every node in the path needs to be adapted, then using PTLCs might be a better option.</p>
    <hr>
    <p><i> Updated on: 2023-05-23T16:40:06.905728+00:00 </i></p>
    
    

    <footer>
        <span style="font-family: Arial, Helvetica, sans-serif;">&#10084;&#65039;</span> <a href="https://chaincode.com" target="_blank" rel="noreferrer" style="text-decoration: none; color: inherit;">Chaincode</a>
    </footer>
</body>

</html>