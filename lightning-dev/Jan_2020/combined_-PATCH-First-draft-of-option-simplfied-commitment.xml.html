<!doctype html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="Content-Type" content="text/html; charset=us-ascii">
    <title>Atom Feed Display</title>
    <link rel="stylesheet" href="../../archive_styles.css">
</head>

<body BGCOLOR="#fffffb">
    
    <h1>[PATCH] First draft of option_simplfied_commitment <span class="combined-summary">[combined summary]</span></h1>
    <hr class="solid">
    <br><b>Individual post summaries:</b>
    
        <ul>
            
                
                    <li>
                        <a href="/lightning-dev/Jan_2020/002449_-PATCH-First-draft-of-option-simplfied-commitment.xml.html">[PATCH] First draft of option_simplfied_commitment</a>
                        <b>Joost Jager 2020-01-22 07:41:26</b>
                    </li>
                
                    <li>
                        <a href="/lightning-dev/Nov_2018/001643_-PATCH-First-draft-of-option-simplfied-commitment.xml.html">[PATCH] First draft of option_simplfied_commitment</a>
                        <b>Rusty Russell 2018-11-21 02:17:17</b>
                    </li>
                
                    <li>
                        <a href="/lightning-dev/Nov_2018/001644_-PATCH-First-draft-of-option-simplfied-commitment.xml.html">[PATCH] First draft of option_simplfied_commitment</a>
                        <b>Matt Corallo 2018-11-21 02:54:18</b>
                    </li>
                
                    <li>
                        <a href="/lightning-dev/Nov_2018/001647_-PATCH-First-draft-of-option-simplfied-commitment.xml.html">[PATCH] First draft of option_simplfied_commitment</a>
                        <b>Matt Corallo 2018-11-21 17:55:33</b>
                    </li>
                
                    <li>
                        <a href="/lightning-dev/Nov_2018/001665_-PATCH-First-draft-of-option-simplfied-commitment.xml.html">[PATCH] First draft of option_simplfied_commitment</a>
                        <b>David A. Harding 2018-11-25 18:47:17</b>
                    </li>
                
                    <li>
                        <a href="/lightning-dev/Nov_2018/001667_-PATCH-First-draft-of-option-simplfied-commitment.xml.html">[PATCH] First draft of option_simplfied_commitment</a>
                        <b>Matt Corallo 2018-11-25 19:09:25</b>
                    </li>
                
                    <li>
                        <a href="/lightning-dev/Nov_2019/002338_-PATCH-First-draft-of-option-simplfied-commitment.xml.html">[PATCH] First draft of option_simplfied_commitment</a>
                        <b>Matt Corallo 2019-11-19 18:53:01</b>
                    </li>
                
                    <li>
                        <a href="/lightning-dev/Nov_2019/002319_-PATCH-First-draft-of-option-simplfied-commitment.xml.html">[PATCH] First draft of option_simplfied_commitment</a>
                        <b>Rusty Russell 2019-11-12 01:06:20</b>
                    </li>
                
                    <li>
                        <a href="/lightning-dev/Nov_2019/002334_-PATCH-First-draft-of-option-simplfied-commitment.xml.html">[PATCH] First draft of option_simplfied_commitment</a>
                        <b>Matt Corallo 2019-11-16 05:46:26</b>
                    </li>
                
                    <li>
                        <a href="/lightning-dev/Oct_2019/002264_-PATCH-First-draft-of-option-simplfied-commitment.xml.html">[PATCH] First draft of option_simplfied_commitment</a>
                        <b>Joost Jager 2019-10-30 13:03:55</b>
                    </li>
                
                    <li>
                        <a href="/lightning-dev/Oct_2019/002266_-PATCH-First-draft-of-option-simplfied-commitment.xml.html">[PATCH] First draft of option_simplfied_commitment</a>
                        <b>Matt Corallo 2019-10-30 16:08:41</b>
                    </li>
                
                    <li>
                        <a href="/lightning-dev/Oct_2019/002269_-PATCH-First-draft-of-option-simplfied-commitment.xml.html">[PATCH] First draft of option_simplfied_commitment</a>
                        <b>Joost Jager 2019-10-31 11:34:48</b>
                    </li>
                
                    <li>
                        <a href="/lightning-dev/Nov_2019/002274_-PATCH-First-draft-of-option-simplfied-commitment.xml.html">[PATCH] First draft of option_simplfied_commitment</a>
                        <b>David A. Harding 2019-11-04 22:41:57</b>
                    </li>
                
                    <li>
                        <a href="/lightning-dev/Oct_2019/002262_-PATCH-First-draft-of-option-simplfied-commitment.xml.html">[PATCH] First draft of option_simplfied_commitment</a>
                        <b>Rusty Russell 2019-10-30 10:04:04</b>
                    </li>
                
                    <li>
                        <a href="/lightning-dev/Oct_2019/002267_-PATCH-First-draft-of-option-simplfied-commitment.xml.html">[PATCH] First draft of option_simplfied_commitment</a>
                        <b>Matt Corallo 2019-10-30 16:21:43</b>
                    </li>
                
                    <li>
                        <a href="/lightning-dev/Oct_2019/002270_-PATCH-First-draft-of-option-simplfied-commitment.xml.html">[PATCH] First draft of option_simplfied_commitment</a>
                        <b>Rusty Russell 2019-10-31 00:17:56</b>
                    </li>
                
                    <li>
                        <a href="/lightning-dev/Nov_2018/001666_-PATCH-First-draft-of-option-simplfied-commitment.xml.html">[PATCH] First draft of option_simplfied_commitment</a>
                        <b>Matt Corallo 2018-11-25 19:02:55</b>
                    </li>
                
                    <li>
                        <a href="/lightning-dev/Nov_2018/001656_-PATCH-First-draft-of-option-simplfied-commitment.xml.html">[PATCH] First draft of option_simplfied_commitment</a>
                        <b>Rusty Russell 2018-11-22 05:12:54</b>
                    </li>
                
                    <li>
                        <a href="/lightning-dev/Nov_2019/002337_-PATCH-First-draft-of-option-simplfied-commitment.xml.html">[PATCH] First draft of option_simplfied_commitment</a>
                        <b>Joost Jager 2019-11-19 13:46:23</b>
                    </li>
                
                    <li>
                        <a href="/lightning-dev/Oct_2019/002249_-PATCH-First-draft-of-option-simplfied-commitment.xml.html">[PATCH] First draft of option_simplfied_commitment</a>
                        <b>Joost Jager 2019-10-26 07:19:43</b>
                    </li>
                
                    <li>
                        <a href="/lightning-dev/Oct_2019/002250_-PATCH-First-draft-of-option-simplfied-commitment.xml.html">[PATCH] First draft of option_simplfied_commitment</a>
                        <b>Joost Jager 2019-10-26 20:28:38</b>
                    </li>
                
                    <li>
                        <a href="/lightning-dev/Nov_2018/001651_-PATCH-First-draft-of-option-simplfied-commitment.xml.html">[PATCH] First draft of option_simplfied_commitment</a>
                        <b>Rusty Russell 2018-11-21 22:45:23</b>
                    </li>
                
                    <li>
                        <a href="/lightning-dev/Nov_2018/001654_-PATCH-First-draft-of-option-simplfied-commitment.xml.html">[PATCH] First draft of option_simplfied_commitment</a>
                        <b>Matt Corallo 2018-11-22 02:20:16</b>
                    </li>
                
                    <li>
                        <a href="/lightning-dev/Nov_2018/001668_-PATCH-First-draft-of-option-simplfied-commitment.xml.html">[PATCH] First draft of option_simplfied_commitment</a>
                        <b>Rusty Russell 2018-11-26 03:12:30</b>
                    </li>
                
                    <li>
                        <a href="/lightning-dev/Nov_2018/001695_-PATCH-First-draft-of-option-simplfied-commitment.xml.html">[PATCH] First draft of option_simplfied_commitment</a>
                        <b>Matt Corallo 2018-11-29 17:13:44</b>
                    </li>
                
                    <li>
                        <a href="/lightning-dev/Nov_2019/002287_-PATCH-First-draft-of-option-simplfied-commitment.xml.html">[PATCH] First draft of option_simplfied_commitment</a>
                        <b>Rusty Russell 2019-11-06 00:48:25</b>
                    </li>
                
                    <li>
                        <a href="/lightning-dev/Nov_2019/002297_-PATCH-First-draft-of-option-simplfied-commitment.xml.html">[PATCH] First draft of option_simplfied_commitment</a>
                        <b>Joost Jager 2019-11-07 14:33:00</b>
                    </li>
                
                    <li>
                        <a href="/lightning-dev/Nov_2019/002329_-PATCH-First-draft-of-option-simplfied-commitment.xml.html">[PATCH] First draft of option_simplfied_commitment</a>
                        <b>Joost Jager 2019-11-14 09:56:05</b>
                    </li>
                
                    <li>
                        <a href="/lightning-dev/Nov_2019/002336_-PATCH-First-draft-of-option-simplfied-commitment.xml.html">[PATCH] First draft of option_simplfied_commitment</a>
                        <b>David A. Harding 2019-11-14 23:43:50</b>
                    </li>
                
            
        </ul>
        
            <a href="https://lists.linuxfoundation.org/pipermail/lightning-dev/2020-January/002449.html">Click here to read the original discussion on the lightning-dev mailing list</a>
        
        <p><i>Published on: 2020-01-22T07:41:26+00:00</i></p>
        <hr>
        <h3>Summary:</h3>
        <p>The Lightning Network is a protocol that enables off-chain transactions between two parties through payment channels. The commitment transaction is an essential part of this process, and there are specific rules for its management. One of these rules is the negotiation of transaction fees between nodes. The development team is working on implementing the RBF policy hack from Adelaide to ensure that the carve-out exception is always available for the honest party when broadcasting a commitment transaction.To simplify commitment transactions and reduce costs, the `option_simplified_commitment` was introduced. However, certain rules must still be followed when sending or receiving amounts in a channel. For example, not offering more than what can be paid for in the remote commitment transaction at the current `feerate_per_kw`, while maintaining channel reserve. Additionally, outputs are sorted into BIP 69 order.To update fees, an `update_fee` message is sent by the node responsible for paying the Bitcoin fee. If `option_simplified_commitment` applies to the commitment transaction, then `update_fee` is never used. However, if the commitment transaction does not use this option, the node should send `update_fee` to ensure the current fee rate is sufficient.The Lightning Network developers are considering several changes to Bitcoin's rules for commitment transactions, including adding CSV time locks to every non-anchor output to prevent utxo set pollution. They are also discussing the implementation of anchor outputs, allowing each party to have their own anchor output, locking funds in a multi-sig address. However, concerns were raised about insufficient fees leading to stuck channels and the possibility of `dustRelayFee` changing in the future, making the hard-coded 294 sat anchors risky for opening new channels. Suggestions include reusing `dust_limit_satoshis` or adding a new `anchor_msat` field in the opening messages.Matt Corallo suggested simplifying timelocking by appending `1 OP_CHECKSEQUENCEVERIFY OP_DROP` to the start of each script. The Lightning Network developers are also considering a new commitment format for Lightning network channels, with the proposal of using a single "to_self_delay" value opposed by some parties who wanted flexibility and distinct values.In conclusion, the Lightning Network protocol has specific rules for channel management and commitment transactions. Developers are constantly working on improving the network's efficiency and scalability while ensuring security and reducing costs. Suggestions include reusing fields and creating negotiable output amounts to adapt to changes in fee rates.</p>
        <hr>
        <p><i>Updated on: 2023-06-03T20:25:00.669321+00:00</i></p>
    

    

    <footer>
        <span style="font-family: Arial, Helvetica, sans-serif;">&#10084;&#65039;</span> <a href="https://chaincode.com" target="_blank" rel="noreferrer" style="text-decoration: none; color: inherit;">Chaincode</a>
    </footer>
</body>

</html>