<!doctype html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="Content-Type" content="text/html; charset=us-ascii">
    <title>Atom Feed Display</title>
    <link rel="stylesheet" href="../../archive_styles.css">
</head>

<body BGCOLOR="#fffffb">
    
    <h1>[BOLT Draft] Onion Routing Spec</h1>
    <hr class="solid">
    
    <ul>
        
        
            <p><b>Author:</b> Olaoluwa Osuntokun 2016-09-09 23:52:41
            <br><i>Published on: 2016-09-09T23:52:41+00:00</i></p>

        
        

        <li>
        <a href="/lightning-dev/Sept_2016/combined_-BOLT-Draft-Onion-Routing-Spec.xml.html"> Combined Summary of all posts in thread </a>
        </li>
        <li>
            
                <a href="https://lists.linuxfoundation.org/pipermail/lightning-dev/2016-September/000609.html">Click here to read original discussion on the lightning-dev mailing list</a>
            
        </li>

    </ul>

    <hr>
    <h3> Summary:</h3>
    <p>Rusty Russell suggests that using blocknum+txnum to identify a channel doesn't account for the possibility of a single transaction which opens multiple channels concurrently. The use case for such a transaction are coin-joined channel openings which obfuscate the relationships being creating with a channel opening. To encode the output index of the channel within the transaction, an extra byte (maybe two) needs to be added. Identifying channels based solely from blockheight+offsets conjures up some re-org safety concerns.The proofs are larger: to prove which IDs owns a channel, each one needs a merkle proof (12 x 32 bytes) plus the funding tx (227 bytes, we can skip some though), the two pubkeys (66 bytes), and a signature of the ID using those pubkeys (128 bytes, schnorr would be 64?). Using schnorr multi-signature generated by the four pubkeys would remedy the possibility of non-canonical graphs resulting in differing network views.Christian Decker suggests having passive rotations when an endpoint announces a channel's existence it also sends its rotation interval along. This is superior due to the bandwidth savings of pushing the onion key rotations to the edges themselves. An active rotation might be used in the emergency case of a forced key rotation due to key compromise.Rusty Russell suggests involving some pairing crypto (IBE style) to allow nodes to passively derive keys the "source" node is able to generate the corresponding private key to regain forward secrecy in the case of such a private key leak. He suggests stating the security model/assumptions clearly to reason about the attack scenarios that need to be guarded against.</p>
    <hr>
    <p><i> Updated on: 2023-05-18T16:49:57.684215+00:00 </i></p>
    
    

    <footer>
        <span style="font-family: Arial, Helvetica, sans-serif;">&#10084;&#65039;</span> <a href="https://chaincode.com" target="_blank" rel="noreferrer" style="text-decoration: none; color: inherit;">Chaincode</a>
    </footer>
</body>

</html>