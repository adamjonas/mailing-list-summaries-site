<!doctype html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="Content-Type" content="text/html; charset=us-ascii">
    <title>Atom Feed Display</title>
    <link rel="stylesheet" href="../../archive_styles.css">
</head>

<body BGCOLOR="#fffffb">
    
    <h1>[BOLT Draft] Onion Routing Spec <span class="combined-summary">[combined summary]</span></h1>
    <hr class="solid">
    <br><b>Individual post summaries:</b>
    
        <ul>
            
                
                    <li>
                        <a href="/lightning-dev/July_2016/000556_-BOLT-Draft-Onion-Routing-Spec.xml.html">[BOLT Draft] Onion Routing Spec</a>
                        <b>Christian Decker 2016-07-25 16:23:15</b>
                    </li>
                
                    <li>
                        <a href="/lightning-dev/Aug_2016/000591_-BOLT-Draft-Onion-Routing-Spec.xml.html">[BOLT Draft] Onion Routing Spec</a>
                        <b>Christian Decker 2016-08-16 08:10:57</b>
                    </li>
                
                    <li>
                        <a href="/lightning-dev/Aug_2016/000592_-BOLT-Draft-Onion-Routing-Spec.xml.html">[BOLT Draft] Onion Routing Spec</a>
                        <b>Rusty Russell 2016-08-17 10:23:03</b>
                    </li>
                
                    <li>
                        <a href="/lightning-dev/Aug_2016/000562_-BOLT-Draft-Onion-Routing-Spec.xml.html">[BOLT Draft] Onion Routing Spec</a>
                        <b>Rusty Russell 2016-08-05 00:52:07</b>
                    </li>
                
                    <li>
                        <a href="/lightning-dev/Aug_2016/000580_-BOLT-Draft-Onion-Routing-Spec.xml.html">[BOLT Draft] Onion Routing Spec</a>
                        <b>Olaoluwa Osuntokun 2016-08-12 17:59:33</b>
                    </li>
                
                    <li>
                        <a href="/lightning-dev/Aug_2016/000581_-BOLT-Draft-Onion-Routing-Spec.xml.html">[BOLT Draft] Onion Routing Spec</a>
                        <b>Olaoluwa Osuntokun 2016-08-12 18:00:34</b>
                    </li>
                
                    <li>
                        <a href="/lightning-dev/Oct_2016/000625_-BOLT-Draft-Onion-Routing-Spec.xml.html">[BOLT Draft] Onion Routing Spec</a>
                        <b>Olaoluwa Osuntokun 2016-10-03 17:21:35</b>
                    </li>
                
                    <li>
                        <a href="/lightning-dev/Oct_2016/000626_-BOLT-Draft-Onion-Routing-Spec.xml.html">[BOLT Draft] Onion Routing Spec</a>
                        <b>Christian Decker 2016-10-03 21:34:57</b>
                    </li>
                
                    <li>
                        <a href="/lightning-dev/Oct_2016/000640_-BOLT-Draft-Onion-Routing-Spec.xml.html">[BOLT Draft] Onion Routing Spec</a>
                        <b>Rusty Russell 2016-10-24 03:59:10</b>
                    </li>
                
                    <li>
                        <a href="/lightning-dev/Sept_2016/000603_-BOLT-Draft-Onion-Routing-Spec.xml.html">[BOLT Draft] Onion Routing Spec</a>
                        <b>Olaoluwa Osuntokun 2016-09-05 19:24:11</b>
                    </li>
                
                    <li>
                        <a href="/lightning-dev/Sept_2016/000607_-BOLT-Draft-Onion-Routing-Spec.xml.html">[BOLT Draft] Onion Routing Spec</a>
                        <b>Christian Decker 2016-09-06 11:27:01</b>
                    </li>
                
                    <li>
                        <a href="/lightning-dev/Sept_2016/000608_-BOLT-Draft-Onion-Routing-Spec.xml.html">[BOLT Draft] Onion Routing Spec</a>
                        <b>Rusty Russell 2016-09-07 01:27:47</b>
                    </li>
                
                    <li>
                        <a href="/lightning-dev/Sept_2016/000622_-BOLT-Draft-Onion-Routing-Spec.xml.html">[BOLT Draft] Onion Routing Spec</a>
                        <b>Rusty Russell 2016-09-27 01:47:44</b>
                    </li>
                
                    <li>
                        <a href="/lightning-dev/Oct_2016/000636_-BOLT-Draft-Onion-Routing-Spec.xml.html">[BOLT Draft] Onion Routing Spec</a>
                        <b>Christian Decker 2016-10-20 13:40:47</b>
                    </li>
                
                    <li>
                        <a href="/lightning-dev/Oct_2016/000638_-BOLT-Draft-Onion-Routing-Spec.xml.html">[BOLT Draft] Onion Routing Spec</a>
                        <b>Christian Decker 2016-10-21 08:30:59</b>
                    </li>
                
                    <li>
                        <a href="/lightning-dev/Sept_2016/000601_-BOLT-Draft-Onion-Routing-Spec.xml.html">[BOLT Draft] Onion Routing Spec</a>
                        <b>Christian Decker 2016-09-02 12:08:22</b>
                    </li>
                
                    <li>
                        <a href="/lightning-dev/Sept_2016/000604_-BOLT-Draft-Onion-Routing-Spec.xml.html">[BOLT Draft] Onion Routing Spec</a>
                        <b>Rusty Russell 2016-09-05 02:25:22</b>
                    </li>
                
                    <li>
                        <a href="/lightning-dev/Sept_2016/000609_-BOLT-Draft-Onion-Routing-Spec.xml.html">[BOLT Draft] Onion Routing Spec</a>
                        <b>Olaoluwa Osuntokun 2016-09-09 23:52:41</b>
                    </li>
                
                    <li>
                        <a href="/lightning-dev/Aug_2016/000558_-BOLT-Draft-Onion-Routing-Spec.xml.html">[BOLT Draft] Onion Routing Spec</a>
                        <b>Rusty Russell 2016-08-02 04:25:44</b>
                    </li>
                
                    <li>
                        <a href="/lightning-dev/Aug_2016/000560_-BOLT-Draft-Onion-Routing-Spec.xml.html">[BOLT Draft] Onion Routing Spec</a>
                        <b>Olaoluwa Osuntokun 2016-08-04 18:47:34</b>
                    </li>
                
                    <li>
                        <a href="/lightning-dev/Aug_2016/000561_-BOLT-Draft-Onion-Routing-Spec.xml.html">[BOLT Draft] Onion Routing Spec</a>
                        <b>Christian Decker 2016-08-04 17:05:04</b>
                    </li>
                
                    <li>
                        <a href="/lightning-dev/Aug_2016/000587_-BOLT-Draft-Onion-Routing-Spec.xml.html">[BOLT Draft] Onion Routing Spec</a>
                        <b>Christian Decker 2016-08-15 12:18:35</b>
                    </li>
                
                    <li>
                        <a href="/lightning-dev/Aug_2016/000589_-BOLT-Draft-Onion-Routing-Spec.xml.html">[BOLT Draft] Onion Routing Spec</a>
                        <b>Olaoluwa Osuntokun 2016-08-16 04:54:28</b>
                    </li>
                
                    <li>
                        <a href="/lightning-dev/Aug_2016/000590_-BOLT-Draft-Onion-Routing-Spec.xml.html">[BOLT Draft] Onion Routing Spec</a>
                        <b>Olaoluwa Osuntokun 2016-08-16 04:54:32</b>
                    </li>
                
                    <li>
                        <a href="/lightning-dev/Aug_2016/000594_-BOLT-Draft-Onion-Routing-Spec.xml.html">[BOLT Draft] Onion Routing Spec</a>
                        <b>Christian Decker 2016-08-18 09:06:22</b>
                    </li>
                
                    <li>
                        <a href="/lightning-dev/Aug_2016/000595_-BOLT-Draft-Onion-Routing-Spec.xml.html">[BOLT Draft] Onion Routing Spec</a>
                        <b>Rusty Russell 2016-08-19 00:56:31</b>
                    </li>
                
                    <li>
                        <a href="/lightning-dev/Aug_2016/000598_-BOLT-Draft-Onion-Routing-Spec.xml.html">[BOLT Draft] Onion Routing Spec</a>
                        <b>Olaoluwa Osuntokun 2016-08-20 20:32:19</b>
                    </li>
                
                    <li>
                        <a href="/lightning-dev/Aug_2016/000599_-BOLT-Draft-Onion-Routing-Spec.xml.html">[BOLT Draft] Onion Routing Spec</a>
                        <b>Rusty Russell 2016-08-21 20:45:06</b>
                    </li>
                
                    <li>
                        <a href="/lightning-dev/Aug_2016/000559_-BOLT-Draft-Onion-Routing-Spec.xml.html">[BOLT Draft] Onion Routing Spec</a>
                        <b>Olaoluwa Osuntokun 2016-08-04 18:24:25</b>
                    </li>
                
                    <li>
                        <a href="/lightning-dev/Aug_2016/000563_-BOLT-Draft-Onion-Routing-Spec.xml.html">[BOLT Draft] Onion Routing Spec</a>
                        <b>Rusty Russell 2016-08-05 04:00:54</b>
                    </li>
                
                    <li>
                        <a href="/lightning-dev/Aug_2016/000564_-BOLT-Draft-Onion-Routing-Spec.xml.html">[BOLT Draft] Onion Routing Spec</a>
                        <b>Christian Decker 2016-08-08 12:27:39</b>
                    </li>
                
                    <li>
                        <a href="/lightning-dev/July_2016/000557_-BOLT-Draft-Onion-Routing-Spec.xml.html">[BOLT Draft] Onion Routing Spec</a>
                        <b>Olaoluwa Osuntokun 2016-07-27 18:13:55</b>
                    </li>
                
                    <li>
                        <a href="/lightning-dev/Aug_2016/000585_-BOLT-Draft-Onion-Routing-Spec.xml.html">[BOLT Draft] Onion Routing Spec</a>
                        <b>Rusty Russell 2016-08-13 10:04:02</b>
                    </li>
                
                    <li>
                        <a href="/lightning-dev/Aug_2016/000586_-BOLT-Draft-Onion-Routing-Spec.xml.html">[BOLT Draft] Onion Routing Spec</a>
                        <b>Christian Decker 2016-08-15 12:06:47</b>
                    </li>
                
                    <li>
                        <a href="/lightning-dev/Aug_2016/000597_-BOLT-Draft-Onion-Routing-Spec.xml.html">[BOLT Draft] Onion Routing Spec</a>
                        <b>Joseph Poon 2016-08-19 18:36:47</b>
                    </li>
                
                    <li>
                        <a href="/lightning-dev/Aug_2016/000600_-BOLT-Draft-Onion-Routing-Spec.xml.html">[BOLT Draft] Onion Routing Spec</a>
                        <b>Olaoluwa Osuntokun 2016-08-22 19:47:56</b>
                    </li>
                
                    <li>
                        <a href="/lightning-dev/Oct_2016/000637_-BOLT-Draft-Onion-Routing-Spec.xml.html">[BOLT Draft] Onion Routing Spec</a>
                        <b>Olaoluwa Osuntokun 2016-10-20 22:26:07</b>
                    </li>
                
            
        </ul>
        
            <a href="https://lists.linuxfoundation.org/pipermail/lightning-dev/2016-July/000556.html">Click here to read the original discussion on the lightning-dev mailing list</a>
        
        <p><i>Published on: 2016-07-25T16:23:15+00:00</i></p>
        <hr>
        <h3>Summary:</h3>
        <p>Developers are working on implementing Sphinx for the Lightning Network protocol, which would include various key-generation and stream generation algorithms. The implementation would also add a per-hop payload to give instructions to individual hops on how many coins to forward to the next hop. In discussions about the onion routing protocol, developers identified key rotation as a pressing issue. They suggested using a "comms" key for each node instead of its ID, which would require another 33 bytes per node or 8.25MB. Rusty Russell suggests having passive rotations where an endpoint announces a channel's existence and sends its rotation interval along. Developers also discuss including the payment hash in the MAC check of the header and propose that it should be a parameter to the packet processing/creation function.In another email exchange, developers discussed the issue of guesswork in transferring cryptocurrencies and agreed that there should be a requirement for the amount to be pre-negotiated by the sender and recipient to avoid errors, which could lead to theft by prior hops. The developers are working towards a cleaner and simpler solution to the issues surrounding the Lightning Network protocol, including key rotation, shared secret storage, and ambiguity in transferring funds between different chains with the same identifiers. They discussed the tradeoff between small packets and uniform size, proposing the use of bucketizing sizes to address this. A proposal was put forward for using an HD Onion Key approach to increase the robustness of onion routing within the network, with a discussion on enabling intermediate nodes to reply to a packet. Additionally, a new implementation of the Sphinx routing protocol was proposed, with a per-hop payload that can be used to give instructions to individual hops. During a discussion on updating the Lightning Network specification, Christian Decker mentioned that they have dropped the end-to-end payload from the specification and kept the shared secret backlog for now. They discussed committing the routing information to the payment hash which was deemed awkward since it would increase the per-hop payload size which is expensive to do. They envisioned that the payment hash would be a parameter to the packet processing/creation function and would be concatenated to the material being authenticated similar to the "associated data" in AEAD cipher modes.</p>
        <hr>
        <p><i>Updated on: 2023-06-02T00:40:21.772317+00:00</i></p>
    

    

    <footer>
        <span style="font-family: Arial, Helvetica, sans-serif;">&#10084;&#65039;</span> <a href="https://chaincode.com" target="_blank" rel="noreferrer" style="text-decoration: none; color: inherit;">Chaincode</a>
    </footer>
</body>

</html>