<!doctype html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="Content-Type" content="text/html; charset=us-ascii">
    <title>Atom Feed Display</title>
    <link rel="stylesheet" href="../../archive_styles.css">
</head>

<body BGCOLOR="#fffffb">
    
    <h1>Atomic payment to multiple parties, and payment amount obfuscation <span class="combined-summary">[combined summary]</span></h1>
    <hr class="solid">
    <br><b>Individual post summaries:</b>
    
        <ul>
            
                
                    <li>
                        <a href="/lightning-dev/Sept_2016/000624_Atomic-payment-to-multiple-parties-and-payment-amount-obfuscation.xml.html">Atomic payment to multiple parties, and payment amount obfuscation</a>
                        <b>CJP 2016-09-27 18:01:35</b>
                    </li>
                
                    <li>
                        <a href="/lightning-dev/Sept_2016/000619_Atomic-payment-to-multiple-parties-and-payment-amount-obfuscation.xml.html">Atomic payment to multiple parties, and payment amount obfuscation</a>
                        <b>CJP 2016-09-23 06:15:42</b>
                    </li>
                
                    <li>
                        <a href="/lightning-dev/Sept_2016/000621_Atomic-payment-to-multiple-parties-and-payment-amount-obfuscation.xml.html">Atomic payment to multiple parties, and payment amount obfuscation</a>
                        <b>Rusty Russell 2016-09-27 02:03:03</b>
                    </li>
                
            
        </ul>
        
            <a href="https://lists.linuxfoundation.org/pipermail/lightning-dev/2016-September/000624.html">Click here to read the original discussion on the lightning-dev mailing list</a>
        
        <p><i>Published on: 2016-09-27T18:01:35+00:00</i></p>
        <hr>
        <h3>Summary:</h3>
        <p>Rusty Russell, a developer, discussed the out-of-band distribution of pre-image and its potential risks via email exchange. He gave two examples in which there was no risk involved. He argued that the out-of-band distribution of pre-image is even desirable as it helps to commit the transaction on channels if one of the intermediate nodes blocks regular distribution. This way, the node on the payee-side can enforce being paid by the HTLC mechanism, and the node on the payer-side doesn't mind not having to pay but can still pay voluntarily. However, if there is no out-of-band distribution of the pre-image, one blocking node can potentially keep all HTLCs on his payer-side locked for quite some time. Rusty Russell also talked about Amiko Pay where payer->payee distribution is added next to payee->payer distribution.Furthermore, he highlighted a possible risk in the case where someone pays $4 in fees to C via B. In this scenario, B can simply use the H-preimage it gets from A to fulfill the HTLC A offered, gaining $4 and ignoring C. However, if C somehow gets the pre-image out-of-band, it can claim the $5 from B and then B can get its $1 from C. The risk for B is that C will wait until the C->B HTLC has expired, then use the B->C HTLC to collect $5, leaving B out-of-pocket. Nonetheless, Rusty Russell argued that this game happens for normal fees too, especially since we don't know if two apparently-distinct nodes are actually identical.The author of the message suggested that with source routing and explicit fee payment, it is possible to atomically pay multiple parties by designating all but one recipient as intermediate parties in the route and paying them a high transaction fee. The payment amount can be kept obfuscated by making the sender the final recipient. The author states that this approach is not complicated and has not been previously realized.</p>
        <hr>
        <p><i>Updated on: 2023-06-02T00:54:03.552527+00:00</i></p>
    

    

    <footer>
        <span style="font-family: Arial, Helvetica, sans-serif;">&#10084;&#65039;</span> <a href="https://chaincode.com" target="_blank" rel="noreferrer" style="text-decoration: none; color: inherit;">Chaincode</a>
    </footer>
</body>

</html>