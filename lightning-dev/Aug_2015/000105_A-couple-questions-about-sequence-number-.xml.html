<!doctype html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="Content-Type" content="text/html; charset=us-ascii">
    <title>Atom Feed Display</title>
    <link rel="stylesheet" href="../../archive_styles.css">
</head>

<body BGCOLOR="#fffffb">
    
    <h1>A couple questions about sequence number:</h1>
    <hr class="solid">
    
    <ul>
        
        
            <p><b>Author:</b> Mark Friedenbach 2015-08-10 15:58:36
            <br><i>Published on: 2015-08-10T15:58:36+00:00</i></p>

        
        

        
        
        <li>
        <a href="/lightning-dev/Aug_2015/combined_A-couple-questions-about-sequence-number-.xml.html"> Combined Summary of all posts in thread </a>
        </li>
        
        <li>
            
                <a href="https://lists.linuxfoundation.org/pipermail/lightning-dev/2015-August/000105.html">Click here to read original discussion on the lightning-dev mailing list</a>
            
        </li>

    </ul>

    <hr>
    <h3> Summary:</h3>
    <p>In a discussion on the Lightning-dev mailing list, a clarification was made regarding the use of sequence numbers in the Lightning Network implementation by Rusty. BIP 68 is used to specify a new consensus rule that allows the sequence number field to mandate a required minimum age for each input, achieving a relative lock-time. This means that Lightning uses relative lock-times rather than an increment-on-each-transaction sequence number in the traditional sense. The sequence number field can be used to achieve a confirmation delay of a certain number of blocks after its parent block. For instance, if you want a script pathway to only take effect 30 days after confirmation of the parent, you can set the sequence number of the spending transaction (the child) to be equal to MAX_INT - 4320 (=144*30). In bidirectional payment channels, this value is incremented or decremented each time the payment channel switches direction, regardless of the number of off-chain transactions that have elapsed in between. Jeremy Rubin raised two questions regarding the use of sequence numbers in Lightning. Firstly, he asked about race conditions and how they are addressed with respect to blockchain height. Secondly, he questioned how using sequence numbers to select the right transaction to include could leak information about the number of LN transactions that took place, potentially making it meterable by external parties such as miners.</p>
    <hr>
    <p><i> Updated on: 2023-05-23T19:06:21.575639+00:00 </i></p>
    
    

    <footer>
        <span style="font-family: Arial, Helvetica, sans-serif;">&#10084;&#65039;</span> <a href="https://chaincode.com" target="_blank" rel="noreferrer" style="text-decoration: none; color: inherit;">Chaincode</a>
    </footer>
</body>

</html>