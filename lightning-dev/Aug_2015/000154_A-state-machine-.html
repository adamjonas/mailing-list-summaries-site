<!doctype html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="Content-Type" content="text/html; charset=us-ascii">
    <title>Atom Feed Display</title>
    <link rel="stylesheet" href="../../archive_styles.css">
</head>

<body BGCOLOR="#fffffb">
    
    <h1>A state machine.</h1>
    <hr class="solid">
    
    <ul>
        
        
            <p><b>Author:</b> Pierre 2015-08-28 16:55:31
            <br><i>Published on: 2015-08-28T16:55:31+00:00</i></p>

        
        

        
        
        <li>
        <a href="/lightning-dev/Aug_2015/combined_A-state-machine-.html"> Combined Summary of all posts in thread </a>
        </li>
        
        <li>
            
                <a href="https://lists.linuxfoundation.org/pipermail/lightning-dev/2015-August/000154.html">Click here to read original discussion on the lightning-dev mailing list</a>
            
        </li>

    </ul>

    <hr>
    <h3> Summary:</h3>
    <p>The lightning network channel has several states and transitions, as described by Rusty Russell's text flowchart. The states include INIT_NOANCHOR, PKT_OPEN_COMMIT_SIG, PKT_UPDATE_ADD_HTLC, PKT_UPDATE_COMPLETE_HTLC, and CMD_SEND_HTLC_UPDATE. These states are grouped into four categories: WAIT_FOR_HTLC_ACCEPT_LOWPRIO, WAIT_FOR_HTLC_ACCEPT_HIGHPRIO, WAIT_FOR_UPDATE_ACCEPT_LOWPRIO, and WAIT_FOR_UPDATE_COMPLETE_LOWPRIO.Normal closing of the channel is described with three states: WAIT_FOR_CLOSE_COMPLETE, WAIT_FOR_CLOSE_ACK, and CLOSE_WAIT_CLOSE. Each state can have different transitions based on various packets and commands received. However, weird close states such as steal transactions or unilateral close have their own set of states and transitions.In addition to the states and transitions within the lightning network channel, there are also events and transitions related to Bitcoin transactions. These events are labeled with statuses such as WAIT, STEAL, SPEND_THEIRS, CLOSE, OURCOMMIT, or ANCHOR. Transitions involve BITCOIN_SPEND_THEIRS_DONE and ultimately lead to the status CLOSED. Other transitions involve BITCOIN_STEAL_DONE and BITCOIN_CLOSE_DONE. There are also transitions involving BITCOIN_ANCHOR, leading to different statuses depending on the type of anchor.Overall, the lightning network channel and Bitcoin transactions form a complex network of actions and statuses that require careful monitoring and management.</p>
    <hr>
    <p><i> Updated on: 2023-05-23T19:52:59.591695+00:00 </i></p>
    
    

    <footer>
        <span style="font-family: Arial, Helvetica, sans-serif;">&#10084;&#65039;</span> <a href="https://chaincode.com" target="_blank" rel="noreferrer" style="text-decoration: none; color: inherit;">Chaincode</a>
    </footer>
</body>

</html>