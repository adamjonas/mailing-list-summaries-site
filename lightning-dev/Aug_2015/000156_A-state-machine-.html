<!doctype html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="Content-Type" content="text/html; charset=us-ascii">
    <title>Atom Feed Display</title>
    <link rel="stylesheet" href="../../archive_styles.css">
</head>

<body BGCOLOR="#fffffb">
    
    <h1>A state machine.</h1>
    <hr class="solid">
    
    <ul>
        
        
            <p><b>Author:</b> Anthony Towns 2015-08-29 07:42:39
            <br><i>Published on: 2015-08-29T07:42:39+00:00</i></p>

        
        

        
        
        <li>
        <a href="/lightning-dev/Aug_2015/combined_A-state-machine-.html"> Combined Summary of all posts in thread </a>
        </li>
        
        <li>
            
                <a href="https://lists.linuxfoundation.org/pipermail/lightning-dev/2015-August/000156.html">Click here to read original discussion on the lightning-dev mailing list</a>
            
        </li>

    </ul>

    <hr>
    <h3> Summary:</h3>
    <p>In this context, Rusty Russell is discussing the state diagram for the Lightning Network. He focuses on the different INIT states and suggests that the graph should follow the protocol steps to simplify it. Russell also proposes an update to allow multiple HTLCs at once and what it would look like in the protocol. He suggests modifying PKT_UPDATE_COMPLETE_HTLC by having some go to WAIT_FOR_UPDATE_ACCEPT instead of WAIT_FOR_HTLC_ACCEPT so that declining is forbidden. Russell finds the PRIO stuff cumbersome and suggests a constant tiebreak or having high priority given to whoever last went from WAIT_FOR_UPDATE_SIG -> NORMAL. He brings up a potential deadlock issue and proposes having a "timeout waiting for message -> retry/close channel" for most of the non-NORMAL states. Lastly, Russell proposes adding a PKT_REBALANCE_VIA_BLOCKCHAIN option and provides a diagram of how it would work.</p>
    <hr>
    <p><i> Updated on: 2023-05-18T00:34:54.478363+00:00 </i></p>
    
    

    <footer>
        <span style="font-family: Arial, Helvetica, sans-serif;">&#10084;&#65039;</span> <a href="https://chaincode.com" target="_blank" rel="noreferrer" style="text-decoration: none; color: inherit;">Chaincode</a>
    </footer>
</body>

</html>