<!doctype html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="Content-Type" content="text/html; charset=us-ascii">
    <title>Atom Feed Display</title>
    <link rel="stylesheet" href="../../archive_styles.css">
</head>

<body BGCOLOR="#fffffb">
    
    <h1>A couple questions about sequence number: <span class="combined-summary">[combined summary]</span></h1>
    <hr class="solid">
    <br><b>Individual post summaries:</b>
    
        <ul>
            
                
                    <li>
                        <a href="/lightning-dev/Aug_2015/000104_A-couple-questions-about-sequence-number-.xml.html">A couple questions about sequence number:</a>
                        <b>Jeremy Rubin 2015-08-10 15:03:56</b>
                    </li>
                
                    <li>
                        <a href="/lightning-dev/Aug_2015/000108_A-couple-questions-about-sequence-number-.xml.html">A couple questions about sequence number:</a>
                        <b>Adam Back 2015-08-10 19:08:38</b>
                    </li>
                
                    <li>
                        <a href="/lightning-dev/Aug_2015/000107_A-couple-questions-about-sequence-number-.xml.html">A couple questions about sequence number:</a>
                        <b>Jeremy Rubin 2015-08-10 18:09:33</b>
                    </li>
                
                    <li>
                        <a href="/lightning-dev/Aug_2015/000105_A-couple-questions-about-sequence-number-.xml.html">A couple questions about sequence number:</a>
                        <b>Mark Friedenbach 2015-08-10 15:58:36</b>
                    </li>
                
                    <li>
                        <a href="/lightning-dev/Aug_2015/000106_A-couple-questions-about-sequence-number-.xml.html">A couple questions about sequence number:</a>
                        <b>Jorge Timón 2015-08-10 18:04:27</b>
                    </li>
                
            
        </ul>
        
            <a href="https://lists.linuxfoundation.org/pipermail/lightning-dev/2015-August/000104.html">Click here to read the original discussion on the lightning-dev mailing list</a>
        
        <p><i>Published on: 2015-08-10T15:03:56+00:00</i></p>
        <hr>
        <h3>Summary:</h3>
        <p>The Lightning Network, a payment channel protocol built on top of Bitcoin, uses sequence numbers to achieve relative lock-time. This enables channels to stay open indefinitely through rebalancing of funds and prevents them from expiring. It does this by mandating a required minimum age for each input using the sequence number field of the transaction format. For example, a script pathway can take effect 30 days after confirmation of the parent if the sequence number of the spending transaction is equal to MAX_INT - 4320 (= 144 * 30).Jeremy Rubin raised two concerns about the use of sequence numbers in Lightning. Firstly, he questioned how race conditions are addressed regarding blockchain height. Secondly, he pointed out that using sequence numbers to select the right transaction to include could leak information about the number of LN transactions that took place. This could potentially make it meterable by external parties such as miners. He suggested incrementing by a random amount to alleviate reliable metering.In response, Mark Friedenbach clarified that BIP 68 specifies a new consensus rule allowing the sequence number field to mandate a required minimum age for each input. This allows Lightning to use relative lock-times and avoid an increment-on-each-transaction sequence number in the traditional sense. Jorge Timón suggested renaming nSequence to nMaturity and "check sequence verify" to "verify input maturity" to simplify documentation. However, he acknowledged that this may not be the appropriate thread to repeat this.</p>
        <hr>
        <p><i>Updated on: 2023-06-03T15:14:07.425278+00:00</i></p>
    

    

    <footer>
        <span style="font-family: Arial, Helvetica, sans-serif;">&#10084;&#65039;</span> <a href="https://chaincode.com" target="_blank" rel="noreferrer" style="text-decoration: none; color: inherit;">Chaincode</a>
    </footer>
</body>

</html>