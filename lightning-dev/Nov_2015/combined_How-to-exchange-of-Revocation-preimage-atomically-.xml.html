<!doctype html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="Content-Type" content="text/html; charset=us-ascii">
    <title>Atom Feed Display</title>
    <link rel="stylesheet" href="../../archive_styles.css">
</head>

<body BGCOLOR="#fffffb">
    
    <h1>How to exchange of Revocation preimage atomically ? <span class="combined-summary">[combined summary]</span></h1>
    <hr class="solid">
    <br><b>Individual post summaries:</b>
    
        <ul>
            
                
                    <li>
                        <a href="/lightning-dev/Nov_2015/000334_How-to-exchange-of-Revocation-preimage-atomically-.xml.html">How to exchange of Revocation preimage atomically ?</a>
                        <b>Nicolas Dorier 2015-11-24 02:36:20</b>
                    </li>
                
                    <li>
                        <a href="/lightning-dev/Nov_2015/000335_How-to-exchange-of-Revocation-preimage-atomically-.xml.html">How to exchange of Revocation preimage atomically ?</a>
                        <b>Tadge Dryja 2015-11-24 03:14:16</b>
                    </li>
                
                    <li>
                        <a href="/lightning-dev/Nov_2015/000336_How-to-exchange-of-Revocation-preimage-atomically-.xml.html">How to exchange of Revocation preimage atomically ?</a>
                        <b>Rusty Russell 2015-11-24 03:55:04</b>
                    </li>
                
            
        </ul>
        
            <a href="https://lists.linuxfoundation.org/pipermail/lightning-dev/2015-November/000334.html">Click here to read the original discussion on the lightning-dev mailing list</a>
        
        <p><i>Published on: 2015-11-24T02:36:20+00:00</i></p>
        <hr>
        <h3>Summary:</h3>
        <p>During a discussion about the Lightning Network and BIP 112, Nicolas Dorier brought up an issue with HLTC that he believed could potentially be exploited. He noted that if both parties wanted to revoke a commitment, they needed to exchange the revocation preimage. However, if this was not done atomically, Alice could intentionally withhold her revocation and prevent Bob from withdrawing his funds. The process involves exchanging new commit tx signatures followed by the revocation of old commit tx. If Alice fails to perform the second step, Bob still has the new commit tx he can drop on the blockchain.Tadge, in response to Dorier's concern, explained that there was no actual attack possible as every update of a channel state has an initiator. In the case where Alice sends more coin to Bob, Alice signs new state, sends half signed tx to Bob, Bob signs new state, sends half signed tx to Alice. Alice revokes old state by sending preimage to Bob. Bob revokes old state by sending preimage to Alice. The user initiating the channel state change goes first, and in this case, it would be the payer. While Rusty provided a solution to the vulnerability, it was noted that Bob did not have much motivation to fail to revoke with Alice as doing so would leave the channel in an indeterminate state, which would be worse for him than a fully determined state where he has more money.</p>
        <hr>
        <p><i>Updated on: 2023-06-02T00:04:23.508780+00:00</i></p>
    

    

    <footer>
        <span style="font-family: Arial, Helvetica, sans-serif;">&#10084;&#65039;</span> <a href="https://chaincode.com" target="_blank" rel="noreferrer" style="text-decoration: none; color: inherit;">Chaincode</a>
    </footer>
</body>

</html>