<!doctype html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="Content-Type" content="text/html; charset=us-ascii">
    <title>Atom Feed Display</title>
    <link rel="stylesheet" href="../../archive_styles.css">
</head>

<body BGCOLOR="#fffffb">
    
    <h1>CPFP Carve-Out for Fee-Prediction Issues in Contracting Applications (eg Lightning) <span class="combined-summary">[combined summary]</span></h1>
    <hr class="solid">
    <br><b>Individual post summaries:</b>
    
        <ul>
            
                
                    <li>
                        <a href="/lightning-dev/Dec_2018/001703_CPFP-Carve-Out-for-Fee-Prediction-Issues-in-Contracting-Applications-eg-Lightning-.xml.html">CPFP Carve-Out for Fee-Prediction Issues in Contracting Applications (eg Lightning)</a>
                        <b>Bob McElrath 2018-12-02 15:08:39</b>
                    </li>
                
                    <li>
                        <a href="/lightning-dev/Oct_2019/002242_CPFP-Carve-Out-for-Fee-Prediction-Issues-in-Contracting-Applications-eg-Lightning-.xml.html">CPFP Carve-Out for Fee-Prediction Issues in Contracting Applications (eg Lightning)</a>
                        <b>Matt Corallo 2019-10-24 21:25:14</b>
                    </li>
                
                    <li>
                        <a href="/lightning-dev/Oct_2019/002255_CPFP-Carve-Out-for-Fee-Prediction-Issues-in-Contracting-Applications-eg-Lightning-.xml.html">CPFP Carve-Out for Fee-Prediction Issues in Contracting Applications (eg Lightning)</a>
                        <b>Johan Torås Halseth 2019-10-28 09:45:39</b>
                    </li>
                
                    <li>
                        <a href="/lightning-dev/Oct_2019/002261_CPFP-Carve-Out-for-Fee-Prediction-Issues-in-Contracting-Applications-eg-Lightning-.xml.html">CPFP Carve-Out for Fee-Prediction Issues in Contracting Applications (eg Lightning)</a>
                        <b>Johan Torås Halseth 2019-10-30 07:22:53</b>
                    </li>
                
                    <li>
                        <a href="/lightning-dev/Feb_2019/001868_CPFP-Carve-Out-for-Fee-Prediction-Issues-in-Contracting-Applications-eg-Lightning-.xml.html">CPFP Carve-Out for Fee-Prediction Issues in Contracting Applications (eg Lightning)</a>
                        <b>Rusty Russell 2019-02-13 04:22:39</b>
                    </li>
                
                    <li>
                        <a href="/lightning-dev/Jan_2019/001805_CPFP-Carve-Out-for-Fee-Prediction-Issues-in-Contracting-Applications-eg-Lightning-.xml.html">CPFP Carve-Out for Fee-Prediction Issues in Contracting Applications (eg Lightning)</a>
                        <b>Rusty Russell 2019-01-08 05:50:20</b>
                    </li>
                
                    <li>
                        <a href="/lightning-dev/Oct_2019/002243_CPFP-Carve-Out-for-Fee-Prediction-Issues-in-Contracting-Applications-eg-Lightning-.xml.html">CPFP Carve-Out for Fee-Prediction Issues in Contracting Applications (eg Lightning)</a>
                        <b>Johan Torås Halseth 2019-10-25 07:05:15</b>
                    </li>
                
                    <li>
                        <a href="/lightning-dev/Oct_2019/002251_CPFP-Carve-Out-for-Fee-Prediction-Issues-in-Contracting-Applications-eg-Lightning-.xml.html">CPFP Carve-Out for Fee-Prediction Issues in Contracting Applications (eg Lightning)</a>
                        <b>Jeremy 2019-10-27 19:13:09</b>
                    </li>
                
                    <li>
                        <a href="/lightning-dev/Oct_2019/002252_CPFP-Carve-Out-for-Fee-Prediction-Issues-in-Contracting-Applications-eg-Lightning-.xml.html">CPFP Carve-Out for Fee-Prediction Issues in Contracting Applications (eg Lightning)</a>
                        <b>David A. Harding 2019-10-27 22:54:02</b>
                    </li>
                
                    <li>
                        <a href="/lightning-dev/Nov_2018/001697_CPFP-Carve-Out-for-Fee-Prediction-Issues-in-Contracting-Applications-eg-Lightning-.xml.html">CPFP Carve-Out for Fee-Prediction Issues in Contracting Applications (eg Lightning)</a>
                        <b>Matt Corallo 2018-11-29 19:37:54</b>
                    </li>
                
                    <li>
                        <a href="/lightning-dev/Oct_2019/002240_CPFP-Carve-Out-for-Fee-Prediction-Issues-in-Contracting-Applications-eg-Lightning-.xml.html">CPFP Carve-Out for Fee-Prediction Issues in Contracting Applications (eg Lightning)</a>
                        <b>Johan Torås Halseth 2019-10-24 13:49:09</b>
                    </li>
                
                    <li>
                        <a href="/lightning-dev/Oct_2019/002248_CPFP-Carve-Out-for-Fee-Prediction-Issues-in-Contracting-Applications-eg-Lightning-.xml.html">CPFP Carve-Out for Fee-Prediction Issues in Contracting Applications (eg Lightning)</a>
                        <b>Matt Corallo 2019-10-25 17:30:41</b>
                    </li>
                
                    <li>
                        <a href="/lightning-dev/Oct_2019/002256_CPFP-Carve-Out-for-Fee-Prediction-Issues-in-Contracting-Applications-eg-Lightning-.xml.html">CPFP Carve-Out for Fee-Prediction Issues in Contracting Applications (eg Lightning)</a>
                        <b>David A. Harding 2019-10-28 17:14:38</b>
                    </li>
                
                    <li>
                        <a href="/lightning-dev/Dec_2018/001710_CPFP-Carve-Out-for-Fee-Prediction-Issues-in-Contracting-Applications-eg-Lightning-.xml.html">CPFP Carve-Out for Fee-Prediction Issues in Contracting Applications (eg Lightning)</a>
                        <b>Rusty Russell 2018-12-04 03:33:53</b>
                    </li>
                
                    <li>
                        <a href="/lightning-dev/Jan_2019/001801_CPFP-Carve-Out-for-Fee-Prediction-Issues-in-Contracting-Applications-eg-Lightning-.xml.html">CPFP Carve-Out for Fee-Prediction Issues in Contracting Applications (eg Lightning)</a>
                        <b>Matt Corallo 2019-01-07 15:18:52</b>
                    </li>
                
                    <li>
                        <a href="/lightning-dev/Jan_2019/001809_CPFP-Carve-Out-for-Fee-Prediction-Issues-in-Contracting-Applications-eg-Lightning-.xml.html">CPFP Carve-Out for Fee-Prediction Issues in Contracting Applications (eg Lightning)</a>
                        <b>Matt Corallo 2019-01-08 14:46:45</b>
                    </li>
                
            
        </ul>
        
            <a href="https://lists.linuxfoundation.org/pipermail/lightning-dev/2018-December/001703.html">Click here to read the original discussion on the lightning-dev mailing list</a>
        
        <p><i>Published on: 2018-12-02T15:08:39+00:00</i></p>
        <hr>
        <h3>Summary:</h3>
        <p>The recent release candidate for Bitcoind 0.19 includes a carve-out rule that allows for more robust Child Pays for Parent (CPFP) of Lightning commitment transactions. However, there are concerns about potential spamming issues and the need to mark unilateral close transactions. The discussion also touches on relaxing the Carve-Out rule for on-chain contracts, which requires at least one non-CSV output per party. Johan Torås Halseth suggests changing the rule to allow for more robust CPFP by requiring only that the last transaction in a package of dependent transactions has no more than one unconfirmed parent.An alternative proposal involves allowing transactors to mark their transactions as "likely-to-be-RBF'ed," which could enable a relay policy where children of such transactions would be rejected unless the resulting package would be "near the top of the mempool." This proposal is somewhat of a hack, but it is a hack on the boundary condition where packages meet local anti-DoS rules in violation of the "incentive compatible" goal anyway. Giving up the ability to RBF/CPFP more than once in case the fee moves away from us seems to be a rather significant restriction. The package relay is another issue that needs to be addressed.In this email conversation between Rusty Russell and Matt Corallo, they discuss an alternative proposal for Bitcoin's Replace-By-Fee (RBF) protocol. Russell argues that the proposal does not guarantee the ability to RBF as fees change, which still leaves room for an attacker to manipulate the system. Corallo suggests that the current "near the top of the mempool" criteria is not sufficient for Lightning Network's needs and instead requires certainty that a transaction will confirm by a certain deadline. Russell disagrees with this and argues that his proposed criteria, "in the first 4 MSipa", i.e. next block, would be more incentive-compatible than the current scheme. However, Russell acknowledges that block time variance makes this criteria unreliable. They also discuss potential attacks against the proposed system and agree that simplicity should be a determining factor in implementation.</p>
        <hr>
        <p><i>Updated on: 2023-06-02T15:36:17.136349+00:00</i></p>
    

    

    <footer>
        <span style="font-family: Arial, Helvetica, sans-serif;">&#10084;&#65039;</span> <a href="https://chaincode.com" target="_blank" rel="noreferrer" style="text-decoration: none; color: inherit;">Chaincode</a>
    </footer>
</body>

</html>