<!doctype html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="Content-Type" content="text/html; charset=us-ascii">
    <title>Atom Feed Display</title>
    <link rel="stylesheet" href="../../archive_styles.css">
</head>

<body BGCOLOR="#fffffb">
    
    <h1>Offline Lightning-enabled Vending Machines <span class="combined-summary">[combined summary]</span></h1>
    <hr class="solid">
    <br><b>Individual post summaries:</b>
    
        <ul>
            
                
                    <li>
                        <a href="/lightning-dev/Nov_2018/001579_Offline-Lightning-enabled-Vending-Machines.xml.html">Offline Lightning-enabled Vending Machines</a>
                        <b>ZmnSCPxj 2018-11-13 12:52:56</b>
                    </li>
                
                    <li>
                        <a href="/lightning-dev/Nov_2018/001688_Offline-Lightning-enabled-Vending-Machines.xml.html">Offline Lightning-enabled Vending Machines</a>
                        <b>ZmnSCPxj 2018-11-28 05:51:37</b>
                    </li>
                
            
        </ul>
        
            <a href="https://lists.linuxfoundation.org/pipermail/lightning-dev/2018-November/001579.html">Click here to read the original discussion on the lightning-dev mailing list</a>
        
        <p><i>Published on: 2018-11-13T12:52:56+00:00</i></p>
        <hr>
        <h3>Summary:</h3>
        <p>During a summit, one of the participants solved an actual application problem for vending machines without secret keys. The owner of the machine has a Lightning node to receive payments. The solution involves each vending machine containing a fixed number of hashes with invoice signatures corresponding to each hash. Each hash has a 1-bit flag initially set to 0 that changes to 1 when claimed. When a customer requests to purchase a product, the machine generates the invoice and gives it to the customer, who pays as normal. The machine owner node receives payment and releases the preimage as proof-of-payment. The customer gives the preimage to the machine via QR code or radio technology like Bluetooth or NFC. The machine checks the preimage, computes its hash, and checks if it is in the list of hashes. If so, and the claim flag is not set, it sets the flag and releases the product. The open problem with this solution is that if product release fails due to mechanical failure, there is no way to easily refund the payment. To replenish the supply of product, the supply of hashes can be replenished by the owner of the vending machine. ZmnSCPxj then suggests an extension of this idea called the meta-vending machine. A meta-vending machine contains several machine-lockable boxes, each initially empty but visible. A seller rents one of these boxes by paying the meta-vending machine owner. The box requests the seller's invoice. Later, a buyer passes by the meta-vending machine, sees the product and decides to purchase it. The meta-vending machine provides the invoice, opens the box, and lets the buyer get the product in exchange for the preimage to the hash in the invoice. If the product is not sold, the seller can provide the preimage and get their product back. The meta-vending machine provides an HTLC-like behavior in the real world, extending the ZKCP by one hop into real-world items. However, trust is needed in the meta-vending machine owner as they can unlock any arbitrary box and take the item inside. Hence, the practical maximum value of items sold via such a machine may be limited by the owner's trustworthiness.</p>
        <hr>
        <p><i>Updated on: 2023-05-25T16:57:16.894786+00:00</i></p>
    

    

    <footer>
        <span style="font-family: Arial, Helvetica, sans-serif;">&#10084;&#65039;</span> <a href="https://chaincode.com" target="_blank" rel="noreferrer" style="text-decoration: none; color: inherit;">Chaincode</a>
    </footer>
</body>

</html>