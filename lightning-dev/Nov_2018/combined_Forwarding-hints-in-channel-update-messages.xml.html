<!doctype html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="Content-Type" content="text/html; charset=us-ascii">
    <title>Atom Feed Display</title>
    <link rel="stylesheet" href="../../archive_styles.css">
</head>

<body BGCOLOR="#fffffb">
    
    <h1>Forwarding hints in channel update messages <span class="combined-summary">[combined summary]</span></h1>
    <hr class="solid">
    <br><b>Individual post summaries:</b>
    
        <ul>
            
                
                    <li>
                        <a href="/lightning-dev/Nov_2018/001610_Forwarding-hints-in-channel-update-messages.xml.html">Forwarding hints in channel update messages</a>
                        <b>Joost Jager 2018-11-15 12:37:49</b>
                    </li>
                
                    <li>
                        <a href="/lightning-dev/Nov_2018/001593_Forwarding-hints-in-channel-update-messages.xml.html">Forwarding hints in channel update messages</a>
                        <b>Joost Jager 2018-11-14 08:17:14</b>
                    </li>
                
                    <li>
                        <a href="/lightning-dev/Nov_2018/001637_Forwarding-hints-in-channel-update-messages.xml.html">Forwarding hints in channel update messages</a>
                        <b>Rusty Russell 2018-11-20 00:09:16</b>
                    </li>
                
                    <li>
                        <a href="/lightning-dev/Nov_2018/001601_Forwarding-hints-in-channel-update-messages.xml.html">Forwarding hints in channel update messages</a>
                        <b>Rusty Russell 2018-11-14 20:31:10</b>
                    </li>
                
            
        </ul>
        
            <a href="https://lists.linuxfoundation.org/pipermail/lightning-dev/2018-November/001610.html">Click here to read the original discussion on the lightning-dev mailing list</a>
        
        <p><i>Published on: 2018-11-15T12:37:49+00:00</i></p>
        <hr>
        <h3>Summary:</h3>
        <p>The Lightning Network has been updated to allow for extra channel_updates in error messages for "upselling" purposes. However, the usefulness of this update for non-strict forwarding nodes is questionable. Joost Jager proposed an alternative idea for improving non-strict forwarding, which involves repurposing the `channel_update` message as a 'forwarding hint' in case of failed non-strict forwarding. The intermediate node would iterate over all its channels to the next hop and determine the 'best' channel to use from the sender's point of view based on a trade-off between minimum fee and time lock delta. The hinted policy of the best channel is then returned to the sender as a forwarding hint instead of the requested channel. This proposal would give senders more certainty about the parameters that lead to successful forwarding and likely reduce payment attempts to complete the payment. However, Joost notes that senders should not blindly apply the new policy to a route as an intermediate node may try to maximize its earning by handing out 'expensive' forwarding hints. To implement this proposal, no onion packet changes are required, and an intermediate node could advertise that it provides forwarding hints through a global feature bit, but that is optional.Rusty Russell commented that sending a channel_update in certain cases may not actually be helpful, and questioned why anyone would choose to take an offer at a higher feerate or longer timeout rather than just taking the offer in front of them. The value clearly used to be acceptable, and now people risk others routing around them. Despite this, the decision was made to allow additional channel_updates in errors for “upselling”. Overall, the Lightning Network protocol has been updated to make improvements in non-strict forwarding, and there are differing opinions on the best way to achieve this. While the extra channel_updates may not be useful in all cases, the proposal to use forwarding hints as suggested by Joost Jager could potentially lead to more successful payment attempts and greater certainty for senders.</p>
        <hr>
        <p><i>Updated on: 2023-06-02T04:33:40.532976+00:00</i></p>
    

    

    <footer>
        <span style="font-family: Arial, Helvetica, sans-serif;">&#10084;&#65039;</span> <a href="https://chaincode.com" target="_blank" rel="noreferrer" style="text-decoration: none; color: inherit;">Chaincode</a>
    </footer>
</body>

</html>