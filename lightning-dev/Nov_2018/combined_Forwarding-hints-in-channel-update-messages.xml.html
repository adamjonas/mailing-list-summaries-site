<!doctype html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="Content-Type" content="text/html; charset=us-ascii">
    <title>Atom Feed Display</title>
    <link rel="stylesheet" href="../../archive_styles.css">
</head>

<body BGCOLOR="#fffffb">
    
    <h1>Forwarding hints in channel update messages <span class="combined-summary">[combined summary]</span></h1>
    <hr class="solid">
    <br><b>Individual post summaries:</b>
    
        <ul>
            
                
                    <li>
                        <a href="/lightning-dev/Nov_2018/001637_Forwarding-hints-in-channel-update-messages.xml.html">Forwarding hints in channel update messages</a>
                        <b>Rusty Russell 2018-11-20 00:09:16</b>
                    </li>
                
                    <li>
                        <a href="/lightning-dev/Nov_2018/001601_Forwarding-hints-in-channel-update-messages.xml.html">Forwarding hints in channel update messages</a>
                        <b>Rusty Russell 2018-11-14 20:31:10</b>
                    </li>
                
                    <li>
                        <a href="/lightning-dev/Nov_2018/001610_Forwarding-hints-in-channel-update-messages.xml.html">Forwarding hints in channel update messages</a>
                        <b>Joost Jager 2018-11-15 12:37:49</b>
                    </li>
                
                    <li>
                        <a href="/lightning-dev/Nov_2018/001593_Forwarding-hints-in-channel-update-messages.xml.html">Forwarding hints in channel update messages</a>
                        <b>Joost Jager 2018-11-14 08:17:14</b>
                    </li>
                
            
        </ul>
        
            <a href="https://lists.linuxfoundation.org/pipermail/lightning-dev/2018-November/001637.html">Click here to read the original discussion on the lightning-dev mailing list</a>
        
        <p><i>Published on: 2018-11-20T00:09:16+00:00</i></p>
        <hr>
        <h3>Summary:</h3>
        <p>The Lightning Network protocol has been updated to allow additional channel_updates in error messages for "upselling". This enables a node to indicate that there are alternate channels which could be used instead at a higher fee rate. The decision was made to allow extra channel_updates in errors for “upselling”, and it was further suggested that non-strict forwarding could be communicated as a global feature bit rather than through forwarding hints. However, this was considered a deeply weird case by Rusty Russell, who questioned the usefulness of sending a channel_update in certain cases.Joost Jager proposed an idea for improving non-strict forwarding, which involves repurposing the `channel_update` message as a 'forwarding hint' in case of failed non-strict forwarding. When forwarding fails, the intermediate node would iterate over all its channels to the next hop and determine the 'best' channel to use from the sender's point of view based on a trade-off between minimum fee and time lock delta. The hinted policy of the best channel is then returned to the sender as a forwarding hint instead of the requested channel. This proposal would give senders more certainty about the parameters that lead to successful forwarding and likely reduce payment attempts to complete the payment. However, Joost notes that senders should not blindly apply the new policy to a route as an intermediate node may try to maximize its earning by handing out 'expensive' forwarding hints. The sender should also be aware that if something changes at the intermediate node, the hint may not be valid anymore. To implement this proposal, no onion packet changes are required, and an intermediate node could advertise that it provides forwarding hints through a global feature bit, but that is optional.</p>
        <hr>
        <p><i>Updated on: 2023-06-03T20:18:21.966532+00:00</i></p>
    

    

    <footer>
        <span style="font-family: Arial, Helvetica, sans-serif;">&#10084;&#65039;</span> <a href="https://chaincode.com" target="_blank" rel="noreferrer" style="text-decoration: none; color: inherit;">Chaincode</a>
    </footer>
</body>

</html>