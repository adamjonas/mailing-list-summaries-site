<!doctype html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="Content-Type" content="text/html; charset=us-ascii">
    <title>Atom Feed Display</title>
    <link rel="stylesheet" href="../../archive_styles.css">
</head>

<body BGCOLOR="#fffffb">
    
    <h1>Offline Lightning-enabled Vending Machines <span class="combined-summary">[combined summary]</span></h1>
    <hr class="solid">
    <br><b>Individual post summaries:</b>
    
        <ul>
            
                
                    <li>
                        <a href="/lightning-dev/Nov_2018/001688_Offline-Lightning-enabled-Vending-Machines.html">Offline Lightning-enabled Vending Machines</a>
                        <b>ZmnSCPxj 2018-11-28 05:51:37+00:00</b>
                    </li>
                
                    <li>
                        <a href="/lightning-dev/Nov_2018/001579_Offline-Lightning-enabled-Vending-Machines.html">Offline Lightning-enabled Vending Machines</a>
                        <b>ZmnSCPxj 2018-11-13 12:52:56+00:00</b>
                    </li>
                
            
        </ul>
        
            <a href="https://lists.linuxfoundation.org/pipermail/lightning-dev/2018-November/001688.html">Click here to read the original discussion on the lightning-dev mailing list</a>
        
        <p><i>Published on: 2018-11-28T05:51:37+00:00</i></p>
        <hr>
        <h3>Summary:</h3>
        <p>ZmnSCPxj has proposed an idea for a meta-vending machine that could revolutionize the way small items are sold and transferred. This machine is essentially a collection of vending machines contained within one unit. Each box within the machine starts out empty, but the contents of each box are visible. To sell a product, a seller can rent one of these boxes by paying the owner of the meta-vending machine. Once the box is rented, it requests an invoice. When a customer decides to purchase the product, the meta-vending machine provides the invoice and opens the corresponding box in exchange for the preimage to the hash in the invoice. If the product remains unsold, the seller can provide the preimage and retrieve their product.This system not only allows for selling small items but also serves as an anonymous rendezvous point for transferring small items in exchange for money. However, trust in the meta-vending machine owner is crucial, as they have the ability to unlock any box and take the item inside.In order to address theft concerns, a solution has been proposed for vending machines. The key requirement is that the machine must be offline and devoid of secret keys. However, the owner must have a separate Lightning node to receive payments. The proposed solution involves each machine containing a fixed number of hashes and invoice signatures corresponding to each hash. Additionally, each hash has a 1-bit flag that is set to 1 when claimed.When a customer requests a purchase, the machine searches for an available hash and generates an invoice. The customer then pays normally, and the vending machine owner receives the payment and releases the preimage as proof-of-payment. The customer provides the preimage to the machine, which checks it against the list of hashes and sets the claim flag if valid. Finally, the product is released to the customer.The supply of hashes can be replenished by the owner of the vending machine when restocking the machine. However, it is important to note that there is no way to refund payment in case of mechanical failure.</p>
        <hr>
        <p><i>Updated on: 2023-07-31T20:46:38.628740+00:00</i></p>
    

    

    <footer>
        <span style="font-family: Arial, Helvetica, sans-serif;">&#10084;&#65039;</span> <a href="https://chaincode.com" target="_blank" rel="noreferrer" style="text-decoration: none; color: inherit;">Chaincode</a>
    </footer>
</body>

</html>