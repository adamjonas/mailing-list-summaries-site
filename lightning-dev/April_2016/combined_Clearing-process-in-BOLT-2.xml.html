<!doctype html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="Content-Type" content="text/html; charset=us-ascii">
    <title>Atom Feed Display</title>
    <link rel="stylesheet" href="../../archive_styles.css">
</head>

<body BGCOLOR="#fffffb">
    
    <h1>Clearing process in BOLT #2 <span class="combined-summary">[combined summary]</span></h1>
    <hr class="solid">
    <br><b>Individual post summaries:</b>
    
        <ul>
            
                
                    <li>
                        <a href="/lightning-dev/April_2016/000524_Clearing-process-in-BOLT-2.xml.html">Clearing process in BOLT #2</a>
                        <b>Pierre 2016-04-29 11:38:53</b>
                    </li>
                
                    <li>
                        <a href="/lightning-dev/April_2016/000526_Clearing-process-in-BOLT-2.xml.html">Clearing process in BOLT #2</a>
                        <b>Rusty Russell 2016-04-30 10:11:34</b>
                    </li>
                
                    <li>
                        <a href="/lightning-dev/April_2016/000527_Clearing-process-in-BOLT-2.xml.html">Clearing process in BOLT #2</a>
                        <b>Rusty Russell 2016-04-30 10:15:54</b>
                    </li>
                
            
        </ul>
        
            <a href="https://lists.linuxfoundation.org/pipermail/lightning-dev/2016-April/000524.html">Click here to read the original discussion on the lightning-dev mailing list</a>
        
        <p><i>Published on: 2016-04-29T11:38:53+00:00</i></p>
        <hr>
        <h3>Summary:</h3>
        <p>In discussions about the Lightning Network (LN) protocol, concerns were raised about the clearing process described in BOLT #2. There was a contradiction between ยง4.1 and ยง3.3 regarding how to remove an HTLC. This version of the protocol only allowed for an HTLC to be accepted, committed, and removed, without the ability to decline it. Additionally, there were potential issues with uncertainty surrounding the signature process. To address these issues, proposals were suggested, such as changing 4.1 to state that a node must fail to route any HTLC received after it sent close_clearing, and adding an acknowledgement of the previous update_revocation in the update_commit message. It was also suggested that a node should fail the connection if it receives an update_commit which does not acknowledge its previously sent update_revocation. Lastly, a node must not send out a message with an 'ack' field lower than any previous 'ack' field.In an email to Bitcoin developers, Pierre also brought up similar issues with the clearing process in BOLT #2, pointing out the same contradiction between ยง4.1 and ยง3.3, and the inability to decline an HTLC. They also noted the potential issue with uncertainty surrounding the signature process, where there is no way for one party to be sure that the other party received their update_commit message. In response, Rusty proposed a patch to clarify that nodes cannot get more than one step ahead and must send update_commit and update_revocation messages in order.</p>
        <hr>
        <p><i>Updated on: 2023-06-02T00:32:51.476857+00:00</i></p>
    

    

    <footer>
        <span style="font-family: Arial, Helvetica, sans-serif;">&#10084;&#65039;</span> <a href="https://chaincode.com" target="_blank" rel="noreferrer" style="text-decoration: none; color: inherit;">Chaincode</a>
    </footer>
</body>

</html>