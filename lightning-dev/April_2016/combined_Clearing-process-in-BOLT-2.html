<!doctype html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="Content-Type" content="text/html; charset=us-ascii">
    <title>Atom Feed Display</title>
    <link rel="stylesheet" href="../../archive_styles.css">
</head>

<body BGCOLOR="#fffffb">
    
    <h1>Clearing process in BOLT #2 <span class="combined-summary">[combined summary]</span></h1>
    <hr class="solid">
    <br><b>Individual post summaries:</b>
    
        <ul>
            
                
                    <li>
                        <a href="/lightning-dev/April_2016/000527_Clearing-process-in-BOLT-2.html">Clearing process in BOLT #2</a>
                        <b>Rusty Russell 2016-04-30 10:15:54+00:00</b>
                    </li>
                
                    <li>
                        <a href="/lightning-dev/April_2016/000526_Clearing-process-in-BOLT-2.html">Clearing process in BOLT #2</a>
                        <b>Rusty Russell 2016-04-30 10:11:34+00:00</b>
                    </li>
                
                    <li>
                        <a href="/lightning-dev/April_2016/000524_Clearing-process-in-BOLT-2.html">Clearing process in BOLT #2</a>
                        <b>Pierre 2016-04-29 11:38:53+00:00</b>
                    </li>
                
            
        </ul>
        
            <a href="https://lists.linuxfoundation.org/pipermail/lightning-dev/2016-April/000527.html">Click here to read the original discussion on the lightning-dev mailing list</a>
        
        <p><i>Published on: 2016-04-30T10:15:54+00:00</i></p>
        <hr>
        <h3>Summary:</h3>
        <p>To address these concerns, Rusty proposes some changes to the protocol. Firstly, he suggests that 4.1 should state that a node must fail to route any HTLC received after it sent close_clearing, instead of responding with update_fail_htlc. This would allow for the declining of an HTLC rather than just failing the connection.Additionally, Rusty suggests that the update_add_htlc message should include an 'ack' field to indicate if the other party had received the close_clearing prior to sending the HTLC. This would provide clarity and ensure that both parties are aware of the status of the transaction.Furthermore, Rusty addresses the issue with the signature process by proposing that a node must acknowledge the previous update_revocation (if any) in the update_commit message. If a node receives an update_commit message that does not acknowledge its previously sent update_revocation, it should fail the connection. This would prevent uncertainty and ensure that both parties are in sync with the clearing process.In summary, there are several concerns with the clearing process as described in BOLT #2. Rusty proposes changes to address these issues, including clarifying the response to HTLCs received after close_clearing, adding an 'ack' field to the update_add_htlc message, and ensuring acknowledgement of previous update_revocations in the update_commit message. These changes aim to improve the reliability and transparency of the clearing process in the Lightning Network protocol.</p>
        <hr>
        <p><i>Updated on: 2023-07-31T18:59:20.874218+00:00</i></p>
    

    

    <footer>
        <span style="font-family: Arial, Helvetica, sans-serif;">&#10084;&#65039;</span> <a href="https://chaincode.com" target="_blank" rel="noreferrer" style="text-decoration: none; color: inherit;">Chaincode</a>
    </footer>
</body>

</html>