<!doctype html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="Content-Type" content="text/html; charset=us-ascii">
    <title>Atom Feed Display</title>
    <link rel="stylesheet" href="../../archive_styles.css">
</head>

<body BGCOLOR="#fffffb">
    
    <h1>ECDH for spontaneous payments and offline vending machines</h1>
    <hr class="solid">
    
    <ul>
        
        
            <p><b>Author:</b> Stepan Snigirev 2019-06-10 08:34:07
            <br><i>Published on: 2019-06-10T08:34:07+00:00</i></p>

        
        

        
        
        <li>
        <a href="/lightning-dev/June_2019/combined_ECDH-for-spontaneous-payments-and-offline-vending-machines.xml.html"> Combined Summary of all posts in thread </a>
        </li>
        
        <li>
            
                <a href="https://lists.linuxfoundation.org/pipermail/lightning-dev/2019-June/002011.html">Click here to read original discussion on the lightning-dev mailing list</a>
            
        </li>

    </ul>

    <hr>
    <h3> Summary:</h3>
    <p>The vending machine generates a new ephemeral key for every invoice, including for spontaneous payments. Additional information can be provided to the node about the payment by misusing the short channel id field, such as including a "payment purpose" or user ID. However, this is a workaround and has a limit of 8 bytes. The preferred method would be to have a metadata field in the invoice that can be passed to the payee in the onion packet, but this requires changes in the bolt 11 and is already on the roadmap.</p>
    <hr>
    <p><i> Updated on: 2023-06-02T18:39:22.761183+00:00 </i></p>
    
    

    <footer>
        <span style="font-family: Arial, Helvetica, sans-serif;">&#10084;&#65039;</span> <a href="https://chaincode.com" target="_blank" rel="noreferrer" style="text-decoration: none; color: inherit;">Chaincode</a>
    </footer>
</body>

</html>