<!doctype html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="Content-Type" content="text/html; charset=us-ascii">
    <title>Atom Feed Display</title>
    <link rel="stylesheet" href="../../archive_styles.css">
</head>

<body BGCOLOR="#fffffb">
    
    <h1>eltoo towers and implications for settlement key derivation</h1>
    <hr class="solid">
    
    <ul>
        
        
            <p><b>Author:</b> Rusty Russell 2019-12-03 04:00:10
            <br><i>Published on: 2019-12-03T04:00:10+00:00</i></p>

        
        

        
        
        <li>
        <a href="/lightning-dev/Dec_2019/combined_eltoo-towers-and-implications-for-settlement-key-derivation.xml.html"> Combined Summary of all posts in thread </a>
        </li>
        
        <li>
            
                <a href="https://lists.linuxfoundation.org/pipermail/lightning-dev/2019-December/002360.html">Click here to read original discussion on the lightning-dev mailing list</a>
            
        </li>

    </ul>

    <hr>
    <h3> Summary:</h3>
    <p>In a conversation on the Lightning-Dev mailing list, Rusty Russell and ZmnSCPxj discussed some potential issues related to watchtowers in relation to channel construction. Rusty had revisited the eltoo paper and discovered that due to NOINPUT, any update transaction can spend from any other, which could affect the role of watchtowers. However, in order to spend, the tower must also produce a witness script which when hashed matches the witness program of the input. To ensure settlement txns can only spend from exactly one update txn, each update txn uses unique keys for the settlement clause, meaning that each state has a unique witness program. ZmnSCPxj pointed out that he didn't think this was the design, and that the update transaction would be able to spend any prior with a fixed script due to NOINPUT, while the settlement transaction would only be able to spend the matching update. Rusty acknowledged his mistake and proposed changing the key(s) every time, based on something the watchtower will know, such as something in the update tx itself. However, they acknowledged that using the output for this purpose would create a circular dependency, and questioned whether there is some taproot thing they can use to insert some noise in the input.</p>
    <hr>
    <p><i> Updated on: 2023-06-02T21:54:53.439051+00:00 </i></p>
    
    

    <footer>
        <span style="font-family: Arial, Helvetica, sans-serif;">&#10084;&#65039;</span> <a href="https://chaincode.com" target="_blank" rel="noreferrer" style="text-decoration: none; color: inherit;">Chaincode</a>
    </footer>
</body>

</html>