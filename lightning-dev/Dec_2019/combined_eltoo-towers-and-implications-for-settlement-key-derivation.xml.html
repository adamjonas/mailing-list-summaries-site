<!doctype html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="Content-Type" content="text/html; charset=us-ascii">
    <title>Atom Feed Display</title>
    <link rel="stylesheet" href="../../archive_styles.css">
</head>

<body BGCOLOR="#fffffb">
    
    <h1>eltoo towers and implications for settlement key derivation <span class="combined-summary">[combined summary]</span></h1>
    <hr class="solid">
    <br><b>Individual post summaries:</b>
    
        <ul>
            
                
                    <li>
                        <a href="/lightning-dev/Dec_2019/002356_eltoo-towers-and-implications-for-settlement-key-derivation.xml.html">eltoo towers and implications for settlement key derivation</a>
                        <b>Rusty Russell 2019-12-02 23:53:01</b>
                    </li>
                
                    <li>
                        <a href="/lightning-dev/Dec_2019/002358_eltoo-towers-and-implications-for-settlement-key-derivation.xml.html">eltoo towers and implications for settlement key derivation</a>
                        <b>ZmnSCPxj 2019-12-03 02:55:19</b>
                    </li>
                
                    <li>
                        <a href="/lightning-dev/Dec_2019/002360_eltoo-towers-and-implications-for-settlement-key-derivation.xml.html">eltoo towers and implications for settlement key derivation</a>
                        <b>Rusty Russell 2019-12-03 04:00:10</b>
                    </li>
                
                    <li>
                        <a href="/lightning-dev/Dec_2019/002361_eltoo-towers-and-implications-for-settlement-key-derivation.xml.html">eltoo towers and implications for settlement key derivation</a>
                        <b>ZmnSCPxj 2019-12-03 04:43:27</b>
                    </li>
                
                    <li>
                        <a href="/lightning-dev/Dec_2019/002362_eltoo-towers-and-implications-for-settlement-key-derivation.xml.html">eltoo towers and implications for settlement key derivation</a>
                        <b>Anthony Towns 2019-12-03 07:33:25</b>
                    </li>
                
                    <li>
                        <a href="/lightning-dev/Dec_2019/002364_eltoo-towers-and-implications-for-settlement-key-derivation.xml.html">eltoo towers and implications for settlement key derivation</a>
                        <b>Christian Decker 2019-12-04 13:46:30</b>
                    </li>
                
                    <li>
                        <a href="/lightning-dev/Dec_2019/002365_eltoo-towers-and-implications-for-settlement-key-derivation.xml.html">eltoo towers and implications for settlement key derivation</a>
                        <b>Christian Decker 2019-12-04 13:48:20</b>
                    </li>
                
                    <li>
                        <a href="/lightning-dev/Dec_2019/002366_eltoo-towers-and-implications-for-settlement-key-derivation.xml.html">eltoo towers and implications for settlement key derivation</a>
                        <b>Christian Decker 2019-12-04 13:53:39</b>
                    </li>
                
                    <li>
                        <a href="/lightning-dev/Dec_2019/002363_eltoo-towers-and-implications-for-settlement-key-derivation.xml.html">eltoo towers and implications for settlement key derivation</a>
                        <b>ZmnSCPxj 2019-12-03 08:26:22</b>
                    </li>
                
                    <li>
                        <a href="/lightning-dev/Nov_2019/002349_eltoo-towers-and-implications-for-settlement-key-derivation.xml.html">eltoo towers and implications for settlement key derivation</a>
                        <b>Conner Fromknecht 2019-11-26 23:41:14</b>
                    </li>
                
                    <li>
                        <a href="/lightning-dev/Dec_2019/002359_eltoo-towers-and-implications-for-settlement-key-derivation.xml.html">eltoo towers and implications for settlement key derivation</a>
                        <b>Conner Fromknecht 2019-12-03 03:03:16</b>
                    </li>
                
            
        </ul>
        
            <a href="https://lists.linuxfoundation.org/pipermail/lightning-dev/2019-December/002356.html">Click here to read the original discussion on the lightning-dev mailing list</a>
        
        <p><i>Published on: 2019-12-02T23:53:01+00:00</i></p>
        <hr>
        <h3>Summary:</h3>
        <p>The Lightning-Dev mailing list has been discussing various issues related to watchtowers and their role in eltoo channel construction. One issue that was raised is the use of unique keys for settlement clauses in order to ensure that settlement transactions can only spend from one update transaction. However, some users argue that this is not necessary with the proposed ANYPREVOUT design by aj since it allows for simpler channel construction without the need for unique keys.Other issues related to NOINPUT were also discussed, such as the need to continue the chain of NOINPUT transactions until a signer is online to bind a transaction to a confirmed input. This is because leaking one hot settlement key compromises all sibling settlement keys, and leaking an old update transaction would allow the watchtower to reconstruct arbitrary witness scripts. Alternative solutions were proposed, such as adding a taproot branch with an OP_RETURN tapscript or using BIP32 derivation.The use of watchtowers was also discussed in terms of mitigating the risk of total loss of funds if a user's Lightning node is destroyed. The solution proposed is to send the blob containing the update, settlement, and transaction that spends the output of the settlement to a cold-storage address controlled by different hardware, allowing the watchtower to place part of the funds back into a cold-storage address.In terms of implementing watchtowers and increasing the feasibility of deploying a watchtower network, Conner proposes giving the tower an extended parent pubkey for each party and deriving non-hardened settlement keys on demand based on the confirmed state numbers. Rusty comments that any update transaction can spend from any other due to NOINPUT, but the tower must produce a witness script that matches the input's witness program. Each update transaction uses unique keys for the settlement clause to ensure that settlement transactions can only spend from one update transaction.However, ZmnSCPxj argues that this is not logically possible since the update transaction has no fixed txid until it commits to a particular output-to-be-spent. Thus, a settlement transaction must use NOINPUT as well. Any presigned descendants of a NOINPUT txn must also use NOINPUT as well. This chain must continue until a signer is online to bind a transaction to a confirmed input. The unique settlement keys prevent rebinding of settlement transactions since NOINPUT with a shared script would be too liberal.</p>
        <hr>
        <p><i>Updated on: 2023-06-03T23:08:43.915333+00:00</i></p>
    

    

    <footer>
        <span style="font-family: Arial, Helvetica, sans-serif;">&#10084;&#65039;</span> <a href="https://chaincode.com" target="_blank" rel="noreferrer" style="text-decoration: none; color: inherit;">Chaincode</a>
    </footer>
</body>

</html>