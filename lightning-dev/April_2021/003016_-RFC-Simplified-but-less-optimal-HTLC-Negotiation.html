<!doctype html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="Content-Type" content="text/html; charset=us-ascii">
    <title>Atom Feed Display</title>
    <link rel="stylesheet" href="../../archive_styles.css">
</head>

<body BGCOLOR="#fffffb">
    
    <h1>[RFC] Simplified (but less optimal) HTLC Negotiation</h1>
    <hr class="solid">
    
    <ul>
        
        
            <p><b>Author:</b> Matt Corallo 2021-04-24 14:11:33
            <br><i>Published on: 2021-04-24T14:11:33+00:00</i></p>

        
        

        
        
        <li>
        <a href="/lightning-dev/April_2021/combined_-RFC-Simplified-but-less-optimal-HTLC-Negotiation.html"> Combined Summary of all posts in thread </a>
        </li>
        
        <li>
            
                <a href="https://lists.linuxfoundation.org/pipermail/lightning-dev/2021-April/003016.html">Click here to read original discussion on the lightning-dev mailing list</a>
            
        </li>

    </ul>

    <hr>
    <h3> Summary:</h3>
    <p>In a recent email thread, Matt Corallo suggested that fuzzing could help catch message-non-delivery-and-resending production desync bugs in the protocol. Corallo noted that there is already a fuzzer that aggressively tests for these types of bugs and that it has caught many in the past. While simplifying the state machine where possible is nice, replacing code with fresh code would require similar testing and is not necessarily the most obvious decrease in complexity. Rusty Russell expressed concern about the number of bugs historically found in the protocol and suggested that avoiding bugs entirely is preferable to catching them all. He recommended using splice messages instead of turn-based messages to improve the protocol. Under this system, both sides have to send a splice message to synchronize, and they can only do so once all in-flight changes have cleared. The sender must not send another splice message while a splice is being negotiated, while the receiver must respond with a splice message of its own if it has not already. Similar requirements exist for other major channel changes.</p>
    <hr>
    <p><i> Updated on: 2023-05-23T14:41:04.633426+00:00 </i></p>
    
    

    <footer>
        <span style="font-family: Arial, Helvetica, sans-serif;">&#10084;&#65039;</span> <a href="https://chaincode.com" target="_blank" rel="noreferrer" style="text-decoration: none; color: inherit;">Chaincode</a>
    </footer>
</body>

</html>