<!doctype html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="Content-Type" content="text/html; charset=us-ascii">
    <title>Atom Feed Display</title>
    <link rel="stylesheet" href="../../archive_styles.css">
</head>

<body BGCOLOR="#fffffb">
    
    <h1>Normal operation questions <span class="combined-summary">[combined summary]</span></h1>
    <hr class="solid">
    <br><b>Individual post summaries:</b>
    
        <ul>
            
                
                    <li>
                        <a href="/lightning-dev/Feb_2022/003477_Normal-operation-questions.html">Normal operation questions</a>
                        <b>Olaoluwa Osuntokun 2022-02-17 00:15:05+00:00</b>
                    </li>
                
                    <li>
                        <a href="/lightning-dev/Feb_2022/003476_Normal-operation-questions.html">Normal operation questions</a>
                        <b>Benjamin Weintraub 2022-02-16 21:01:52+00:00</b>
                    </li>
                
                    <li>
                        <a href="/lightning-dev/Feb_2022/003473_Normal-operation-questions.html">Normal operation questions</a>
                        <b>Olaoluwa Osuntokun 2022-02-15 23:13:47+00:00</b>
                    </li>
                
                    <li>
                        <a href="/lightning-dev/Feb_2022/003472_Normal-operation-questions.html">Normal operation questions</a>
                        <b>Benjamin Weintraub 2022-02-15 15:31:45+00:00</b>
                    </li>
                
            
        </ul>
        
            <a href="https://lists.linuxfoundation.org/pipermail/lightning-dev/2022-February/003477.html">Click here to read the original discussion on the lightning-dev mailing list</a>
        
        <p><i>Published on: 2022-02-17T00:15:05+00:00</i></p>
        <hr>
        <h3>Summary:</h3>
        <p>In response to Ben Weintraub's questions about the Normal Operation protocol, Olaoluwa Osuntokun explained that while it is not necessary for Alice to send the `commitment_signed` message immediately after adding a new HTLC, she may choose to delay her signature if she has other HTLCs she wants to add to the commitment transaction. This allows her to batch/pipeline updates to the channel. Concurrent signatures are not an issue, but they do generate additional state transitions for both parties to synchronize their locked-in HTLCs.Regarding the exchange of messages after Bob sends the `update_fulfill_htlc`, Osuntokun clarified that both Alice and Bob need to exchange `commitment_signed` and `revoke_and_ack` messages again to update their commitment state off-chain. This is necessary even though Bob is the one claiming the funds with the pre-image. The reason for this is that settling the HTLC off-chain is faster and less costly in terms of chain fees compared to going to chain. By exchanging these messages, both parties can update their commitment state without involving the blockchain.In a multi-hop scenario, once Alice receives the pre-image, she can choose to pipeline the pre-image back upstream in the route instead of waiting for the full exchange. This reduces perceived user latency for payments.</p>
        <hr>
        <p><i>Updated on: 2023-08-01T00:08:18.183121+00:00</i></p>
    

    

    <footer>
        <span style="font-family: Arial, Helvetica, sans-serif;">&#10084;&#65039;</span> <a href="https://chaincode.com" target="_blank" rel="noreferrer" style="text-decoration: none; color: inherit;">Chaincode</a>
    </footer>
</body>

</html>