<!doctype html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="Content-Type" content="text/html; charset=us-ascii">
    <title>Atom Feed Display</title>
    <link rel="stylesheet" href="../../archive_styles.css">
</head>

<body BGCOLOR="#fffffb">
    
    <h1>A proposal for up-front payments. <span class="combined-summary">[combined summary]</span></h1>
    <hr class="solid">
    <br><b>Individual post summaries:</b>
    
        <ul>
            
                
                    <li>
                        <a href="/lightning-dev/Nov_2019/002339_A-proposal-for-up-front-payments-.html">A proposal for up-front payments.</a>
                        <b>Bastien TEINTURIER 2019-11-22 09:07:41</b>
                    </li>
                
                    <li>
                        <a href="/lightning-dev/Nov_2019/002341_A-proposal-for-up-front-payments-.html">A proposal for up-front payments.</a>
                        <b>ZmnSCPxj 2019-11-22 09:49:16</b>
                    </li>
                
                    <li>
                        <a href="/lightning-dev/Nov_2019/002342_A-proposal-for-up-front-payments-.html">A proposal for up-front payments.</a>
                        <b>Bastien TEINTURIER 2019-11-22 10:11:37</b>
                    </li>
                
                    <li>
                        <a href="/lightning-dev/Nov_2019/002346_A-proposal-for-up-front-payments-.html">A proposal for up-front payments.</a>
                        <b>Orfeas Stefanos Thyfronitis Litos 2019-11-25 12:15:18</b>
                    </li>
                
                    <li>
                        <a href="/lightning-dev/Nov_2019/002290_A-proposal-for-up-front-payments-.html">A proposal for up-front payments.</a>
                        <b>Joost Jager 2019-11-06 15:53:57</b>
                    </li>
                
                    <li>
                        <a href="/lightning-dev/Nov_2019/002295_A-proposal-for-up-front-payments-.html">A proposal for up-front payments.</a>
                        <b>Anthony Towns 2019-11-07 11:37:35</b>
                    </li>
                
                    <li>
                        <a href="/lightning-dev/Nov_2019/002296_A-proposal-for-up-front-payments-.html">A proposal for up-front payments.</a>
                        <b>Joost Jager 2019-11-07 13:37:51</b>
                    </li>
                
                    <li>
                        <a href="/lightning-dev/Nov_2019/002302_A-proposal-for-up-front-payments-.html">A proposal for up-front payments.</a>
                        <b>Rusty Russell 2019-11-08 02:38:04</b>
                    </li>
                
                    <li>
                        <a href="/lightning-dev/Nov_2019/002308_A-proposal-for-up-front-payments-.html">A proposal for up-front payments.</a>
                        <b>Joost Jager 2019-11-08 14:15:05</b>
                    </li>
                
                    <li>
                        <a href="/lightning-dev/Nov_2019/002312_A-proposal-for-up-front-payments-.html">A proposal for up-front payments.</a>
                        <b>Rusty Russell 2019-11-10 23:30:52</b>
                    </li>
                
                    <li>
                        <a href="/lightning-dev/Nov_2019/002286_A-proposal-for-up-front-payments-.html">A proposal for up-front payments.</a>
                        <b>Rusty Russell 2019-11-06 00:13:23</b>
                    </li>
                
                    <li>
                        <a href="/lightning-dev/Feb_2020/002548_A-proposal-for-up-front-payments-.html">A proposal for up-front payments.</a>
                        <b>Anthony Towns 2020-02-20 03:22:30</b>
                    </li>
                
                    <li>
                        <a href="/lightning-dev/March_2020/002585_A-proposal-for-up-front-payments-.html">A proposal for up-front payments.</a>
                        <b>Joost Jager 2020-03-09 12:45:24</b>
                    </li>
                
                    <li>
                        <a href="/lightning-dev/Nov_2019/002278_A-proposal-for-up-front-payments-.html">A proposal for up-front payments.</a>
                        <b>ZmnSCPxj 2019-11-05 04:59:33</b>
                    </li>
                
                    <li>
                        <a href="/lightning-dev/Nov_2019/002285_A-proposal-for-up-front-payments-.html">A proposal for up-front payments.</a>
                        <b>Olaoluwa Osuntokun 2019-11-06 00:13:05</b>
                    </li>
                
                    <li>
                        <a href="/lightning-dev/Nov_2019/002289_A-proposal-for-up-front-payments-.html">A proposal for up-front payments.</a>
                        <b>Rusty Russell 2019-11-06 02:32:29</b>
                    </li>
                
                    <li>
                        <a href="/lightning-dev/Nov_2019/002292_A-proposal-for-up-front-payments-.html">A proposal for up-front payments.</a>
                        <b>Rusty Russell 2019-11-07 04:30:40</b>
                    </li>
                
                    <li>
                        <a href="/lightning-dev/Nov_2019/002301_A-proposal-for-up-front-payments-.html">A proposal for up-front payments.</a>
                        <b>Rusty Russell 2019-11-08 02:45:09</b>
                    </li>
                
                    <li>
                        <a href="/lightning-dev/Nov_2019/002307_A-proposal-for-up-front-payments-.html">A proposal for up-front payments.</a>
                        <b>Anthony Towns 2019-11-08 12:32:36</b>
                    </li>
                
                    <li>
                        <a href="/lightning-dev/Nov_2019/002311_A-proposal-for-up-front-payments-.html">A proposal for up-front payments.</a>
                        <b>Yaacov Akiba Slama 2019-11-09 20:36:30</b>
                    </li>
                
                    <li>
                        <a href="/lightning-dev/Feb_2020/002547_A-proposal-for-up-front-payments-.html">A proposal for up-front payments.</a>
                        <b>Joost Jager 2020-02-18 09:23:29</b>
                    </li>
                
                    <li>
                        <a href="/lightning-dev/Feb_2020/002558_A-proposal-for-up-front-payments-.html">A proposal for up-front payments.</a>
                        <b>Rusty Russell 2020-02-21 02:05:20</b>
                    </li>
                
                    <li>
                        <a href="/lightning-dev/Nov_2019/002343_A-proposal-for-up-front-payments-.html">A proposal for up-front payments.</a>
                        <b>Orfeas Stefanos Thyfronitis Litos 2019-11-22 11:13:36</b>
                    </li>
                
                    <li>
                        <a href="/lightning-dev/Nov_2019/002345_A-proposal-for-up-front-payments-.html">A proposal for up-front payments.</a>
                        <b>ZmnSCPxj 2019-11-24 15:16:35</b>
                    </li>
                
                    <li>
                        <a href="/lightning-dev/Nov_2019/002347_A-proposal-for-up-front-payments-.html">A proposal for up-front payments.</a>
                        <b>ZmnSCPxj 2019-11-26 08:12:08</b>
                    </li>
                
                    <li>
                        <a href="/lightning-dev/Feb_2020/002563_A-proposal-for-up-front-payments-.html">A proposal for up-front payments.</a>
                        <b>Rusty Russell 2020-02-24 02:59:36</b>
                    </li>
                
                    <li>
                        <a href="/lightning-dev/Feb_2020/002549_A-proposal-for-up-front-payments-.html">A proposal for up-front payments.</a>
                        <b>ZmnSCPxj 2020-02-20 03:42:39</b>
                    </li>
                
                    <li>
                        <a href="/lightning-dev/Feb_2020/002550_A-proposal-for-up-front-payments-.html">A proposal for up-front payments.</a>
                        <b>Anthony Towns 2020-02-20 06:02:25</b>
                    </li>
                
                    <li>
                        <a href="/lightning-dev/Feb_2020/002561_A-proposal-for-up-front-payments-.html">A proposal for up-front payments.</a>
                        <b>Anthony Towns 2020-02-23 09:08:01</b>
                    </li>
                
                    <li>
                        <a href="/lightning-dev/Feb_2020/002568_A-proposal-for-up-front-payments-.html">A proposal for up-front payments.</a>
                        <b>Anthony Towns 2020-02-27 12:06:56</b>
                    </li>
                
                    <li>
                        <a href="/lightning-dev/Feb_2020/002573_A-proposal-for-up-front-payments-.html">A proposal for up-front payments.</a>
                        <b>Rusty Russell 2020-02-28 03:41:32</b>
                    </li>
                
                    <li>
                        <a href="/lightning-dev/Nov_2019/002340_A-proposal-for-up-front-payments-.html">A proposal for up-front payments.</a>
                        <b>Pierre 2019-11-22 09:31:21</b>
                    </li>
                
                    <li>
                        <a href="/lightning-dev/Nov_2019/002344_A-proposal-for-up-front-payments-.html">A proposal for up-front payments.</a>
                        <b>Rusty Russell 2019-11-23 00:37:47</b>
                    </li>
                
                    <li>
                        <a href="/lightning-dev/Nov_2019/002348_A-proposal-for-up-front-payments-.html">A proposal for up-front payments.</a>
                        <b>Orfeas Stefanos Thyfronitis Litos 2019-11-26 11:41:50</b>
                    </li>
                
                    <li>
                        <a href="/lightning-dev/Nov_2019/002291_A-proposal-for-up-front-payments-.html">A proposal for up-front payments.</a>
                        <b>Anthony Towns 2019-11-06 15:57:33</b>
                    </li>
                
                    <li>
                        <a href="/lightning-dev/Nov_2019/002293_A-proposal-for-up-front-payments-.html">A proposal for up-front payments.</a>
                        <b>Rusty Russell 2019-11-07 04:26:51</b>
                    </li>
                
                    <li>
                        <a href="/lightning-dev/Nov_2019/002298_A-proposal-for-up-front-payments-.html">A proposal for up-front payments.</a>
                        <b>lisa neigut 2019-11-07 14:35:52</b>
                    </li>
                
                    <li>
                        <a href="/lightning-dev/Nov_2019/002299_A-proposal-for-up-front-payments-.html">A proposal for up-front payments.</a>
                        <b>Joost Jager 2019-11-07 14:43:44</b>
                    </li>
                
                    <li>
                        <a href="/lightning-dev/Nov_2019/002300_A-proposal-for-up-front-payments-.html">A proposal for up-front payments.</a>
                        <b>Yaacov Akiba Slama 2019-11-07 14:58:29</b>
                    </li>
                
                    <li>
                        <a href="/lightning-dev/Nov_2019/002309_A-proposal-for-up-front-payments-.html">A proposal for up-front payments.</a>
                        <b>Joost Jager 2019-11-08 14:45:08</b>
                    </li>
                
                    <li>
                        <a href="/lightning-dev/Nov_2019/002310_A-proposal-for-up-front-payments-.html">A proposal for up-front payments.</a>
                        <b>Yaacov Akiba Slama 2019-11-09 19:47:30</b>
                    </li>
                
                    <li>
                        <a href="/lightning-dev/Nov_2019/002275_A-proposal-for-up-front-payments-.html">A proposal for up-front payments.</a>
                        <b>Rusty Russell 2019-11-05 02:17:56</b>
                    </li>
                
                    <li>
                        <a href="/lightning-dev/Nov_2019/002282_A-proposal-for-up-front-payments-.html">A proposal for up-front payments.</a>
                        <b>Rusty Russell 2019-11-05 09:26:45</b>
                    </li>
                
                    <li>
                        <a href="/lightning-dev/Nov_2019/002283_A-proposal-for-up-front-payments-.html">A proposal for up-front payments.</a>
                        <b>Anthony Towns 2019-11-05 11:24:19</b>
                    </li>
                
            
        </ul>
        
            <a href="https://lists.linuxfoundation.org/pipermail/lightning-dev/2019-November/002339.html">Click here to read the original discussion on the lightning-dev mailing list</a>
        
        <p><i>Published on: 2019-11-22T09:07:41+00:00</i></p>
        <hr>
        <h3>Summary:</h3>
        <p>In recent discussions about the Lightning Network, various proposals have been suggested to prevent spam on the network. One proposal involves using PoW puzzles for every intermediate node and communicating the solution in the onion, while another proposes using upfront payments. The discussion explores ways to obscure path length and break correlation, such as making amounts work like the onion or fully refunding upfront payment on success. Additionally, the possibility of using an ECC trapdoor and scriptless scripts to prevent uncooperative routing failure without revealing the preimage is discussed.Rusty Russell and Anthony Towns discuss the Lightning network and its payment system, proposing solutions for refund amounts, routing failure cases, and uncooperative routing failure cases. Joost Jager proposes a solution to prevent jamming attacks on the network by reversing the direction in which the bond is paid. Rusty Russell presents his proposal to prevent Type 2 spam through upfront payments that leak forward information and make an explicit tradeoff for the sender between amount spent and privacy. Olaoluwa Osuntokun offers alternatives to prepaid HTLCs, suggesting a control/signal channel and a payment channel.The Lightning Network team has been discussing various proposals to address spam on the network. One proposal involves using rate limits to isolate spammers and diminish their abilities, while another suggests reversing the direction of bond payments to prevent liquidity-consuming spam. Meanwhile, a proposal by Rusty Russell involves charging an up-front fee for accepting any HTLC and hanging up after a grace period unless you either prove a channel close or gain another grace period by decrypting onion. In discussions about preventing spam on the Lightning Network, various proposals have been suggested, including adapting the PoW/Merkle puzzle system to force senders to use resources instead of sats, and using a payment scheme based on onion routing that involves upfront payments but not unconditional refunds to prevent spam. There are also proposals to limit the rate of transactions between trusted and untrusted nodes to prevent spammers from jamming up the network. The idea of a reputation-based system is also explored as a potential solution to the problem of spam.The proposed solution to avoid Type 2 spam in Lightning Network is to implement up-front payments for messages. The author suggests adding an HTLC which causes a push of a number of msat on commitment_signed, and a hash. Failing/succeeding an HTLC returns some of those msat, and a count and preimage. In recent discussions on the Lightning Network, concerns have been raised about situations where a payment is forwarded but the outgoing channel is dropped onchain and the peer disconnects. This can lead to problems with timelocks and encumbrance fees. One suggested solution involves reversing the direction of the bond payments and implementing grace periods with additional fees for late payments. However, there are potential privacy issues associated with this approach.Overall, the discussion highlights the complexity of spam prevention in unauthenticated systems like Lightning Network and the need for multiple measures with sensible defaults to be provided. Proposed solutions include fast-failing HTLCs and dynamic grace periods and penalty rates based on factors such as the number of nodes involved in the route. There have also been proposals for changes to the Lightning Network state machine and protocol, although these may require significant rewrites. While there are challenges associated with these proposed changes and solutions, they continue to be explored in an effort to improve the functionality and security of the Lightning Network.</p>
        <hr>
        <p><i>Updated on: 2023-06-03T22:53:36.471482+00:00</i></p>
    

    

    <footer>
        <span style="font-family: Arial, Helvetica, sans-serif;">&#10084;&#65039;</span> <a href="https://chaincode.com" target="_blank" rel="noreferrer" style="text-decoration: none; color: inherit;">Chaincode</a>
    </footer>
</body>

</html>