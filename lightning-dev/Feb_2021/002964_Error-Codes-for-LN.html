<!doctype html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="Content-Type" content="text/html; charset=us-ascii">
    <title>Atom Feed Display</title>
    <link rel="stylesheet" href="../../archive_styles.css">
</head>

<body BGCOLOR="#fffffb">
    
    <h1>Error Codes for LN</h1>
    <hr class="solid">
    
    <ul>
        
        
            <p><b>Author:</b> Carla Kirk-Cohen 2021-02-12 07:34:04
            <br><i>Published on: 2021-02-12T07:34:04+00:00</i></p>

        
        

        
        
        <li>
        <a href="/lightning-dev/Feb_2021/combined_Error-Codes-for-LN.html"> Combined Summary of all posts in thread </a>
        </li>
        
        <li>
            
                <a href="https://lists.linuxfoundation.org/pipermail/lightning-dev/2021-February/002964.html">Click here to read original discussion on the lightning-dev mailing list</a>
            
        </li>

    </ul>

    <hr>
    <h3> Summary:</h3>
    <p>Carla proposes to re-purpose the existing error message (17) in the spec to allow for more structured errors and create a path for standardized, enriched errors going forward. Carla suggests that instead of an arbitrary string, the error message should contain an error code and optional metadata, which will enrich the context of the error. This upgrade will provide better debugging information, clearer information for the end-user, reduced risk of leaking information, and more fine-grained error handling based on the error code. To achieve this, TLV fields can be added after the data field since non-ascii values are not allowed in the error string itself. Upgraded nodes will have an improved quality of life, while older nodes will remain unaffected. The new kind of error provides an error code that tells exactly what has gone wrong and metadata pointing to the invalid sig. Carla believes that the majority of impls don't abide by the instruction in the spec indicating that senders/recipients of errors MUST fail the channel referenced in the error. With standardized sets of errors and reasonable handling, we can clear up some of the ambiguity around errors, and make it easier for everyone to follow. Carla provides a list of candidates for error codes, including signature problems, funding process, channel state machine, fee updates, connection level, and gossip.Links to various sections in the Lightning Network Lightning-rfc GitHub repository are provided to give readers more context.</p>
    <hr>
    <p><i> Updated on: 2023-06-03T03:48:29.095507+00:00 </i></p>
    
    

    <footer>
        <span style="font-family: Arial, Helvetica, sans-serif;">&#10084;&#65039;</span> <a href="https://chaincode.com" target="_blank" rel="noreferrer" style="text-decoration: none; color: inherit;">Chaincode</a>
    </footer>
</body>

</html>