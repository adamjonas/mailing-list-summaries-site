<!doctype html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="Content-Type" content="text/html; charset=us-ascii">
    <title>Atom Feed Display</title>
    <link rel="stylesheet" href="../../archive_styles.css">
</head>

<body BGCOLOR="#fffffb">
    
    <h1>Disclosure of a fee blackmail attack that can make a victim loose almost all funds of a non Wumbo channel and potential fixes <span class="combined-summary">[combined summary]</span></h1>
    <hr class="solid">
    <br><b>Individual post summaries:</b>
    
        <ul>
            
                
                    <li>
                        <a href="/lightning-dev/June_2020/002751_Disclosure-of-a-fee-blackmail-attack-that-can-make-a-victim-loose-almost-all-funds-of-a-non-Wumbo-channel-and-potential-fixes.xml.html">Disclosure of a fee blackmail attack that can make a victim loose almost all funds of a non Wumbo channel and potential fixes</a>
                        <b>Olaoluwa Osuntokun 2020-06-22 01:20:23</b>
                    </li>
                
                    <li>
                        <a href="/lightning-dev/June_2020/002750_Disclosure-of-a-fee-blackmail-attack-that-can-make-a-victim-loose-almost-all-funds-of-a-non-Wumbo-channel-and-potential-fixes.xml.html">Disclosure of a fee blackmail attack that can make a victim loose almost all funds of a non Wumbo channel and potential fixes</a>
                        <b>Olaoluwa Osuntokun 2020-06-22 01:09:28</b>
                    </li>
                
            
        </ul>
        
            <a href="https://lists.linuxfoundation.org/pipermail/lightning-dev/2020-June/002751.html">Click here to read the original discussion on the lightning-dev mailing list</a>
        
        <p><i>Published on: 2020-06-22T01:20:23+00:00</i></p>
        <hr>
        <h3>Summary:</h3>
        <p>Laolu, a developer of the Lightning Network protocol, has suggested a new technique to mitigate up-front costs in commitment transactions. This technique involves adding a layer of indirection to HTLCs within the commitment transaction, creating a 2-of-2 multi-sig output that is then spent by a new transaction that creates the HTLC outputs. Jeremy Rubin, another developer, suggests using BIP-119 Congestion Control trees to help with this issue.Antoine Riard, a contributor to Bitcoin and Lightning Network projects, discusses various fixes to prevent attacks such as "Flood & Loot" and blackmail attacks relying on the update_fee mechanism and unbounded commitment transaction size inflation. Anchor commitments are mentioned as a solution in the "Flood & Loot" paper, but they erroneously assume an attacker could spend their HTLC with a non-replaceable transaction.A researcher has found a vulnerability in Bitcoin's Lightning Network that could allow an attacker to force a victim to incur high fees by spamming the victim with an excessive amount of micropayments. The victim will eventually have to close the channel with all those expensive micropayments, and knowing this, the attacker can blackmail the victim outside of the Lightning Network protocol.A potential attack on Lightning Network has been identified where attackers can exploit the HTLC mechanism to freeze funds. The attacker can create a channel with high liquidity and lock up the channel by adding many HTLCs, thereby preventing the victim from using the channel. In this scenario, the attacker will be able to claim the majority of the BTC frozen in tx fees as the victim has effectively lost that money and can only gain something back. Currently, only eclaire and c-lightning have mitigated this attack by setting hard caps on HTLCs. Lnd does not set a hard cap by default.Some ideas for fixes include not using up the maximum value of HTLCs, always having low fees and asking the person who wants to claim their outputs to pay fees, not overpaying fees in commitment transactions, not adding HTLCs for which the on-chain fee is higher than the HTLCs' value, being able to aggregate HTLCs, and splitting on-chain fees differently.Additionally, there should be a hint in the readme file about where and how people can disclose attacks and vulnerabilities.</p>
        <hr>
        <p><i>Updated on: 2023-05-23T04:03:52.272933+00:00</i></p>
    

    

    <footer>
        <span style="font-family: Arial, Helvetica, sans-serif;">&#10084;&#65039;</span> <a href="https://chaincode.com" target="_blank" rel="noreferrer" style="text-decoration: none; color: inherit;">Chaincode</a>
    </footer>
</body>

</html>