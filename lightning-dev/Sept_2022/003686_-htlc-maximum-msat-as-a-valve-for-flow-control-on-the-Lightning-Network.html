<!doctype html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="Content-Type" content="text/html; charset=us-ascii">
    <title>Atom Feed Display</title>
    <link rel="stylesheet" href="../../archive_styles.css">
</head>

<body BGCOLOR="#fffffb">
    
    <h1>`htlc_maximum_msat` as a valve for flow control on the Lightning Network</h1>
    <hr class="solid">
    
    <ul>
        
        
            <p><b>Author:</b> Ren√© Pickhardt 2022-09-22 06:40:30
            <br><i>Published on: 2022-09-22T06:40:30+00:00</i></p>

        
        

        
        
        <li>
        <a href="/lightning-dev/Sept_2022/combined_-htlc-maximum-msat-as-a-valve-for-flow-control-on-the-Lightning-Network.html"> Combined Summary of all posts in thread </a>
        </li>
        
        <li>
            
                <a href="https://lists.linuxfoundation.org/pipermail/lightning-dev/2022-September/003686.html">Click here to read original discussion on the lightning-dev mailing list</a>
            
        </li>

    </ul>

    <hr>
    <h3> Summary:</h3>
    <p>In a recent post, Lightning Network developer Rene Pickhardt shared his research results exploring how the `htlc_maximum_msat` setting can be used as a control valve to regulate "pressure" and mitigate channel depletion caused by drain via Markov Models. He showed how expected payment failure rates per channel can drop significantly by up to an order of magnitude if channels set up proper asymmetric `htlc_maximum_msat` pairs. The article provides theoretical models and experimental algorithmic ideas for node operators to find decent `htlc_maximum_msat` values in a greedy fashion. One of the algorithms does not require knowledge of the drain or payment size distribution but looks at the liquidity distribution in the channel at the last x routing attempts and adjusts the `htlc_maximum_msat` value if the distribution is too far from a uniform distribution. The findings are relevant mainly for node operators and LSPs. The idea of using `htlc_maximum_msat` as a control valve is not novel and has been heavily used in fluid networks.</p>
    <hr>
    <p><i> Updated on: 2023-06-03T09:51:01.288587+00:00 </i></p>
    
    

    <footer>
        <span style="font-family: Arial, Helvetica, sans-serif;">&#10084;&#65039;</span> <a href="https://chaincode.com" target="_blank" rel="noreferrer" style="text-decoration: none; color: inherit;">Chaincode</a>
    </footer>
</body>

</html>