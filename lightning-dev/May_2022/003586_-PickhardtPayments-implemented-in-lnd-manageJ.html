<!doctype html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="Content-Type" content="text/html; charset=us-ascii">
    <title>Atom Feed Display</title>
    <link rel="stylesheet" href="../../archive_styles.css">
</head>

<body BGCOLOR="#fffffb">
    
    <h1>#PickhardtPayments implemented in lnd-manageJ</h1>
    <hr class="solid">
    
    <ul>
        
        
            <p><b>Author:</b> Carsten Otto 2022-05-17 10:46:08
            <br><i>Published on: 2022-05-17T10:46:08+00:00</i></p>

        
        

        
        
        <li>
        <a href="/lightning-dev/May_2022/combined_-PickhardtPayments-implemented-in-lnd-manageJ.html"> Combined Summary of all posts in thread </a>
        </li>
        
        <li>
            
                <a href="https://lists.linuxfoundation.org/pipermail/lightning-dev/2022-May/003586.html">Click here to read original discussion on the lightning-dev mailing list</a>
            
        </li>

    </ul>

    <hr>
    <h3> Summary:</h3>
    <p>The latest version of lnd-manageJ now includes channels that charge a base fee. The worst-case scenario is assumed to make this work, whereby the smallest possible amount is used and the fee rate for route computation is adjusted accordingly. With default settings (quantization 10,000sat), channels charging a base fee of Xsat and a fee rate of Yppm are considered with a virtual fee rate of (Y+X*100)ppm. This penalty is linear in the quantization amount.A Dockerfile has been added by the developer to help with experiments, which requires a patched lnd. Users can tweak the lnd-manageJ.conf and review available options on GitHub. However, to avoid TLS issues with gRPC, users need to use "--network host" if they run lnd on localhost. PostgreSQL is booted on the default port 5432, so users should ensure it is available and not in use by their host. Route/hop hints provided in payment requests are now considered, so private/virtual channels are used for the route computation. This only works for "route hints" containing a single hop. Each "hint" channel is added with a capacity of 50 BTC, and the algorithm believes that 100% of that is available. The known liquidity is not displayed in the streaming NDJSON output received via HTTP, but is just a display issue that does not affect the route computation. Users are advised to issue a test payment before measuring the time it takes to send out any real payment, as lnd-manageJ needs to request the LN graph from lnd, which takes a few seconds. The graph is cached for up to two minutes and refreshed before it times out.</p>
    <hr>
    <p><i> Updated on: 2023-06-03T08:42:11.199933+00:00 </i></p>
    
    

    <footer>
        <span style="font-family: Arial, Helvetica, sans-serif;">&#10084;&#65039;</span> <a href="https://chaincode.com" target="_blank" rel="noreferrer" style="text-decoration: none; color: inherit;">Chaincode</a>
    </footer>
</body>

</html>