<!doctype html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="Content-Type" content="text/html; charset=us-ascii">
    <title>Atom Feed Display</title>
    <link rel="stylesheet" href="../../archive_styles.css">
</head>

<body BGCOLOR="#fffffb">
    
    <h1>HTLCs using OP_CHECKSEQUENCEVERIFY/OP_LOCKTIMEVERIFY and revocation hashes. <span class="combined-summary">[combined summary]</span></h1>
    <hr class="solid">
    <br><b>Individual post summaries:</b>
    
    <ul>
        
        
        <li>
        <a href="/lightning-dev/Feb_2016/000441_HTLCs-using-OP-CHECKSEQUENCEVERIFY-OP-LOCKTIMEVERIFY-and-revocation-hashes-.xml.html">HTLCs using OP_CHECKSEQUENCEVERIFY/OP_LOCKTIMEVERIFY and revocation hashes.</a>
        <b>Anthony Towns 2016-02-10 16:50:49</b>
        </li>
        
        <li>
        <a href="/lightning-dev/Feb_2016/000437_HTLCs-using-OP-CHECKSEQUENCEVERIFY-OP-LOCKTIMEVERIFY-and-revocation-hashes-.xml.html">HTLCs using OP_CHECKSEQUENCEVERIFY/OP_LOCKTIMEVERIFY and revocation hashes.</a>
        <b>Anthony Towns 2016-02-09 08:59:56</b>
        </li>
        
        <li>
        <a href="/lightning-dev/July_2015/000054_HTLCs-using-OP-CHECKSEQUENCEVERIFY-OP-LOCKTIMEVERIFY-and-revocation-hashes-.xml.html">HTLCs using OP_CHECKSEQUENCEVERIFY/OP_LOCKTIMEVERIFY and revocation hashes.</a>
        <b>Anthony Towns 2015-07-23 05:07:33</b>
        </li>
        

        
    </ul>
    
        <a href="https://lists.linuxfoundation.org/pipermail/lightning-dev/2016-February/000441.html">Click here to read original discussion on the lightning-dev mailing list</a>
    
    <p><i>Published on: 2016-02-10T16:50:49+00:00</i></p>
    <hr>
    <h3> Summary:</h3>
    <p>The email thread discusses the scenario where Alice and Eve are connected with two channels, and Eve performs a payment to herself through these channels. The channels have OP_CSV delay parameter for both channels set at the value "D". Alice's commitments include a fee that she expects will result in confirmation in less than a delay of "F", and she's confident that a transaction can be spent so long as it's been in the blockchain for "N" units of time. The HTLCs are mentioned as well. When forwarding the HTLC, Alice calculates T' such that T' = now + D + F. If Alice doesn't get an ack from Eve prior to T-D-F, she must go to the blockchain. In this case, she publishes her commitment transaction at T-D-F, and after an additional "D" time units, Alice can spend the transaction, but Eve cannot. The question is which times out first, Alice's CSV or Eve's CLTV? The one that times out first will be the first to be able to claim the funds. The options available are: keep the channel open, they close the channel unilaterally, you close the channel unilaterally, and you both close the channel cooperatively. At any point, the preferences are strictly d > b > c. With an OP_CSV on both sides of HTLCs, you can make a somewhat realistic threat: "if you don't pay me $x to do a cooperative close, I'll close unilaterally which will lock your funds up." The email thread also includes scripts for HTLC from US to THEM and THEM to US. Overall, the thread covers various aspects related to lightning network protocols and the scenarios that may arise while using these protocols.</p>
    <hr>
    <p><i> Updated on: 2023-05-18T17:46:02.206398+00:00 </i></p>
    

    

    <footer>
        <span style="font-family: Arial, Helvetica, sans-serif;">&#10084;&#65039;</span> <a href="https://chaincode.com" target="_blank" rel="noreferrer" style="text-decoration: none; color: inherit;">Chaincode</a>
    </footer>
</body>

</html>