<!doctype html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="Content-Type" content="text/html; charset=us-ascii">
    <title>Atom Feed Display</title>
    <link rel="stylesheet" href="../../archive_styles.css">
</head>

<body BGCOLOR="#fffffb">
    
    <h1>HTLCs using OP_CHECKSEQUENCEVERIFY/OP_LOCKTIMEVERIFY and revocation hashes. <span class="combined-summary">[combined summary]</span></h1>
    <hr class="solid">
    <br><b>Individual post summaries:</b>
    
    <ul>
        
        
        <li>
        <a href="/lightning-dev/Feb_2016/000441_HTLCs-using-OP-CHECKSEQUENCEVERIFY-OP-LOCKTIMEVERIFY-and-revocation-hashes-.xml.html">HTLCs using OP_CHECKSEQUENCEVERIFY/OP_LOCKTIMEVERIFY and revocation hashes.</a>
        <b>Anthony Towns 2016-02-10 16:50:49</b>
        </li>
        
        <li>
        <a href="/lightning-dev/Feb_2016/000437_HTLCs-using-OP-CHECKSEQUENCEVERIFY-OP-LOCKTIMEVERIFY-and-revocation-hashes-.xml.html">HTLCs using OP_CHECKSEQUENCEVERIFY/OP_LOCKTIMEVERIFY and revocation hashes.</a>
        <b>Anthony Towns 2016-02-09 08:59:56</b>
        </li>
        
        <li>
        <a href="/lightning-dev/July_2015/000054_HTLCs-using-OP-CHECKSEQUENCEVERIFY-OP-LOCKTIMEVERIFY-and-revocation-hashes-.xml.html">HTLCs using OP_CHECKSEQUENCEVERIFY/OP_LOCKTIMEVERIFY and revocation hashes.</a>
        <b>Anthony Towns 2015-07-23 05:07:33</b>
        </li>
        

        
    </ul>
    
        <a href="https://lists.linuxfoundation.org/pipermail/lightning-dev/2016-February/000441.html">Click here to read original discussion on the lightning-dev mailing list</a>
    
    <p><i>Published on: 2016-02-10T16:50:49+00:00</i></p>
    <hr>
    <h3> Summary:</h3>
    <p>The email conversation between CJP and Rusty Russell discusses the scenario where Alice and Eve are connected with two channels, and Eve performs a payment to herself routed through these two channels. The delay parameter for both channels is set at the value "D" and Alice's commitments include a fee that she expects will result in confirmation in less than a delay of "F". HTLCs are also involved where Eve pays Alice $X on receipt of R, CLTV at time T, and Alice pays Evelyn $X on receipt of R, CLTV at time T'. When forwarding the HTLC, Alice calculates T' such that T' = now + D + F. If Eve does not send Alice a commit transaction update and becomes unresponsive on the channel, Alice should start the timer ticking and broadcast her commit transaction containing the HTLC before its CLTV times out. In his email, Rusty Russell talks about the commitment transaction maintained by each side with two outputs: one paying to self (with some delay), and the second paying to the other side. To generate hash time-locked contracts required for lightning to be a network, both commitment transactions get an additional output per HTLC. This output is spendable under four conditions: the recipient knows the R value (funds go to recipient), the HTLC has timed out (funds return to initiator), the HTLC has been revoked (funds go to "non-cheating" side) or the Commit transaction has been revoked (funds go to "non-cheating" side). The last two failure modes are separate from each other because HTLCs have different lifetimes from commit transactions. Anthony Towns provides scripts for the HTLC from US to THEM and from THEM to US. Overall, the emails discuss the scenario where Alice and Eve are connected with two channels and the use of hash time-locked contracts that are essential for lightning to be a network.</p>
    <hr>
    <p><i> Updated on: 2023-05-18T01:47:28.007582+00:00 </i></p>
    

    

    <footer>
        <span style="font-family: Arial, Helvetica, sans-serif;">&#10084;&#65039;</span> <a href="https://chaincode.com" target="_blank" rel="noreferrer" style="text-decoration: none; color: inherit;">Chaincode</a>
    </footer>
</body>

</html>