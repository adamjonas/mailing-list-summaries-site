<!doctype html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="Content-Type" content="text/html; charset=us-ascii">
    <title>Atom Feed Display</title>
    <link rel="stylesheet" href="../../archive_styles.css">
</head>

<body BGCOLOR="#fffffb">
    
    <h1>HTLCs using OP_CHECKSEQUENCEVERIFY/OP_LOCKTIMEVERIFY and revocation hashes.</h1>
    <hr class="solid">
    
    <ul>
        
        
            <p><b>Author:</b> Anthony Towns 2015-07-23 05:07:33
            <br><i>Published on: 2015-07-23T05:07:33+00:00</i></p>

        
        

        
        
        <li>
        <a href="/lightning-dev/July_2015/combined_HTLCs-using-OP-CHECKSEQUENCEVERIFY-OP-LOCKTIMEVERIFY-and-revocation-hashes-.html"> Combined Summary of all posts in thread </a>
        </li>
        
        <li>
            
                <a href="https://lists.linuxfoundation.org/pipermail/lightning-dev/2015-July/000054.html">Click here to read original discussion on the lightning-dev mailing list</a>
            
        </li>

    </ul>

    <hr>
    <h3> Summary:</h3>
    <p>In an email from Rusty Russell on July 6, 2015, the commitment transaction of Lightning Network was explained. Each side maintains a commitment transaction with two outputs, one paying to self and the other paying to the other side. In order to generate hash time-locked contracts (HTLC) required for lightning to be a network, both commitment transactions get an additional output per HTLC. This output is spendable under four conditions. The last two failure modes are separate from each other because HTLCs have different lifetimes from commit transactions. It seems there are two options: if HTLC is resolved off-chain, then both parties agree which way the funds should go, and both the commitment and HTLC are expired simultaneously. If HTLC is resolved on-chain, then either party decides to go to the blockchain, publishing their side of the commitment, so both the commitment and HTLC are executed simultaneously. Therefore, the commit transaction might as well always revoked before or simultaneously with the HTLC. The conditions are just that the recipient knows the R value, sender sees HTLC has timed out, or the commit transaction has been revoked.</p>
    <hr>
    <p><i> Updated on: 2023-05-18T00:22:58.840070+00:00 </i></p>
    
    

    <footer>
        <span style="font-family: Arial, Helvetica, sans-serif;">&#10084;&#65039;</span> <a href="https://chaincode.com" target="_blank" rel="noreferrer" style="text-decoration: none; color: inherit;">Chaincode</a>
    </footer>
</body>

</html>