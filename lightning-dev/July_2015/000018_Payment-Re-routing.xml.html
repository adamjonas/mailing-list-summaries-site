<!doctype html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="Content-Type" content="text/html; charset=us-ascii">
    <title>Atom Feed Display</title>
    <link rel="stylesheet" href="../../archive_styles.css">
</head>

<body BGCOLOR="#fffffb">
    
    <h1>Payment Re-routing</h1>
    <hr class="solid">
    
    <ul>
        
        
            <p><b>Author:</b> Joseph Poon 2015-07-02 11:40:19
            <br><i>Published on: 2015-07-02T11:40:19+00:00</i></p>

        
        

        
        
        <li>
        <a href="/lightning-dev/July_2015/combined_Payment-Re-routing.xml.html"> Combined Summary of all posts in thread </a>
        </li>
        
        <li>
            
                <a href="https://lists.linuxfoundation.org/pipermail/lightning-dev/2015-July/000018.html">Click here to read original discussion on the lightning-dev mailing list</a>
            
        </li>

    </ul>

    <hr>
    <h3> Summary:</h3>
    <p>In this email conversation, Rusty Russell and Stephen explore the solution proposed by Joseph Poon for the problem of routing failure in a signed transaction. The proposed solution involves E routing a conditional refund back to A with a larger timeout via another route as a guarantee that E will not reveal the preimage required to take the stalled payment. This is only necessary if there is a routing failure when a signed transaction has been sent but not acknowledged or cancellation is refused. The reason A requires an additional preimage/hash when doing the "conditional refund" is in case the conditional refund itself fails. However, the most likely case is the routing fails cleanly. If B is unable to send to C because C has been offline or B otherwise refuses to route to C, B can undo the HTLC by cancelling the HTLC entirely. This cancellation can cascade back to the sender to free up the money. Joseph raises other questions such as who would pay E (and any other intermediate nodes) for locking up their money for such a time. It is assumed that the payment from A to E is split into many small payments. If the payment is too small to be split up, then it's probably cheap enough to not matter anyway. Resolving incomplete payments should be deferred until after the payment is sufficiently complete. The incentives are largely in favor of receiver being online and accepting since the recipient is increasing the amount of bitcoin they own.</p>
    <hr>
    <p><i> Updated on: 2023-05-23T17:58:15.983758+00:00 </i></p>
    
    

    <footer>
        <span style="font-family: Arial, Helvetica, sans-serif;">&#10084;&#65039;</span> <a href="https://chaincode.com" target="_blank" rel="noreferrer" style="text-decoration: none; color: inherit;">Chaincode</a>
    </footer>
</body>

</html>