<!doctype html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="Content-Type" content="text/html; charset=us-ascii">
    <title>Atom Feed Display</title>
    <link rel="stylesheet" href="../../archive_styles.css">
</head>

<body BGCOLOR="#fffffb">
    
    <h1>Trampoline Routing</h1>
    <hr class="solid">
    
    <ul>
        
        
            <p><b>Author:</b> ZmnSCPxj 2019-08-09 04:41:17
            <br><i>Published on: 2019-08-09T04:41:17+00:00</i></p>

        
        

        
        
        <li>
        <a href="/lightning-dev/Aug_2019/combined_Trampoline-Routing.xml.html"> Combined Summary of all posts in thread </a>
        </li>
        
        <li>
            
                <a href="https://lists.linuxfoundation.org/pipermail/lightning-dev/2019-August/002113.html">Click here to read original discussion on the lightning-dev mailing list</a>
            
        </li>

    </ul>

    <hr>
    <h3> Summary:</h3>
    <p>Trampoline routing has been introduced to Lightning Network as a way to defer payment routing to trampoline nodes. Alice sends a payment to Bob by selecting T1 and RT2 to use as trampoline hops, and building a small onion that describes the following route: Alice → T1 → RT2 → Bob. The onion routing part is simple now that we have variable-length onion payloads. Trampoline nodes need to estimate a fee and cltv that allows them to route to any other trampoline node. To tackle this issue, trampoline nodes can exchange a new node_update message containing the trampoline fees and cltv. A filter system can be created where Alice sends gossip filters to her peers, and peers only forward to Alice updates that match these filters. It is doable to return the route calculated by trampoline nodes to the original caller, allowing for caching of the route and avoiding the need for trampolines in future payments. The route returned would pass through the node that provides the route, so there is still an economic incentive to do so. It is even doable to support multipart payment, by simply allowing multiple routes to be returned. However, the current route serialization contains the exact amount to be sent, and cannot be reused if the amount is changed. Thus, the route serialization needs to be redesigned.</p>
    <hr>
    <p><i> Updated on: 2023-06-02T19:44:59.691524+00:00 </i></p>
    
    

    <footer>
        <span style="font-family: Arial, Helvetica, sans-serif;">&#10084;&#65039;</span> <a href="https://chaincode.com" target="_blank" rel="noreferrer" style="text-decoration: none; color: inherit;">Chaincode</a>
    </footer>
</body>

</html>