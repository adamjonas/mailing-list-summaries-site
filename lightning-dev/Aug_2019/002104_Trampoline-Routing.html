<!doctype html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="Content-Type" content="text/html; charset=us-ascii">
    <title>Atom Feed Display</title>
    <link rel="stylesheet" href="../../archive_styles.css">
</head>

<body BGCOLOR="#fffffb">
    
    <h1>Trampoline Routing</h1>
    <hr class="solid">
    
    <ul>
        
        
            <p><b>Author:</b> ZmnSCPxj 2019-08-03 03:48:48
            <br><i>Published on: 2019-08-03T03:48:48+00:00</i></p>

        
        

        
        
        <li>
        <a href="/lightning-dev/Aug_2019/combined_Trampoline-Routing.html"> Combined Summary of all posts in thread </a>
        </li>
        
        <li>
            
                <a href="https://lists.linuxfoundation.org/pipermail/lightning-dev/2019-August/002104.html">Click here to read original discussion on the lightning-dev mailing list</a>
            
        </li>

    </ul>

    <hr>
    <h3> Summary:</h3>
    <p>Trampoline routing is a simple concept which involves Alice sending a payment to Bob, even though she doesn't know how to reach him. This is done by using trampoline nodes. Alice selects the trampoline node that she can reach and defers the calculation of the rest of the route to that node. In this example, Alice selected T1 and RT2 as trampoline hops and built an onion routing with the following route: Alice -> T1 -> RT2 -> Bob. To answer the question of how Alice knows if RT2 has a route to Bob, trampoline nodes must estimate a fee and CLTV (Check Lock Time Verify) that allows them to route to any other trampoline node. The existing gossip infrastructure is used to exchange a new node_update message that contains the trampoline fees and CLTV. To avoid receiving every network update, Alice sends gossip filters to her peers, and peers only forward updates that match these filters.Nodes are mapped to virtual space under this system, and nodes should preferably retain the part of the network graph that connects itself to those nodes near it in this virtual space. If T1 knows a route to T1.5, and it knows that T1.5 is nearer to T2 than to itself in the virtual space, it can try to route through T1.5 in the hope T1.5 knows a route from itself to T2. Other ways of knowing some distillation of the public network without remembering the channel level details are also possible. The onion routing part is quite simple now that there are variable-length onion payloads. Trampoline routing involves putting a small onion inside a big onion, and HTLC (Hashed TimeLock Contract) management forwards very naturally.</p>
    <hr>
    <p><i> Updated on: 2023-06-02T19:44:07.284850+00:00 </i></p>
    
    

    <footer>
        <span style="font-family: Arial, Helvetica, sans-serif;">&#10084;&#65039;</span> <a href="https://chaincode.com" target="_blank" rel="noreferrer" style="text-decoration: none; color: inherit;">Chaincode</a>
    </footer>
</body>

</html>