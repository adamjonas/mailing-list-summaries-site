<!doctype html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="Content-Type" content="text/html; charset=us-ascii">
    <title>Atom Feed Display</title>
    <link rel="stylesheet" href="../../archive_styles.css">
</head>

<body BGCOLOR="#fffffb">
    
    <h1>Onion messages rate-limiting</h1>
    <hr class="solid">
    
    <ul>
        
        
            <p><b>Author:</b> Joost Jager 2022-07-10 08:43:27
            <br><i>Published on: 2022-07-10T08:43:27+00:00</i></p>

        
        

        
        
        <li>
        <a href="/lightning-dev/July_2022/combined_Onion-messages-rate-limiting.xml.html"> Combined Summary of all posts in thread </a>
        </li>
        
        <li>
            
                <a href="https://lists.linuxfoundation.org/pipermail/lightning-dev/2022-July/003661.html">Click here to read original discussion on the lightning-dev mailing list</a>
            
        </li>

    </ul>

    <hr>
    <h3> Summary:</h3>
    <p>In a conversation with Joost, Matt Corallo discusses the issue of spamming in the Lightning Network. According to Corallo, requiring a channel to relay onion messages puts a significant cost on getting an onion messaging channel. He also notes that backpressure ability to DoS onion message links is not based on the number of messages but on the number of channels. This makes the backpressure system equivalent to today's HTLC DoS considerations. On the other hand, explicit payment allows an attacker to pay much less to break the system. Corallo states that for the one time cost of channel open/close, an attacker can generate spam forever if they stay right below the rate limit. He also mentions that making it expensive enough to mount a months-long DDoS without impacting legitimate users is pretty easy. However, no reasonable cost scheme will work if someone can reasonably trivially take out the network for minutes at a time to make it have perceptibly high failure rates.In response to Joost's question about what will happen if the attacker has enough channels to hit the rate limit on an important connection some hops away from themselves, Corallo suggests that node operators may work together to trace back to the source and take down the attacker. However, this requires operators to know each other. Corallo also notes that this is a difference between the Lightning Network and the internet where routers on the internet know each other and have physical links between them, whereas in lightning ties can be much looser.</p>
    <hr>
    <p><i> Updated on: 2023-06-03T09:17:49.102105+00:00 </i></p>
    
    

    <footer>
        <span style="font-family: Arial, Helvetica, sans-serif;">&#10084;&#65039;</span> <a href="https://chaincode.com" target="_blank" rel="noreferrer" style="text-decoration: none; color: inherit;">Chaincode</a>
    </footer>
</body>

</html>