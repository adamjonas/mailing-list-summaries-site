<!doctype html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="Content-Type" content="text/html; charset=us-ascii">
    <title>Atom Feed Display</title>
    <link rel="stylesheet" href="../../archive_styles.css">
</head>

<body BGCOLOR="#fffffb">
    
    <h1>Possibility to Include refund invoice in lightning payments <span class="combined-summary">[combined summary]</span></h1>
    <hr class="solid">
    <br><b>Individual post summaries:</b>
    
        <ul>
            
                
                    <li>
                        <a href="/lightning-dev/June_2019/002019_Possibility-to-Include-refund-invoice-in-lightning-payments.html">Possibility to Include refund invoice in lightning payments</a>
                        <b>Conner Fromknecht 2019-06-14 06:34:07+00:00</b>
                    </li>
                
                    <li>
                        <a href="/lightning-dev/June_2019/002018_Possibility-to-Include-refund-invoice-in-lightning-payments.html">Possibility to Include refund invoice in lightning payments</a>
                        <b>ZmnSCPxj 2019-06-14 06:16:11+00:00</b>
                    </li>
                
                    <li>
                        <a href="/lightning-dev/May_2019/002017_Possibility-to-Include-refund-invoice-in-lightning-payments.html">Possibility to Include refund invoice in lightning payments</a>
                        <b>Paberlance 2019-05-12 23:24:49+00:00</b>
                    </li>
                
            
        </ul>
        
            <a href="https://lists.linuxfoundation.org/pipermail/lightning-dev/2019-June/002019.html">Click here to read the original discussion on the lightning-dev mailing list</a>
        
        <p><i>Published on: 2019-06-14T06:34:07+00:00</i></p>
        <hr>
        <h3>Summary:</h3>
        <p>The Lightning Dev mailing list is currently discussing the possibility of adding a refund invoice to Lightning Network (LN) payments. The idea behind this proposal is to give recipients the option to fully or partially refund a payment, or even tip a higher amount back to the sender. Currently, there is no straightforward way to transmit extra application-level data with each payment, but it may become possible once the TLV (Type-Length-Value) specification is finalized.The proposed refund invoice would be attached to any LN payment, allowing the recipient to decide whether they want to refund or tip the sender. This feature could have various use cases, including promotions, refunds, safety deposits, and spontaneous payouts in games. However, the implementation of this idea depends on the finalization of the TLV specification. Additionally, the variable-length onion packet, which is essential for this functionality, is expected to be finalized soon.While attaching a refund invoice to each payment has its advantages, such as offering better privacy for non-refunded payments, there is a drawback in leaking the sender's pubkey in every transaction. However, this information could potentially be provided externally or out of band if the sender is concerned about privacy. It is important to note that an alternative called the "hodl invoice" exists, but it is limited to an "all or nothing" refund option and cannot exceed the original payment amount.To implement the refund invoice feature, several requirements need to be met. On the payer side, a protocol needs to be agreed upon to embed the return invoice with the LN payment, ensuring a smooth user experience. On the recipient's side, they would receive a normal LN invoice and store it for a later spontaneous refund, as the invoice amount is not predefined.In summary, the proposal to attach a refund invoice to LN payments aims to provide recipients with more flexibility in refunding or tipping the sender. While there are alternative options available, the proposed feature offers more versatility. However, the implementation is contingent on the finalization of the TLV specification and the variable-length onion packet. The proposal seeks further resources and hints for development and implementation.</p>
        <hr>
        <p><i>Updated on: 2023-07-31T21:39:13.528817+00:00</i></p>
    

    

    <footer>
        <span style="font-family: Arial, Helvetica, sans-serif;">&#10084;&#65039;</span> <a href="https://chaincode.com" target="_blank" rel="noreferrer" style="text-decoration: none; color: inherit;">Chaincode</a>
    </footer>
</body>

</html>