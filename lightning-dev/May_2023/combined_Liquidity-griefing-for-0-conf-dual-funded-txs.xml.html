<!doctype html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="Content-Type" content="text/html; charset=us-ascii">
    <title>Atom Feed Display</title>
    <link rel="stylesheet" href="../../archive_styles.css">
</head>

<body BGCOLOR="#fffffb">
    
    <h1>Liquidity griefing for 0-conf dual-funded txs <span class="combined-summary">[combined summary]</span></h1>
    <hr class="solid">
    <br><b>Individual post summaries:</b>
    
        <ul>
            
                
                    <li>
                        <a href="/lightning-dev/June_2023/003974_Liquidity-griefing-for-0-conf-dual-funded-txs.xml.html">Liquidity griefing for 0-conf dual-funded txs</a>
                        <b>Antoine Riard 2023-06-07 00:41:12+00:00</b>
                    </li>
                
                    <li>
                        <a href="/lightning-dev/May_2023/003938_Liquidity-griefing-for-0-conf-dual-funded-txs.xml.html">Liquidity griefing for 0-conf dual-funded txs</a>
                        <b>Matt Morehouse 2023-05-09 17:38:55+00:00</b>
                    </li>
                
                    <li>
                        <a href="/lightning-dev/May_2023/003931_Liquidity-griefing-for-0-conf-dual-funded-txs.xml.html">Liquidity griefing for 0-conf dual-funded txs</a>
                        <b>ZmnSCPxj 2023-05-07 22:54:50+00:00</b>
                    </li>
                
                    <li>
                        <a href="/lightning-dev/May_2023/003942_Liquidity-griefing-for-0-conf-dual-funded-txs.xml.html">Liquidity griefing for 0-conf dual-funded txs</a>
                        <b>ZmnSCPxj 2023-05-10 00:07:06+00:00</b>
                    </li>
                
                    <li>
                        <a href="/lightning-dev/May_2023/003943_Liquidity-griefing-for-0-conf-dual-funded-txs.xml.html">Liquidity griefing for 0-conf dual-funded txs</a>
                        <b>Bastien TEINTURIER 2023-05-10 09:15:25+00:00</b>
                    </li>
                
                    <li>
                        <a href="/lightning-dev/May_2023/003920_Liquidity-griefing-for-0-conf-dual-funded-txs.xml.html">Liquidity griefing for 0-conf dual-funded txs</a>
                        <b>Bastien TEINTURIER 2023-05-05 16:21:50+00:00</b>
                    </li>
                
                    <li>
                        <a href="/lightning-dev/June_2023/003975_Liquidity-griefing-for-0-conf-dual-funded-txs.xml.html">Liquidity griefing for 0-conf dual-funded txs</a>
                        <b>Bastien TEINTURIER 2023-06-07 09:46:36+00:00</b>
                    </li>
                
                    <li>
                        <a href="/lightning-dev/May_2023/003938_Liquidity-griefing-for-0-conf-dual-funded-txs.xml.html">Liquidity griefing for 0-conf dual-funded txs</a>
                        <b>Matt Morehouse 2023-05-09 17:38:55+00:00</b>
                    </li>
                
                    <li>
                        <a href="/lightning-dev/May_2023/003931_Liquidity-griefing-for-0-conf-dual-funded-txs.xml.html">Liquidity griefing for 0-conf dual-funded txs</a>
                        <b>ZmnSCPxj 2023-05-07 22:54:50+00:00</b>
                    </li>
                
                    <li>
                        <a href="/lightning-dev/May_2023/003942_Liquidity-griefing-for-0-conf-dual-funded-txs.xml.html">Liquidity griefing for 0-conf dual-funded txs</a>
                        <b>ZmnSCPxj 2023-05-10 00:07:06+00:00</b>
                    </li>
                
                    <li>
                        <a href="/lightning-dev/May_2023/003943_Liquidity-griefing-for-0-conf-dual-funded-txs.xml.html">Liquidity griefing for 0-conf dual-funded txs</a>
                        <b>Bastien TEINTURIER 2023-05-10 09:15:25+00:00</b>
                    </li>
                
                    <li>
                        <a href="/lightning-dev/May_2023/003920_Liquidity-griefing-for-0-conf-dual-funded-txs.xml.html">Liquidity griefing for 0-conf dual-funded txs</a>
                        <b>Bastien TEINTURIER 2023-05-05 16:21:50+00:00</b>
                    </li>
                
            
        </ul>
        
            <a href="https://lists.linuxfoundation.org/pipermail/lightning-dev/2023-June/003974.html">Click here to read the original discussion on the lightning-dev mailing list</a>
        
        <p><i>Published on: 2023-06-07T00:41:12+00:00</i></p>
        <hr>
        <h3>Summary:</h3>
        <p>The Lightning Network development team is currently discussing the challenges of protecting against liquidity griefing attacks from malicious peers in dual-funded transactions. Bastien Teinturier has raised concerns about this issue and proposed a solution that involves never locking UTXOs used in dual-funded transactions. The current solution is to lock UTXOs only after the tx_complete exchange for option_zeroconf channels. However, when mixing 0-conf and non-0-conf funding attempts, soft locks may prevent upgrading to 0-conf. Nodes offering 0-conf services must ensure that the UTXOs they use for 0-conf are isolated from those used for non-0-conf. In eclair, opportunistic 0-conf is used, but it cannot be used anymore when mixing 0-conf and non-0-conf funding attempts due to soft locked UTXOs. To address this issue, Bastien suggests never locking UTXOs used in dual-funded transactions and proposes that UTXOs be locked after tx_completes have been exchanged if the channel has option_zeroconf. If the peer adds any inputs to the funding transaction, the process should be aborted as 0-conf is unsafe in this case.The email thread also discusses the safety of dual-funded 0-conf transactions and proposes using swap-in-potentiam addresses with the acceptor. The initiator still needs to trust that the acceptor does not double-spend out from under the initiator. The author notes that LSPS3 Promise To Unconditionally Fund 0-conf could address this concern. Furthermore, the discussion on the pull request made by Bastien Nocera, which proposes adding support for 0-conf in Lightning's `pay` command, is ongoing. Some developers have expressed concerns about the security implications of implementing 0-conf in Lightning. The Staking Credentials framework could be deployed by dual-funding market-makers beyond routing hops to mitigate channel jamming. In summary, the email thread highlights the challenges of offering 0-conf services while protecting against liquidity griefing attacks from malicious peers in dual-funded transactions. The current solution is to never lock UTXOs used in dual-funded transactions and only lock them after tx_complete exchange for option_zeroconf channels. However, mixing 0-conf and non-0-conf funding attempts can result in soft locks that prevent upgrading to 0-conf. The safety of dual-funded 0-conf transactions can be improved with the use of swap-in-potentiam addresses and the LSPS3 Promise To Unconditionally Fund 0-conf. Developers are discussing the implementation of 0-conf in Lightning's `pay` command, but security concerns have been raised. Finally, the Staking Credentials framework could be used to mitigate channel jamming.</p>
        <hr>
        <p><i>Updated on: 2023-06-27T03:53:15.066746+00:00</i></p>
    

    

    <footer>
        <span style="font-family: Arial, Helvetica, sans-serif;">&#10084;&#65039;</span> <a href="https://chaincode.com" target="_blank" rel="noreferrer" style="text-decoration: none; color: inherit;">Chaincode</a>
    </footer>
</body>

</html>