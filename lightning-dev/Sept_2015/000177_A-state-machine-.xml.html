<!doctype html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="Content-Type" content="text/html; charset=us-ascii">
    <title>Atom Feed Display</title>
    <link rel="stylesheet" href="../../archive_styles.css">
</head>

<body BGCOLOR="#fffffb">
    
    <h1>A state machine.</h1>
    <hr class="solid">
    
    <ul>
        
        
            <p><b>Author:</b> Rusty Russell 2015-09-01 07:32:49
            <br><i>Published on: 2015-09-01T07:32:49+00:00</i></p>

        
        

        
        
        <li>
        <a href="/lightning-dev/Sept_2015/combined_A-state-machine-.xml.html"> Combined Summary of all posts in thread </a>
        </li>
        
        <li>
            
                <a href="https://lists.linuxfoundation.org/pipermail/lightning-dev/2015-September/000177.html">Click here to read original discussion on the lightning-dev mailing list</a>
            
        </li>

    </ul>

    <hr>
    <h3> Summary:</h3>
    <p>In this conversation, Rusty Russell is discussing the optimization of HTLC updates in the context of Bitcoin's Lightning Network with Anthony Towns. Russell suggests that encoding as much information as possible in the state simplifies verification and that CMD_CLOSE isn't a valid option when proposing an update. He also explains that declining an HTLC update is not valid according to his definition of states. If one's counterparty proposes a broken HTLC update, it's best to error and close the channel. Russell suggests adding a current time field to UPDATE_ADD_HTLC to defuse clock sync problems earlier. They also discuss potential deadlocks if both parties think they're high or low priority and how this can be avoided. Finally, Russell acknowledges a bug in his system where priority switches even when an update is declined and promises to change it.</p>
    <hr>
    <p><i> Updated on: 2023-05-23T19:38:06.485983+00:00 </i></p>
    
    

    <footer>
        <span style="font-family: Arial, Helvetica, sans-serif;">&#10084;&#65039;</span> <a href="https://chaincode.com" target="_blank" rel="noreferrer" style="text-decoration: none; color: inherit;">Chaincode</a>
    </footer>
</body>

</html>