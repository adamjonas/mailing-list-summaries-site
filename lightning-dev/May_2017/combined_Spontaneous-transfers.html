<!doctype html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="Content-Type" content="text/html; charset=us-ascii">
    <title>Atom Feed Display</title>
    <link rel="stylesheet" href="../../archive_styles.css">
</head>

<body BGCOLOR="#fffffb">
    
    <h1>Spontaneous transfers <span class="combined-summary">[combined summary]</span></h1>
    <hr class="solid">
    <br><b>Individual post summaries:</b>
    
        <ul>
            
                
                    <li>
                        <a href="/lightning-dev/May_2017/000718_Spontaneous-transfers.html">Spontaneous transfers</a>
                        <b>Christian Decker 2017-05-09 10:19:24</b>
                    </li>
                
                    <li>
                        <a href="/lightning-dev/May_2017/000713_Spontaneous-transfers.html">Spontaneous transfers</a>
                        <b>Rusty Russell 2017-05-09 01:22:42</b>
                    </li>
                
                    <li>
                        <a href="/lightning-dev/May_2017/000715_Spontaneous-transfers.html">Spontaneous transfers</a>
                        <b>ZmnSCPxj 2017-05-09 09:01:02</b>
                    </li>
                
                    <li>
                        <a href="/lightning-dev/May_2017/000711_Spontaneous-transfers.html">Spontaneous transfers</a>
                        <b>Christian Decker 2017-05-08 11:47:24</b>
                    </li>
                
                    <li>
                        <a href="/lightning-dev/May_2017/000720_Spontaneous-transfers.html">Spontaneous transfers</a>
                        <b>Rusty Russell 2017-05-10 03:57:41</b>
                    </li>
                
            
        </ul>
        
            <a href="https://lists.linuxfoundation.org/pipermail/lightning-dev/2017-May/000718.html">Click here to read the original discussion on the lightning-dev mailing list</a>
        
        <p><i>Published on: 2017-05-09T10:19:24+00:00</i></p>
        <hr>
        <h3>Summary:</h3>
        <p>The Lightning Network developers are discussing invoice-based transfers, and the article discusses different use cases of these transfers. Two recurring requirements for these transfers are that the recipient gets the payment preimage so that she can trigger the clearing of the HTLC and that there is a mechanism that signals to the recipient who the sender is without out-of-band communication.Christian Decker suggests two possible solutions to this problem. The first option is stuffing the information into the routing info, while the second one is creating a circular route from the sender to the recipient.Rusty Russell suggests using 16 bytes in the onion to communicate a 128-bit R value for anti-probing. If larger amounts are desired, a new onion version would be needed. He thinks that we could use the 16 bytes for a prefix lookup in our routing table and then derive the payment preimage from that. Russell also talks about implementing a LightningDice service where a full payment hash is packed into a pair of per_hop, so the LightningDice(TM) service can run a pair of neighboring nodes.Lastly, the author suggests using XOR rules for probabilistic payments via an LD server. The LD server takes the funds if it wins, and the rest of the onion commits to the new rhash and amount. If it loses, LD launches a new HTLC using the rest of the onion.</p>
        <hr>
        <p><i>Updated on: 2023-05-24T01:52:50.055748+00:00</i></p>
    

    

    <footer>
        <span style="font-family: Arial, Helvetica, sans-serif;">&#10084;&#65039;</span> <a href="https://chaincode.com" target="_blank" rel="noreferrer" style="text-decoration: none; color: inherit;">Chaincode</a>
    </footer>
</body>

</html>