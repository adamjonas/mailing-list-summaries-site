<!doctype html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="Content-Type" content="text/html; charset=us-ascii">
    <title>Atom Feed Display</title>
    <link rel="stylesheet" href="../../archive_styles.css">
</head>

<body BGCOLOR="#fffffb">
    
    <h1>Deterministic generation of H <span class="combined-summary">[combined summary]</span></h1>
    <hr class="solid">
    <br><b>Individual post summaries:</b>
    
        <ul>
            
                
                    <li>
                        <a href="/lightning-dev/May_2017/000721_Deterministic-generation-of-H.xml.html">Deterministic generation of H</a>
                        <b>Neil Fincham 2017-05-18 22:23:20</b>
                    </li>
                
                    <li>
                        <a href="/lightning-dev/May_2017/000723_Deterministic-generation-of-H.xml.html">Deterministic generation of H</a>
                        <b>Rusty Russell 2017-05-20 06:51:49</b>
                    </li>
                
            
        </ul>
        
            <a href="https://lists.linuxfoundation.org/pipermail/lightning-dev/2017-May/000721.html">Click here to read the original discussion on the lightning-dev mailing list</a>
        
        <p><i>Published on: 2017-05-18T22:23:20+00:00</i></p>
        <hr>
        <h3>Summary:</h3>
        <p>In an email exchange, Neil Fincham inquired whether it is possible to deterministically generate H without revealing S to the generator while still being safe to use S to close the channel. BIP32 allows for the generation of a Master Private Key, which can be transformed into a Master Public Key and used to generate a series of addresses without the use of private keys. Similarly, with LN, a random value S is generated and hashed into H, which is then distributed along with S to close the channel. Rusty replied that it is possible but not with the current method. He explained that we use the terms "payment hash" for H and "payment preimage" for S in LN. Rusty suggested using a pubkey for the payment hash and a privkey for the payment preimage, which could allow for the exact use of BIP32. However, he clarified that we still need the payment preimage to close out the HTLC but could send out payment requests without access to the preimages. Despite this, he pointed out that this cannot be done with SHA256. He also mentioned an even more mindblowing scheme using Schnorr where the signature itself serves as a kind of preimage, which would allow a similar partition scheme to what Neil described, but he is unsure about it.</p>
        <hr>
        <p><i>Updated on: 2023-06-02T01:08:47.579768+00:00</i></p>
    

    

    <footer>
        <span style="font-family: Arial, Helvetica, sans-serif;">&#10084;&#65039;</span> <a href="https://chaincode.com" target="_blank" rel="noreferrer" style="text-decoration: none; color: inherit;">Chaincode</a>
    </footer>
</body>

</html>