<!doctype html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="Content-Type" content="text/html; charset=us-ascii">
    <title>Atom Feed Display</title>
    <link rel="stylesheet" href="../../archive_styles.css">
</head>

<body BGCOLOR="#fffffb">
    
    <h1>BOLT3: Commitment Transaction Outputs is weak to malleability <span class="combined-summary">[combined summary]</span></h1>
    <hr class="solid">
    <br><b>Individual post summaries:</b>
    
        <ul>
            
                
                    <li>
                        <a href="/lightning-dev/Nov_2017/000809_BOLT3-Commitment-Transaction-Outputs-is-weak-to-malleability.xml.html">BOLT3: Commitment Transaction Outputs is weak to malleability</a>
                        <b>Nicolas Dorier 2017-11-29 07:40:13</b>
                    </li>
                
                    <li>
                        <a href="/lightning-dev/Nov_2017/000808_BOLT3-Commitment-Transaction-Outputs-is-weak-to-malleability.xml.html">BOLT3: Commitment Transaction Outputs is weak to malleability</a>
                        <b>Nicolas Dorier 2017-11-29 07:11:33</b>
                    </li>
                
                    <li>
                        <a href="/lightning-dev/Nov_2017/000810_BOLT3-Commitment-Transaction-Outputs-is-weak-to-malleability.xml.html">BOLT3: Commitment Transaction Outputs is weak to malleability</a>
                        <b>Olaoluwa Osuntokun 2017-11-29 09:22:22</b>
                    </li>
                
            
        </ul>
        
            <a href="https://lists.linuxfoundation.org/pipermail/lightning-dev/2017-November/000809.html">Click here to read the original discussion on the lightning-dev mailing list</a>
        
        <p><i>Published on: 2017-11-29T07:40:13+00:00</i></p>
        <hr>
        <h3>Summary:</h3>
        <p>The Commitment Transaction Output script used by Bitcoin is vulnerable to malleability, which can be exploited to delay the confirmation of the revocation. This can have negative impacts on Lightning as it relies on time locks. However, there is a policy rule called SCRIPT_VERIFY_MINIMALIF, created by jl2012, which was merged into v0.15.1 to fix this issue without extensive development work. By the time Lightning Network is ready, it is expected that enough miners will have adopted v0.15.1 to prevent this vulnerability.While most miners are already running with the standard malleability reducing policy that shipped in version 0.14, there is still a possibility of a contract breach if Eve's first element of the witness stack pushes the fee rate of Alice's justice transaction to an "insufficient" range and the justice transaction is delayed excessively. To counteract this issue, Lnd has plans to implement a scorched earth policy when responding to on-chain contract breach events. This policy would gradually increase the fee on the transaction using RBF for each block it doesn't confirm in, drawing the additional fee from the violator's settled balance in that state. Assuming rational miners accept the higher fee transaction, then the justice transaction will make it into the block before the transaction breaching the contract.To address Dorier's malleability concern and further stack incentives against attempting a contract breach, enabling RBF of the Penalty transaction so Eve's transaction would be replaced by the initial one would fix the situation and not require extensive development. The SCRIPT_VERIFY_MINIMALIF policy rule by jl2012 fixes the malleability vulnerability with only a 2-byte overhead.</p>
        <hr>
        <p><i>Updated on: 2023-06-03T17:50:12.808682+00:00</i></p>
    

    

    <footer>
        <span style="font-family: Arial, Helvetica, sans-serif;">&#10084;&#65039;</span> <a href="https://chaincode.com" target="_blank" rel="noreferrer" style="text-decoration: none; color: inherit;">Chaincode</a>
    </footer>
</body>

</html>