<!doctype html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="Content-Type" content="text/html; charset=us-ascii">
    <title>Atom Feed Display</title>
    <link rel="stylesheet" href="../../archive_styles.css">
</head>

<body BGCOLOR="#fffffb">
    
    <h1>eltoo: A Simplified update Mechanism for Lightning and Off-Chain Contracts <span class="combined-summary">[combined summary]</span></h1>
    <hr class="solid">
    <br><b>Individual post summaries:</b>
    
        <ul>
            
                
                    <li>
                        <a href="/lightning-dev/June_2018/001311_eltoo-A-Simplified-update-Mechanism-for-Lightning-and-Off-Chain-Contracts.html">eltoo: A Simplified update Mechanism for Lightning and Off-Chain Contracts</a>
                        <b>Christian Decker 2018-06-19 14:46:32</b>
                    </li>
                
                    <li>
                        <a href="/lightning-dev/June_2018/001313_eltoo-A-Simplified-update-Mechanism-for-Lightning-and-Off-Chain-Contracts.html">eltoo: A Simplified update Mechanism for Lightning and Off-Chain Contracts</a>
                        <b>David A. Harding 2018-06-20 15:31:50</b>
                    </li>
                
                    <li>
                        <a href="/lightning-dev/Oct_2018/001453_eltoo-A-Simplified-update-Mechanism-for-Lightning-and-Off-Chain-Contracts.html">eltoo: A Simplified update Mechanism for Lightning and Off-Chain Contracts</a>
                        <b>Christian Decker 2018-10-13 10:12:03</b>
                    </li>
                
                    <li>
                        <a href="/lightning-dev/May_2018/001237_eltoo-A-Simplified-update-Mechanism-for-Lightning-and-Off-Chain-Contracts.html">eltoo: A Simplified update Mechanism for Lightning and Off-Chain Contracts</a>
                        <b>Christian Decker 2018-05-03 10:28:53</b>
                    </li>
                
                    <li>
                        <a href="/lightning-dev/May_2018/001239_eltoo-A-Simplified-update-Mechanism-for-Lightning-and-Off-Chain-Contracts.html">eltoo: A Simplified update Mechanism for Lightning and Off-Chain Contracts</a>
                        <b>Carsten Otto 2018-05-03 16:17:28</b>
                    </li>
                
                    <li>
                        <a href="/lightning-dev/May_2018/001240_eltoo-A-Simplified-update-Mechanism-for-Lightning-and-Off-Chain-Contracts.html">eltoo: A Simplified update Mechanism for Lightning and Off-Chain Contracts</a>
                        <b>ZmnSCPxj 2018-05-04 07:20:57</b>
                    </li>
                
                    <li>
                        <a href="/lightning-dev/May_2018/001278_eltoo-A-Simplified-update-Mechanism-for-Lightning-and-Off-Chain-Contracts.html">eltoo: A Simplified update Mechanism for Lightning and Off-Chain Contracts</a>
                        <b>Corn√© Plooy 2018-05-15 13:22:44</b>
                    </li>
                
                    <li>
                        <a href="/lightning-dev/May_2018/001279_eltoo-A-Simplified-update-Mechanism-for-Lightning-and-Off-Chain-Contracts.html">eltoo: A Simplified update Mechanism for Lightning and Off-Chain Contracts</a>
                        <b>ZmnSCPxj 2018-05-15 13:41:45</b>
                    </li>
                
                    <li>
                        <a href="/lightning-dev/May_2018/001226_eltoo-A-Simplified-update-Mechanism-for-Lightning-and-Off-Chain-Contracts.html">eltoo: A Simplified update Mechanism for Lightning and Off-Chain Contracts</a>
                        <b>ZmnSCPxj 2018-05-01 05:07:54</b>
                    </li>
                
                    <li>
                        <a href="/lightning-dev/May_2018/001231_eltoo-A-Simplified-update-Mechanism-for-Lightning-and-Off-Chain-Contracts.html">eltoo: A Simplified update Mechanism for Lightning and Off-Chain Contracts</a>
                        <b>ZmnSCPxj 2018-05-02 04:12:28</b>
                    </li>
                
                    <li>
                        <a href="/lightning-dev/May_2018/001234_eltoo-A-Simplified-update-Mechanism-for-Lightning-and-Off-Chain-Contracts.html">eltoo: A Simplified update Mechanism for Lightning and Off-Chain Contracts</a>
                        <b>ZmnSCPxj 2018-05-02 12:16:29</b>
                    </li>
                
                    <li>
                        <a href="/lightning-dev/May_2018/001235_eltoo-A-Simplified-update-Mechanism-for-Lightning-and-Off-Chain-Contracts.html">eltoo: A Simplified update Mechanism for Lightning and Off-Chain Contracts</a>
                        <b>Carsten Otto 2018-05-03 09:00:23</b>
                    </li>
                
                    <li>
                        <a href="/lightning-dev/May_2018/001227_eltoo-A-Simplified-update-Mechanism-for-Lightning-and-Off-Chain-Contracts.html">eltoo: A Simplified update Mechanism for Lightning and Off-Chain Contracts</a>
                        <b>ZmnSCPxj 2018-05-01 07:12:35</b>
                    </li>
                
                    <li>
                        <a href="/lightning-dev/June_2018/001310_eltoo-A-Simplified-update-Mechanism-for-Lightning-and-Off-Chain-Contracts.html">eltoo: A Simplified update Mechanism for Lightning and Off-Chain Contracts</a>
                        <b>David A. Harding 2018-06-19 11:56:18</b>
                    </li>
                
                    <li>
                        <a href="/lightning-dev/June_2018/001312_eltoo-A-Simplified-update-Mechanism-for-Lightning-and-Off-Chain-Contracts.html">eltoo: A Simplified update Mechanism for Lightning and Off-Chain Contracts</a>
                        <b>David A. Harding 2018-06-19 18:02:51</b>
                    </li>
                
                    <li>
                        <a href="/lightning-dev/April_2018/001223_eltoo-A-Simplified-update-Mechanism-for-Lightning-and-Off-Chain-Contracts.html">eltoo: A Simplified update Mechanism for Lightning and Off-Chain Contracts</a>
                        <b>Christian Decker 2018-04-30 15:41:38</b>
                    </li>
                
                    <li>
                        <a href="/lightning-dev/July_2018/001363_eltoo-A-Simplified-update-Mechanism-for-Lightning-and-Off-Chain-Contracts.html">eltoo: A Simplified update Mechanism for Lightning and Off-Chain Contracts</a>
                        <b>Anthony Towns 2018-07-18 10:02:38</b>
                    </li>
                
                    <li>
                        <a href="/lightning-dev/May_2018/001229_eltoo-A-Simplified-update-Mechanism-for-Lightning-and-Off-Chain-Contracts.html">eltoo: A Simplified update Mechanism for Lightning and Off-Chain Contracts</a>
                        <b>Christian Decker 2018-05-01 12:04:51</b>
                    </li>
                
                    <li>
                        <a href="/lightning-dev/May_2018/001230_eltoo-A-Simplified-update-Mechanism-for-Lightning-and-Off-Chain-Contracts.html">eltoo: A Simplified update Mechanism for Lightning and Off-Chain Contracts</a>
                        <b>ZmnSCPxj 2018-05-01 23:55:41</b>
                    </li>
                
                    <li>
                        <a href="/lightning-dev/May_2018/001236_eltoo-A-Simplified-update-Mechanism-for-Lightning-and-Off-Chain-Contracts.html">eltoo: A Simplified update Mechanism for Lightning and Off-Chain Contracts</a>
                        <b>Carsten Otto 2018-05-03 09:03:51</b>
                    </li>
                
                    <li>
                        <a href="/lightning-dev/May_2018/001238_eltoo-A-Simplified-update-Mechanism-for-Lightning-and-Off-Chain-Contracts.html">eltoo: A Simplified update Mechanism for Lightning and Off-Chain Contracts</a>
                        <b>Christian Decker 2018-05-03 10:51:01</b>
                    </li>
                
                    <li>
                        <a href="/lightning-dev/June_2018/001316_eltoo-A-Simplified-update-Mechanism-for-Lightning-and-Off-Chain-Contracts.html">eltoo: A Simplified update Mechanism for Lightning and Off-Chain Contracts</a>
                        <b>Rusty Russell 2018-06-22 00:32:01</b>
                    </li>
                
                    <li>
                        <a href="/lightning-dev/Oct_2018/001441_eltoo-A-Simplified-update-Mechanism-for-Lightning-and-Off-Chain-Contracts.html">eltoo: A Simplified update Mechanism for Lightning and Off-Chain Contracts</a>
                        <b>Christian Decker 2018-10-11 17:37:56</b>
                    </li>
                
                    <li>
                        <a href="/lightning-dev/Oct_2018/001442_eltoo-A-Simplified-update-Mechanism-for-Lightning-and-Off-Chain-Contracts.html">eltoo: A Simplified update Mechanism for Lightning and Off-Chain Contracts</a>
                        <b>ZmnSCPxj 2018-10-12 03:20:55</b>
                    </li>
                
                    <li>
                        <a href="/lightning-dev/Oct_2018/001454_eltoo-A-Simplified-update-Mechanism-for-Lightning-and-Off-Chain-Contracts.html">eltoo: A Simplified update Mechanism for Lightning and Off-Chain Contracts</a>
                        <b>Anthony Towns 2018-10-13 11:40:30</b>
                    </li>
                
                    <li>
                        <a href="/lightning-dev/May_2018/001228_eltoo-A-Simplified-update-Mechanism-for-Lightning-and-Off-Chain-Contracts.html">eltoo: A Simplified update Mechanism for Lightning and Off-Chain Contracts</a>
                        <b>Christian Decker 2018-05-01 11:38:12</b>
                    </li>
                
                    <li>
                        <a href="/lightning-dev/Oct_2018/001435_eltoo-A-Simplified-update-Mechanism-for-Lightning-and-Off-Chain-Contracts.html">eltoo: A Simplified update Mechanism for Lightning and Off-Chain Contracts</a>
                        <b>Anthony Towns 2018-10-10 08:25:46</b>
                    </li>
                
            
        </ul>
        
            <a href="https://lists.linuxfoundation.org/pipermail/lightning-dev/2018-June/001311.html">Click here to read the original discussion on the lightning-dev mailing list</a>
        
        <p><i>Published on: 2018-06-19T14:46:32+00:00</i></p>
        <hr>
        <h3>Summary:</h3>
        <p>The Lightning Network implementation teams have released a new research paper on a new simplified update mechanism for layer two protocols called eltoo. It is a drop-in replacement for the penalty-based invalidation mechanism that is used today in the Lightning specification. The eltoo mechanism is similar to the sequence number mechanism present in the original Bitcoin implementation, but it is enforceable by overriding subsequent states on-chain. However, before implementing eltoo, a minor change to Bitcoin is necessary - the introduction of the SIGHASH_NOINPUT flag for signatures.Christian Decker proposed a simplified version of eltoo, which is a drop-in replacement for the penalty-based invalidation mechanism used in the Lightning specification. In the email exchange, there are concerns regarding the description of the "setup transaction". David A. Harding raised concerns about Eltoo‚Äôs ‚Äúcertain‚Äù finality for last agreed upon state in mempool. According to him, S_2 can replace S_3 in mempool by paying higher fees. However, Christian Decker responded that if S_3 is the last agreed-upon state, it can be immediately bound to funding output or any intermediate ones. Participants need to ensure finality in case of reorgs.ZmnSCPxj suggested an adaptive scheme in which they start with a single update transaction, and then at ~90% of the available range they add a second. In addition, the discussion also included clarifications on the setup transaction and the output script from Figure 2. The maximum S among nodes along the route in a heterogeneous network is the effective S and this may not mesh well with current routing algorithms. C-lightning is considering using a "find all paths" algorithm instead, which would simply filter out during route construction any routes that exceed maximum total delay and maximum forwarding fee. Another proposal made suggests removing the trigger transaction as `nSequence`-encumbered transactions are only settlement transactions and not any update transactions.The email exchange also discussed the encumbrance of CSV on settlement transactions and its effect on absolute-timelocked contracts transported on the channel. The mutual close transaction is expected to be the more common case, so increasing its size by even a small amount may outweigh the size reduction in the much rarer unilateral close case. There are multiple benefits to this approach, including the ability to pay market fees with minimal risk, claim funds as soon as the other party can, and needing only three pre-signed txes for the current state.The Decker-Russell-Osuntokun (DRO) channels offer several advantages over Poon-Dryja (LN-penalty) channels, including the ability to adjust on-chain fees for update transactions and use N-party funds instead of just 2-party funds. However, there are also downsides, such as limited control over fees that a misbehaving node may be punished with and CSV-encumbrance affecting all absolute-timelocked contracts transported on the channel.ZmnSCPxj proposed deploying a back-compatible extension to the Lightning Network, resulting in a mixed network where payers would prefer purely Poon-Dryja channels due to additional csv-delta imposed on DRO channels. Introducing this change as a local feature would be feasible by adding a new parameter, 'csv_delta,' to the channel_update message. Poon-Dryja channels would be gossiped as having a csv-delta of 0, and routing decisions would depend on whether the csv-delta is greater than the current route csv-delta or not.The email exchange raised concerns regarding the confusing description of the setup transaction, which was unclear, and the trigger transaction was needed because the broadcasted initial/funding/setup transaction included an OP_CLV, which could lead to premature settlement.The DoS attack against Eltoo settlements involves a situation where Alice initiates a cooperative close, but Mallory stalls and broadcasts the trigger transaction and the first state. If Mallory introduces significant settlement delays, HTLC security is compromised. One suggestion to manage large numbers of updates in the Lightning Network is resetting the state numbers by rolling keys or having two update transactions rather than one.When it comes to using update keys, one can go up to 100% of the range without having to go through a billion updates per second. This means that when one needs to increment, they will have 115% of the original range available, ensuring that they never need more than two transactions for the commitment, even at high transaction rates like 900MHz. By implementing this strategy, one can make unilateral closes more difficult while keeping cooperative closes affordable. Overall, the Decker-Russell-Osuntokun channels have a viable channel-update mechanism that can be cooperatively collapsible to a single transaction on top of the funding transaction.</p>
        <hr>
        <p><i>Updated on: 2023-05-25T00:03:05.033032+00:00</i></p>
    

    

    <footer>
        <span style="font-family: Arial, Helvetica, sans-serif;">&#10084;&#65039;</span> <a href="https://chaincode.com" target="_blank" rel="noreferrer" style="text-decoration: none; color: inherit;">Chaincode</a>
    </footer>
</body>

</html>