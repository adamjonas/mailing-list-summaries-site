<!doctype html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="Content-Type" content="text/html; charset=us-ascii">
    <title>Atom Feed Display</title>
    <link rel="stylesheet" href="../../archive_styles.css">
</head>

<body BGCOLOR="#fffffb">
    
    <h1>eltoo: A Simplified update Mechanism for Lightning and Off-Chain Contracts <span class="combined-summary">[combined summary]</span></h1>
    <hr class="solid">
    <br><b>Individual post summaries:</b>
    
        <ul>
            
                
                    <li>
                        <a href="/lightning-dev/Oct_2018/001453_eltoo-A-Simplified-update-Mechanism-for-Lightning-and-Off-Chain-Contracts.xml.html">eltoo: A Simplified update Mechanism for Lightning and Off-Chain Contracts</a>
                        <b>Christian Decker 2018-10-13 10:12:03</b>
                    </li>
                
                    <li>
                        <a href="/lightning-dev/June_2018/001311_eltoo-A-Simplified-update-Mechanism-for-Lightning-and-Off-Chain-Contracts.xml.html">eltoo: A Simplified update Mechanism for Lightning and Off-Chain Contracts</a>
                        <b>Christian Decker 2018-06-19 14:46:32</b>
                    </li>
                
                    <li>
                        <a href="/lightning-dev/June_2018/001313_eltoo-A-Simplified-update-Mechanism-for-Lightning-and-Off-Chain-Contracts.xml.html">eltoo: A Simplified update Mechanism for Lightning and Off-Chain Contracts</a>
                        <b>David A. Harding 2018-06-20 15:31:50</b>
                    </li>
                
                    <li>
                        <a href="/lightning-dev/May_2018/001237_eltoo-A-Simplified-update-Mechanism-for-Lightning-and-Off-Chain-Contracts.xml.html">eltoo: A Simplified update Mechanism for Lightning and Off-Chain Contracts</a>
                        <b>Christian Decker 2018-05-03 10:28:53</b>
                    </li>
                
                    <li>
                        <a href="/lightning-dev/May_2018/001239_eltoo-A-Simplified-update-Mechanism-for-Lightning-and-Off-Chain-Contracts.xml.html">eltoo: A Simplified update Mechanism for Lightning and Off-Chain Contracts</a>
                        <b>Carsten Otto 2018-05-03 16:17:28</b>
                    </li>
                
                    <li>
                        <a href="/lightning-dev/May_2018/001240_eltoo-A-Simplified-update-Mechanism-for-Lightning-and-Off-Chain-Contracts.xml.html">eltoo: A Simplified update Mechanism for Lightning and Off-Chain Contracts</a>
                        <b>ZmnSCPxj 2018-05-04 07:20:57</b>
                    </li>
                
                    <li>
                        <a href="/lightning-dev/May_2018/001278_eltoo-A-Simplified-update-Mechanism-for-Lightning-and-Off-Chain-Contracts.xml.html">eltoo: A Simplified update Mechanism for Lightning and Off-Chain Contracts</a>
                        <b>Corn√© Plooy 2018-05-15 13:22:44</b>
                    </li>
                
                    <li>
                        <a href="/lightning-dev/May_2018/001279_eltoo-A-Simplified-update-Mechanism-for-Lightning-and-Off-Chain-Contracts.xml.html">eltoo: A Simplified update Mechanism for Lightning and Off-Chain Contracts</a>
                        <b>ZmnSCPxj 2018-05-15 13:41:45</b>
                    </li>
                
                    <li>
                        <a href="/lightning-dev/May_2018/001226_eltoo-A-Simplified-update-Mechanism-for-Lightning-and-Off-Chain-Contracts.xml.html">eltoo: A Simplified update Mechanism for Lightning and Off-Chain Contracts</a>
                        <b>ZmnSCPxj 2018-05-01 05:07:54</b>
                    </li>
                
                    <li>
                        <a href="/lightning-dev/June_2018/001316_eltoo-A-Simplified-update-Mechanism-for-Lightning-and-Off-Chain-Contracts.xml.html">eltoo: A Simplified update Mechanism for Lightning and Off-Chain Contracts</a>
                        <b>Rusty Russell 2018-06-22 00:32:01</b>
                    </li>
                
                    <li>
                        <a href="/lightning-dev/April_2018/001223_eltoo-A-Simplified-update-Mechanism-for-Lightning-and-Off-Chain-Contracts.xml.html">eltoo: A Simplified update Mechanism for Lightning and Off-Chain Contracts</a>
                        <b>Christian Decker 2018-04-30 15:41:38</b>
                    </li>
                
                    <li>
                        <a href="/lightning-dev/July_2018/001363_eltoo-A-Simplified-update-Mechanism-for-Lightning-and-Off-Chain-Contracts.xml.html">eltoo: A Simplified update Mechanism for Lightning and Off-Chain Contracts</a>
                        <b>Anthony Towns 2018-07-18 10:02:38</b>
                    </li>
                
                    <li>
                        <a href="/lightning-dev/May_2018/001229_eltoo-A-Simplified-update-Mechanism-for-Lightning-and-Off-Chain-Contracts.xml.html">eltoo: A Simplified update Mechanism for Lightning and Off-Chain Contracts</a>
                        <b>Christian Decker 2018-05-01 12:04:51</b>
                    </li>
                
                    <li>
                        <a href="/lightning-dev/May_2018/001230_eltoo-A-Simplified-update-Mechanism-for-Lightning-and-Off-Chain-Contracts.xml.html">eltoo: A Simplified update Mechanism for Lightning and Off-Chain Contracts</a>
                        <b>ZmnSCPxj 2018-05-01 23:55:41</b>
                    </li>
                
                    <li>
                        <a href="/lightning-dev/May_2018/001236_eltoo-A-Simplified-update-Mechanism-for-Lightning-and-Off-Chain-Contracts.xml.html">eltoo: A Simplified update Mechanism for Lightning and Off-Chain Contracts</a>
                        <b>Carsten Otto 2018-05-03 09:03:51</b>
                    </li>
                
                    <li>
                        <a href="/lightning-dev/May_2018/001238_eltoo-A-Simplified-update-Mechanism-for-Lightning-and-Off-Chain-Contracts.xml.html">eltoo: A Simplified update Mechanism for Lightning and Off-Chain Contracts</a>
                        <b>Christian Decker 2018-05-03 10:51:01</b>
                    </li>
                
                    <li>
                        <a href="/lightning-dev/Oct_2018/001441_eltoo-A-Simplified-update-Mechanism-for-Lightning-and-Off-Chain-Contracts.xml.html">eltoo: A Simplified update Mechanism for Lightning and Off-Chain Contracts</a>
                        <b>Christian Decker 2018-10-11 17:37:56</b>
                    </li>
                
                    <li>
                        <a href="/lightning-dev/Oct_2018/001442_eltoo-A-Simplified-update-Mechanism-for-Lightning-and-Off-Chain-Contracts.xml.html">eltoo: A Simplified update Mechanism for Lightning and Off-Chain Contracts</a>
                        <b>ZmnSCPxj 2018-10-12 03:20:55</b>
                    </li>
                
                    <li>
                        <a href="/lightning-dev/Oct_2018/001454_eltoo-A-Simplified-update-Mechanism-for-Lightning-and-Off-Chain-Contracts.xml.html">eltoo: A Simplified update Mechanism for Lightning and Off-Chain Contracts</a>
                        <b>Anthony Towns 2018-10-13 11:40:30</b>
                    </li>
                
                    <li>
                        <a href="/lightning-dev/May_2018/001228_eltoo-A-Simplified-update-Mechanism-for-Lightning-and-Off-Chain-Contracts.xml.html">eltoo: A Simplified update Mechanism for Lightning and Off-Chain Contracts</a>
                        <b>Christian Decker 2018-05-01 11:38:12</b>
                    </li>
                
                    <li>
                        <a href="/lightning-dev/Oct_2018/001435_eltoo-A-Simplified-update-Mechanism-for-Lightning-and-Off-Chain-Contracts.xml.html">eltoo: A Simplified update Mechanism for Lightning and Off-Chain Contracts</a>
                        <b>Anthony Towns 2018-10-10 08:25:46</b>
                    </li>
                
                    <li>
                        <a href="/lightning-dev/June_2018/001310_eltoo-A-Simplified-update-Mechanism-for-Lightning-and-Off-Chain-Contracts.xml.html">eltoo: A Simplified update Mechanism for Lightning and Off-Chain Contracts</a>
                        <b>David A. Harding 2018-06-19 11:56:18</b>
                    </li>
                
                    <li>
                        <a href="/lightning-dev/June_2018/001312_eltoo-A-Simplified-update-Mechanism-for-Lightning-and-Off-Chain-Contracts.xml.html">eltoo: A Simplified update Mechanism for Lightning and Off-Chain Contracts</a>
                        <b>David A. Harding 2018-06-19 18:02:51</b>
                    </li>
                
                    <li>
                        <a href="/lightning-dev/May_2018/001231_eltoo-A-Simplified-update-Mechanism-for-Lightning-and-Off-Chain-Contracts.xml.html">eltoo: A Simplified update Mechanism for Lightning and Off-Chain Contracts</a>
                        <b>ZmnSCPxj 2018-05-02 04:12:28</b>
                    </li>
                
                    <li>
                        <a href="/lightning-dev/May_2018/001234_eltoo-A-Simplified-update-Mechanism-for-Lightning-and-Off-Chain-Contracts.xml.html">eltoo: A Simplified update Mechanism for Lightning and Off-Chain Contracts</a>
                        <b>ZmnSCPxj 2018-05-02 12:16:29</b>
                    </li>
                
                    <li>
                        <a href="/lightning-dev/May_2018/001235_eltoo-A-Simplified-update-Mechanism-for-Lightning-and-Off-Chain-Contracts.xml.html">eltoo: A Simplified update Mechanism for Lightning and Off-Chain Contracts</a>
                        <b>Carsten Otto 2018-05-03 09:00:23</b>
                    </li>
                
                    <li>
                        <a href="/lightning-dev/May_2018/001227_eltoo-A-Simplified-update-Mechanism-for-Lightning-and-Off-Chain-Contracts.xml.html">eltoo: A Simplified update Mechanism for Lightning and Off-Chain Contracts</a>
                        <b>ZmnSCPxj 2018-05-01 07:12:35</b>
                    </li>
                
            
        </ul>
        
            <a href="https://lists.linuxfoundation.org/pipermail/lightning-dev/2018-October/001453.html">Click here to read the original discussion on the lightning-dev mailing list</a>
        
        <p><i>Published on: 2018-10-13T10:12:03+00:00</i></p>
        <hr>
        <h3>Summary:</h3>
        <p>Bitcoin developer David A. Harding has identified potential vulnerabilities in the Lightning Network's Eltoo protocol. The first attack involves stalling a payment channel until the transactional fees required to complete it are higher than the value of the channel. The second attack involves stealing from a channel with multiple hops by introducing significant delays in the settlement process. These attacks rely on the use of the SIGHASH_NOINPUT signature hash type proposed for use in the upcoming Eltoo BIP. The Lightning Network specification uses a penalty-based invalidation mechanism, but eltoo is a drop-in replacement for this. However, one issue with eltoo's locktime-based sequencing is that it limits the number of updates to 1 billion. ZmnSCPxj and Anthony Towns suggest adaptive schemes to address this limitation. Additionally, Christian Decker notes that he did not think 1 billion updates would be used anytime soon since splice-in/splice-out operations would lead to regular on-chain re-anchoring.A recent email exchange discusses ensuring finality and monitoring for old states until the final state has enough confirmations to make it immutable. Additionally, in the event of a reorganization that unconfirms the update, additional rewrites may be necessary similar to LN-penalty where it's critical to ensure that the penalty transaction is final and does not get reorged out.In another email exchange, the terminology used in the eltoo paper was discussed, clarifying the "setup transaction" as a "funding transaction" or "multiparty output." The complexity of the setup transaction output was also addressed, suggesting referencing Figure 2 to avoid confusion. The CSV-encumbrance on settlement transactions and its impact on contracts in the channel were also discussed. ZmnSCPxj questions the use of terminology in an interesting paper, specifically around the terms "input script" and "output script."A new update mechanism for off-chain protocols called eltoo has been announced by the three Lightning Network implementation teams. It is a drop-in replacement for the penalty-based invalidation mechanism currently in use in the Lightning specification, and it addresses several issues encountered while specifying and implementing the Lightning Network. Before implementing eltoo, a minor change to Bitcoin is required: the introduction of the SIGHASH_NOINPUT flag for signatures.In a recent discussion on bitcoin-dev mailing list, Bitcoin Core developer AJ Towns proposed eltoo as a drop-in replacement for the penalty-based invalidation mechanism used in the Lightning Network specification. He suggested that the eltoo protocol could be further simplified to have a simpler ratchet mechanism and proposed a new transaction scheme that would replace "funding transaction spending to address 'X', and a set of ratcheting states that spend from-and-to the same address 'X'". The paper discusses the use of SIGHASH_NOINPUT in combination with SIGHASH_SINGLE for off-chain transactions. These transactions involve funding, trigger, update, and settlement transactions that are signed with SIGHASH_NOINPUT flags. The discussion involves the use of SIGHASH_NOINPUT and SIGHASH_ANYONECANPAY on transactions with multiple inputs to include additional fees for updating transactions.In a discussion about the eltoo Lightning Network specification, Anthony Towns suggests using new update keys to reset the locktime and state numbers when there are more than 1 billion updates to a channel. Christian Decker had originally believed that this number of updates was unlikely, but Towns explains that it could be possible with regular on-chain operations. On October 13, 2018, Christian Decker proposed an adaptive scheme for update transactions in the Lightning specification. The scheme starts with a single transaction and adds a second at around 90% of the available range. This method creates a larger overall counter, providing a single counter with 10^18 possible updates. ZmnSCPxj reached out to Christian regarding his paper and pointed out a potential mistake in the usage of terms for input. Overall, these discussions highlight the ongoing efforts to improve the Lightning Network's security and scalability.</p>
        <hr>
        <p><i>Updated on: 2023-06-03T18:57:17.849474+00:00</i></p>
    

    

    <footer>
        <span style="font-family: Arial, Helvetica, sans-serif;">&#10084;&#65039;</span> <a href="https://chaincode.com" target="_blank" rel="noreferrer" style="text-decoration: none; color: inherit;">Chaincode</a>
    </footer>
</body>

</html>