<!doctype html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="Content-Type" content="text/html; charset=us-ascii">
    <title>Atom Feed Display</title>
    <link rel="stylesheet" href="../../archive_styles.css">
</head>

<body BGCOLOR="#fffffb">
    
    <h1>Stateless invoices with proof-of-payment</h1>
    <hr class="solid">
    
    <ul>
        
        
            <p><b>Author:</b> Bastien TEINTURIER 2021-09-21 15:47:12
            <br><i>Published on: 2021-09-21T15:47:12+00:00</i></p>

        
        

        
        
        <li>
        <a href="/lightning-dev/Sept_2021/combined_Stateless-invoices-with-proof-of-payment.xml.html"> Combined Summary of all posts in thread </a>
        </li>
        
        <li>
            
                <a href="https://lists.linuxfoundation.org/pipermail/lightning-dev/2021-September/003245.html">Click here to read original discussion on the lightning-dev mailing list</a>
            
        </li>

    </ul>

    <hr>
    <h3> Summary:</h3>
    <p>In this email exchange, Bastien and Joost discuss the implementation of a "stateless invoice" API and the use of encoded order details to address the issue of invoice storage as a denial-of-service vector for merchants/hubs. Joost suggests that a new tag for bolt11 and node implementations is needed to carry over the contents of the encoded order details field to a tlv record, which would require senders to support this feature. Bastien asks for an example of what information would usually be put in the encoded_order_details field, suggesting that it could be a skuID from the merchant's product database or fully self-contained data to identify a transaction, encrypted with a key belonging to the payee. They both agree that the encoded_order_details field should be reasonably small to ensure it can fit in onions without forcing the sender to use shorter routes or disable other features. Joost mentions that he has prototyped a stateless invoice API in lnd and that it isn't too involved if implemented so that a regular invoice is inserted 'just in time'.</p>
    <hr>
    <p><i> Updated on: 2023-06-03T05:58:00.420655+00:00 </i></p>
    
    

    <footer>
        <span style="font-family: Arial, Helvetica, sans-serif;">&#10084;&#65039;</span> <a href="https://chaincode.com" target="_blank" rel="noreferrer" style="text-decoration: none; color: inherit;">Chaincode</a>
    </footer>
</body>

</html>