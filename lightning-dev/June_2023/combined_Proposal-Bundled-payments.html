<!doctype html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="Content-Type" content="text/html; charset=us-ascii">
    <title>Atom Feed Display</title>
    <link rel="stylesheet" href="../../archive_styles.css">
</head>

<body BGCOLOR="#fffffb">
    
    <h1>Proposal: Bundled payments <span class="combined-summary">[combined summary]</span></h1>
    <hr class="solid">
    <br><b>Individual post summaries:</b>
    
        <ul>
            
                
                    <li>
                        <a href="/lightning-dev/June_2023/003977_Proposal-Bundled-payments.html">Proposal: Bundled payments</a>
                        <b>Thomas Voegtlin 2023-06-13 08:10:29+00:00</b>
                    </li>
                
                    <li>
                        <a href="/lightning-dev/June_2023/003981_Proposal-Bundled-payments.html">Proposal: Bundled payments</a>
                        <b>Thomas Voegtlin  + 2023-06-15 08:22:39+00:00</b>
                    </li>
                
                    <li>
                        <a href="/lightning-dev/June_2023/003982_Proposal-Bundled-payments.html">Proposal: Bundled payments</a>
                        <b>Bastien TEINTURIER  + 2023-06-15 09:01:32+00:00</b>
                    </li>
                
                    <li>
                        <a href="/lightning-dev/June_2023/003980_Proposal-Bundled-payments.html">Proposal: Bundled payments</a>
                        <b>Matt Corallo 2023-06-14 17:28:04+00:00</b>
                    </li>
                
                    <li>
                        <a href="/lightning-dev/June_2023/003981_Proposal-Bundled-payments.html">Proposal: Bundled payments</a>
                        <b>Thomas Voegtlin  + 2023-06-15 08:22:39+00:00</b>
                    </li>
                
                    <li>
                        <a href="/lightning-dev/June_2023/003982_Proposal-Bundled-payments.html">Proposal: Bundled payments</a>
                        <b>Bastien TEINTURIER  + 2023-06-15 09:01:32+00:00</b>
                    </li>
                
                    <li>
                        <a href="/lightning-dev/June_2023/003988_Proposal-Bundled-payments.html">Proposal: Bundled payments</a>
                        <b>Thomas Voegtlin 2023-06-20 08:45:34+00:00</b>
                    </li>
                
                    <li>
                        <a href="/lightning-dev/June_2023/003981_Proposal-Bundled-payments.html">Proposal: Bundled payments</a>
                        <b>Thomas Voegtlin  + 2023-06-15 08:22:39+00:00</b>
                    </li>
                
                    <li>
                        <a href="/lightning-dev/June_2023/003982_Proposal-Bundled-payments.html">Proposal: Bundled payments</a>
                        <b>Bastien TEINTURIER  + 2023-06-15 09:01:32+00:00</b>
                    </li>
                
                    <li>
                        <a href="/lightning-dev/June_2023/003990_Proposal-Bundled-payments.html">Proposal: Bundled payments</a>
                        <b>SomberNight 2023-06-20 16:49:05+00:00</b>
                    </li>
                
                    <li>
                        <a href="/lightning-dev/June_2023/003981_Proposal-Bundled-payments.html">Proposal: Bundled payments</a>
                        <b>Thomas Voegtlin  + 2023-06-15 08:22:39+00:00</b>
                    </li>
                
                    <li>
                        <a href="/lightning-dev/June_2023/003982_Proposal-Bundled-payments.html">Proposal: Bundled payments</a>
                        <b>Bastien TEINTURIER  + 2023-06-15 09:01:32+00:00</b>
                    </li>
                
                    <li>
                        <a href="/lightning-dev/June_2023/003979_Proposal-Bundled-payments.html">Proposal: Bundled payments</a>
                        <b>Thomas Voegtlin 2023-06-14 08:09:45+00:00</b>
                    </li>
                
                    <li>
                        <a href="/lightning-dev/June_2023/003981_Proposal-Bundled-payments.html">Proposal: Bundled payments</a>
                        <b>Thomas Voegtlin  + 2023-06-15 08:22:39+00:00</b>
                    </li>
                
                    <li>
                        <a href="/lightning-dev/June_2023/003982_Proposal-Bundled-payments.html">Proposal: Bundled payments</a>
                        <b>Bastien TEINTURIER  + 2023-06-15 09:01:32+00:00</b>
                    </li>
                
                    <li>
                        <a href="/lightning-dev/June_2023/003978_Proposal-Bundled-payments.html">Proposal: Bundled payments</a>
                        <b>Olaoluwa Osuntokun 2023-06-14 02:56:54+00:00</b>
                    </li>
                
                    <li>
                        <a href="/lightning-dev/June_2023/003981_Proposal-Bundled-payments.html">Proposal: Bundled payments</a>
                        <b>Thomas Voegtlin  + 2023-06-15 08:22:39+00:00</b>
                    </li>
                
                    <li>
                        <a href="/lightning-dev/June_2023/003982_Proposal-Bundled-payments.html">Proposal: Bundled payments</a>
                        <b>Bastien TEINTURIER  + 2023-06-15 09:01:32+00:00</b>
                    </li>
                
                    <li>
                        <a href="/lightning-dev/June_2023/003985_Proposal-Bundled-payments.html">Proposal: Bundled payments</a>
                        <b>David A. Harding 2023-06-19 20:29:34+00:00</b>
                    </li>
                
                    <li>
                        <a href="/lightning-dev/June_2023/003981_Proposal-Bundled-payments.html">Proposal: Bundled payments</a>
                        <b>Thomas Voegtlin  + 2023-06-15 08:22:39+00:00</b>
                    </li>
                
                    <li>
                        <a href="/lightning-dev/June_2023/003982_Proposal-Bundled-payments.html">Proposal: Bundled payments</a>
                        <b>Bastien TEINTURIER  + 2023-06-15 09:01:32+00:00</b>
                    </li>
                
                    <li>
                        <a href="/lightning-dev/June_2023/003987_Proposal-Bundled-payments.html">Proposal: Bundled payments</a>
                        <b>Thomas Voegtlin 2023-06-20 07:32:15+00:00</b>
                    </li>
                
                    <li>
                        <a href="/lightning-dev/June_2023/003981_Proposal-Bundled-payments.html">Proposal: Bundled payments</a>
                        <b>Thomas Voegtlin  + 2023-06-15 08:22:39+00:00</b>
                    </li>
                
                    <li>
                        <a href="/lightning-dev/June_2023/003982_Proposal-Bundled-payments.html">Proposal: Bundled payments</a>
                        <b>Bastien TEINTURIER  + 2023-06-15 09:01:32+00:00</b>
                    </li>
                
                    <li>
                        <a href="/lightning-dev/June_2023/003989_Proposal-Bundled-payments.html">Proposal: Bundled payments</a>
                        <b>Bastien TEINTURIER 2023-06-20 16:44:17+00:00</b>
                    </li>
                
                    <li>
                        <a href="/lightning-dev/June_2023/003981_Proposal-Bundled-payments.html">Proposal: Bundled payments</a>
                        <b>Thomas Voegtlin  + 2023-06-15 08:22:39+00:00</b>
                    </li>
                
                    <li>
                        <a href="/lightning-dev/June_2023/003982_Proposal-Bundled-payments.html">Proposal: Bundled payments</a>
                        <b>Bastien TEINTURIER  + 2023-06-15 09:01:32+00:00</b>
                    </li>
                
                    <li>
                        <a href="/lightning-dev/June_2023/003991_Proposal-Bundled-payments.html">Proposal: Bundled payments</a>
                        <b>Matt Corallo 2023-06-20 17:00:45+00:00</b>
                    </li>
                
                    <li>
                        <a href="/lightning-dev/June_2023/003981_Proposal-Bundled-payments.html">Proposal: Bundled payments</a>
                        <b>Thomas Voegtlin  + 2023-06-15 08:22:39+00:00</b>
                    </li>
                
                    <li>
                        <a href="/lightning-dev/June_2023/003982_Proposal-Bundled-payments.html">Proposal: Bundled payments</a>
                        <b>Bastien TEINTURIER  + 2023-06-15 09:01:32+00:00</b>
                    </li>
                
                    <li>
                        <a href="/lightning-dev/June_2023/003992_Proposal-Bundled-payments.html">Proposal: Bundled payments</a>
                        <b>Steve Lee 2023-06-20 17:16:52+00:00</b>
                    </li>
                
                    <li>
                        <a href="/lightning-dev/June_2023/003981_Proposal-Bundled-payments.html">Proposal: Bundled payments</a>
                        <b>Thomas Voegtlin  + 2023-06-15 08:22:39+00:00</b>
                    </li>
                
                    <li>
                        <a href="/lightning-dev/June_2023/003982_Proposal-Bundled-payments.html">Proposal: Bundled payments</a>
                        <b>Bastien TEINTURIER  + 2023-06-15 09:01:32+00:00</b>
                    </li>
                
            
        </ul>
        
            <a href="https://lists.linuxfoundation.org/pipermail/lightning-dev/2023-June/003977.html">Click here to read the original discussion on the lightning-dev mailing list</a>
        
        <p><i>Published on: 2023-06-13T08:10:29+00:00</i></p>
        <hr>
        <h3>Summary:</h3>
        <p>Thomas Voegtlin has proposed an extension to BOLT-11, the Lightning Network protocol, that would allow invoices to contain two bundled payments with distinct preimages and amounts. This proposal is aimed at services that require a prepayment of a mining fee for non-custodian exchanges, such as submarine swaps and JIT channels. The goal of the proposal is to level the playing field in terms of competition between lightning service providers.Currently, using Loop, a dedicated client, is necessary for these services, which puts competitors without an established user base running a dedicated client at risk of a mining fee attack. Thomas believes that ACINQ, a lightning service provider, would benefit from this proposal as it would enable them to make their pay-to-open service fully non-custodian.The semantics of bundled payments in this proposal are as follows: the BOLT-11 invoice contains two preimages and two amounts - a prepayment and a main payment. The receiver must wait until all the HTLCs (Hashed Timelock Contracts) of both payments have arrived before fulfilling the HTLCs of the prepayment. If the main payment does not arrive, the prepayment should be failed with a MPP timeout. Once the HTLCs of both payments have arrived, the receiver fulfills the HTLCs of the prepayment and broadcasts their on-chain transaction. It's important to note that the main payment can still fail if the sender never reveals the preimage of the main payment.Thomas suggests that implementing this change in BOLT-11, rather than using BOLT-12 or onion messages, would be more feasible since it doesn't require the exchange of new messages and can be done in a non-interactive way.Matt Corallo responded to Thomas's proposal, expressing doubts about the feasibility of introducing new interoperable changes to BOLT-11. He suggests working towards specifying a "standard" way of doing swaps, built on onion messages (OM), to ensure privacy. He also clarifies the distinction between splice-out and submarine swaps, stating that submarine swaps allow for adding receiving capacity to a channel.In conclusion, Thomas Voegtlin's proposal aims to introduce bundled payments in BOLT-11 invoices to facilitate non-custodian exchanges. This change would level the competition among lightning service providers and benefit ACINQ's pay-to-open service. However, there are concerns about the feasibility of introducing new changes to BOLT-11 and suggestions to explore alternative solutions using onion messages for better privacy and interoperability.</p>
        <hr>
        <p><i>Updated on: 2023-06-30T03:02:52.642097+00:00</i></p>
    

    

    <footer>
        <span style="font-family: Arial, Helvetica, sans-serif;">&#10084;&#65039;</span> <a href="https://chaincode.com" target="_blank" rel="noreferrer" style="text-decoration: none; color: inherit;">Chaincode</a>
    </footer>
</body>

</html>