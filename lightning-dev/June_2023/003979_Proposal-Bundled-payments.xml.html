<!doctype html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="Content-Type" content="text/html; charset=us-ascii">
    <title>Atom Feed Display</title>
    <link rel="stylesheet" href="../../archive_styles.css">
</head>

<body BGCOLOR="#fffffb">
    
    <h1>Proposal: Bundled payments</h1>
    <hr class="solid">
    
    <ul>
        
        
            <p><b>Author:</b> Thomas Voegtlin 2023-06-14 08:09:45+00:00
            <br><i>Published on: 2023-06-14T08:09:45+00:00</i></p>

        
        

        
        
        <li>
        <a href="/lightning-dev/June_2023/combined_Proposal-Bundled-payments.xml.html"> Combined Summary of all posts in thread </a>
        </li>
        
        <li>
            
                <a href="https://lists.linuxfoundation.org/pipermail/lightning-dev/2023-June/003979.html">Click here to read original discussion on the lightning-dev mailing list</a>
            
        </li>

    </ul>

    <hr>
    <h3> Summary:</h3>
    <p>A proposal has been made to extend BOLT-11 to allow for two bundled payments, with distinct preimages and amounts. This would benefit services that require the prepayment of a mining fee in order for a non-custodian exchange to take place, such as submarine swaps and JIT channels. The proposal aims to level the playing field in terms of competition between lightning service providers by enabling them to provide users with a separate submarine swap client from their lightning wallet. This separation would also enable competition and vastly increase potential user bases. The missing ingredient is bundling fee prepayment and main payment in the same invoice. There is an ongoing standardization effort for LSP protocols and Boltz is working to add submarine swaps to it. In order to be properly non-custodial, a submarine swap client needs to be able to unilaterally sweep or timeout an on chain HTLC and validate all the swap parameters. A dedicated logic is required in order to fully verify the swap parameters and perform an on-chain sweep/timeout, which is a requirement for a trust minified swap. It would be beneficial to bundle the prepayment and main payment in the same BOLT-11 invoice to solve the issue of services that ask for the preimage of the main payment before they open the channel becoming custodian. This will enable service providers to protect themselves against the mining fee attack without having to become custodian and also make it possible for them to make their pay-to-open service fully non-custodian. The proposal should be implemented in BOLT-11 instead of using BOLT-12 or onion messages because it does not require the exchange of new messages.</p>
    <hr>
    <p><i> Updated on: 2023-06-22T01:28:47.194488+00:00 </i></p>
    
    

    <footer>
        <span style="font-family: Arial, Helvetica, sans-serif;">&#10084;&#65039;</span> <a href="https://chaincode.com" target="_blank" rel="noreferrer" style="text-decoration: none; color: inherit;">Chaincode</a>
    </footer>
</body>

</html>