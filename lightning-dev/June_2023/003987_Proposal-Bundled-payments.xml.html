<!doctype html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="Content-Type" content="text/html; charset=us-ascii">
    <title>Atom Feed Display</title>
    <link rel="stylesheet" href="../../archive_styles.css">
</head>

<body BGCOLOR="#fffffb">
    
    <h1>Proposal: Bundled payments</h1>
    <hr class="solid">
    
    <ul>
        
        
            <p><b>Author:</b> Thomas Voegtlin 2023-06-20 07:32:15+00:00
            <br><i>Published on: 2023-06-20T07:32:15+00:00</i></p>

        
        

        
        
        <li>
        <a href="/lightning-dev/June_2023/combined_Proposal-Bundled-payments.xml.html"> Combined Summary of all posts in thread </a>
        </li>
        
        <li>
            
                <a href="https://lists.linuxfoundation.org/pipermail/lightning-dev/2023-June/003987.html">Click here to read original discussion on the lightning-dev mailing list</a>
            
        </li>

    </ul>

    <hr>
    <h3> Summary:</h3>
    <p>In this conversation between David A. Harding and Thomas Voegtlin, they discuss prepayments in bundled payments. Thomas suggests that the invoice would still need a feature bit to make prepayment optional or required. He explains that if the feature is optional, the prepayment amount must be subtracted from the main payment amount. So, the receiver can either pay the full amount on the invoice or pay the prepayment amount plus the remaining amount on the invoice. David then asks if it would be acceptable for the prepayment to use a keysend payment with the onion message payload for the receiver indicating what payment hash to associate with the prepayment. He thinks that this approach could allow immediate implementation until an updated version of BOLT11 becomes widely deployed. This would require extending BOLT11 invoices with an extra_fee_via_keysend field. Both parties seem to agree that there are benefits to using keysend payments as a method for prepayment in bundled payments. They also agree that adding an extra_fee_via_keysend field to BOLT11 invoices would facilitate the implementation of this method. The conversation ends with Thomas' signature.</p>
    <hr>
    <p><i> Updated on: 2023-06-27T04:19:09.712135+00:00 </i></p>
    
    

    <footer>
        <span style="font-family: Arial, Helvetica, sans-serif;">&#10084;&#65039;</span> <a href="https://chaincode.com" target="_blank" rel="noreferrer" style="text-decoration: none; color: inherit;">Chaincode</a>
    </footer>
</body>

</html>