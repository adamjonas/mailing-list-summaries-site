<!doctype html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="Content-Type" content="text/html; charset=us-ascii">
    <title>Atom Feed Display</title>
    <link rel="stylesheet" href="../../archive_styles.css">
</head>

<body BGCOLOR="#fffffb">
    
    <h1>Proposal: Bundled payments</h1>
    <hr class="solid">
    
    <ul>
        
        
            <p><b>Author:</b> Thomas Voegtlin 2023-06-20 08:45:34+00:00
            <br><i>Published on: 2023-06-20T08:45:34+00:00</i></p>

        
        

        
        
        <li>
        <a href="/lightning-dev/June_2023/combined_Proposal-Bundled-payments.html"> Combined Summary of all posts in thread </a>
        </li>
        
        <li>
            
                <a href="https://lists.linuxfoundation.org/pipermail/lightning-dev/2023-June/003988.html">Click here to read original discussion on the lightning-dev mailing list</a>
            
        </li>

    </ul>

    <hr>
    <h3> Summary:</h3>
    <p>In an email exchange, Thomas Voegtlin proposes an extension to BOLT-11, the Lightning Network protocol. This extension would allow invoices to contain two bundled payments with distinct preimages and amounts. The purpose of this proposal is to address the need for services like submarine swaps and JIT channels to require prepayment of mining fees.Currently, services like Loop by Lightning Labs are able to ask for prepayment because their software can handle it. However, competitors who do not have a dedicated wallet cannot. This creates a vulnerability to denial-of-service (DoS) attacks. Additionally, providers who want to protect themselves against mining fee attacks in JIT channels need to ask for the preimage of the main payment before opening the channel. This makes them custodians and subject to regulation.To solve these issues, Voegtlin suggests bundling the prepayment and main payment in the same BOLT-11 invoice. The receiver would wait for all HTLCs (Hash Time-Locked Contracts) of both payments to arrive before fulfilling the prepayment. Once both payments have arrived, the receiver fulfills the prepayment HTLCs and broadcasts an on-chain transaction.Voegtlin believes that implementing this proposal would level the competition field among lightning service providers and benefit ACINQ by making their pay-to-open service fully non-custodian. He argues that this change should be implemented in BOLT-11 rather than using BOLT-12 or onion messages to keep things simple and non-interactive.</p>
    <hr>
    <p><i> Updated on: 2023-07-07T02:50:22.054635+00:00 </i></p>
    
    

    <footer>
        <span style="font-family: Arial, Helvetica, sans-serif;">&#10084;&#65039;</span> <a href="https://chaincode.com" target="_blank" rel="noreferrer" style="text-decoration: none; color: inherit;">Chaincode</a>
    </footer>
</body>

</html>