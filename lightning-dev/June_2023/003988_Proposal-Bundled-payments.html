<!doctype html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="Content-Type" content="text/html; charset=us-ascii">
    <title>Atom Feed Display</title>
    <link rel="stylesheet" href="../../archive_styles.css">
</head>

<body BGCOLOR="#fffffb">
    
    <h1>Proposal: Bundled payments</h1>
    <hr class="solid">
    
    <ul>
        
        
            <p><b>Author:</b> Thomas Voegtlin 2023-06-20 08:45:34+00:00
            <br><i>Published on: 2023-06-20T08:45:34+00:00</i></p>

        
        

        
        
        <li>
        <a href="/lightning-dev/June_2023/combined_Proposal-Bundled-payments.html"> Combined Summary of all posts in thread </a>
        </li>
        
        <li>
            
                <a href="https://lists.linuxfoundation.org/pipermail/lightning-dev/2023-June/003988.html">Click here to read original discussion on the lightning-dev mailing list</a>
            
        </li>

    </ul>

    <hr>
    <h3> Summary:</h3>
    <p>In an email exchange between Thomas Voegtlin and Bastien Teinturier, Thomas proposes an extension to BOLT-11 where an invoice can contain two bundled payments with distinct preimages and amounts. This feature is particularly useful for services that require prepayment of a mining fee for non-custodian exchanges like submarine swaps and JIT channels. Currently, services like Loop by Lightning Labs can ask for prepayment because their software supports it, giving them an advantage over competitors like Boltz exchange who do not require a dedicated wallet. This vulnerability exposes these competitors to DoS attacks where attackers force them to pay on-chain fees.For JIT channels, providers need the preimage of the main payment before they open the channel to protect themselves against mining fee attacks. However, this also makes the service custodian and subject to the European MICA regulation. Competitors who refuse to offer custodian services, such as Electrum, are excluded from this game. To address these issues, Thomas suggests bundling the prepayment and main payment in the same BOLT-11 invoice. The proposal outlines the semantics of bundled payments, including waiting for all HTLCs of both payments to arrive before fulfilling the pre-payment HTLCs and broadcasting the on-chain transaction.Thomas believes that implementing this change in BOLT-11, rather than using BOLT-12 or onion messages, would avoid unnecessary complexity. He concludes by stating that his goal with this proposal is to create a more competitive environment in the Lightning ecosystem and highlights the potential impact it could have on the shape of the ecosystem.In addition to the email exchange, there is a confirmation email from the Lightning-dev mailing list hosted on lists.linuxfoundation.org. The email confirms the subscription and provides contact information for Electrum Technologies GmbH, including their address in Berlin, Germany. It also includes legal registration details such as Sitz (registered office), Registergericht (register court), Amtsgericht Charlottenburg (local court), HRB 164636 (commercial register number), and the name of the Geschäftsführer (managing director) Thomas Voegtlin. The email includes a link to the mailing list's information page.</p>
    <hr>
    <p><i> Updated on: 2023-07-08T02:44:58.314259+00:00 </i></p>
    
    

    <footer>
        <span style="font-family: Arial, Helvetica, sans-serif;">&#10084;&#65039;</span> <a href="https://chaincode.com" target="_blank" rel="noreferrer" style="text-decoration: none; color: inherit;">Chaincode</a>
    </footer>
</body>

</html>