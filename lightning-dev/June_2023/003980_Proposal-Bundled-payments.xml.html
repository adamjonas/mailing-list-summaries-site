<!doctype html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="Content-Type" content="text/html; charset=us-ascii">
    <title>Atom Feed Display</title>
    <link rel="stylesheet" href="../../archive_styles.css">
</head>

<body BGCOLOR="#fffffb">
    
    <h1>Proposal: Bundled payments</h1>
    <hr class="solid">
    
    <ul>
        
        
            <p><b>Author:</b> Matt Corallo 2023-06-14 17:28:04+00:00
            <br><i>Published on: 2023-06-14T17:28:04+00:00</i></p>

        
        

        
        
        <li>
        <a href="/lightning-dev/June_2023/combined_Proposal-Bundled-payments.xml.html"> Combined Summary of all posts in thread </a>
        </li>
        
        <li>
            
                <a href="https://lists.linuxfoundation.org/pipermail/lightning-dev/2023-June/003980.html">Click here to read original discussion on the lightning-dev mailing list</a>
            
        </li>

    </ul>

    <hr>
    <h3> Summary:</h3>
    <p>In an email to the Lightning-dev mailing list, Thomas Voegtlin proposed an extension to BOLT-11 that would allow invoices to contain two bundled payments with distinct preimages and amounts. The use case for this proposal is for services that require a prepayment of mining fees in order for a non-custodian exchange to take place, such as submarine swaps and JIT channels. The issue is that without a guarantee that clients will claim payment, service providers need to ask for prepayment, which can lead to DoS attacks. By bundling the prepayment and main payment into the same BOLT-11 invoice, it would level the playing field between lightning service providers. Currently, using a dedicated client is required to use Loop, while competitors who don't have an established user base running a dedicated client are vulnerable to mining fee attacks. ACINQ could also benefit from this change by making it possible for them to make their pay-to-open service fully non-custodial. Voegtlin believes that such a change should be implemented in BOLT-11 instead of using BOLT-12 or onion messages because it doesn't require the exchange of new messages, and adding new messages would unnecessarily complicate things. However, Matt suggests that the ship has probably sailed on getting any kind of new interoperable change into BOLT-11. He states that rolling out another new incompatible version of BOLT-11 and expecting the entire ecosystem to support it doesn't seem all that likely. If they're working towards specifying some "standard" way of doing swaps, he believes it should be built on OMs so that it can be done more privately.</p>
    <hr>
    <p><i> Updated on: 2023-06-24T01:40:02.214106+00:00 </i></p>
    
    

    <footer>
        <span style="font-family: Arial, Helvetica, sans-serif;">&#10084;&#65039;</span> <a href="https://chaincode.com" target="_blank" rel="noreferrer" style="text-decoration: none; color: inherit;">Chaincode</a>
    </footer>
</body>

</html>