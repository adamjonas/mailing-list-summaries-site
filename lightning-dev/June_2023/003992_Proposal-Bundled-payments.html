<!doctype html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="Content-Type" content="text/html; charset=us-ascii">
    <title>Atom Feed Display</title>
    <link rel="stylesheet" href="../../archive_styles.css">
</head>

<body BGCOLOR="#fffffb">
    
    <h1>Proposal: Bundled payments</h1>
    <hr class="solid">
    
    <ul>
        
        
            <p><b>Author:</b> Steve Lee 2023-06-20 17:16:52+00:00
            <br><i>Published on: 2023-06-20T17:16:52+00:00</i></p>

        
        

        
        
        <li>
        <a href="/lightning-dev/June_2023/combined_Proposal-Bundled-payments.html"> Combined Summary of all posts in thread </a>
        </li>
        
        <li>
            
                <a href="https://lists.linuxfoundation.org/pipermail/lightning-dev/2023-June/003992.html">Click here to read original discussion on the lightning-dev mailing list</a>
            
        </li>

    </ul>

    <hr>
    <h3> Summary:</h3>
    <p>In an email exchange, Thomas Voegtlin expressed interest in implementing BOLT-12 support in Electrum. He asked for clarification on whether bundled payments would work with the current specification or require changes. Bastien TEINTURIER responded, suggesting that extending BOLT-12 would make more sense than updating BOLT-11. He outlined three strategies for providing Just-In-Time (JIT) liquidity and explained that the current network deployment utilizes strategies 1 and 2. However, he agreed that if trust and regulation were concerns, pre-paying fees (strategy 3) would be more suitable. He suggested including this new feature in BOLT-12 rather than BOLT-11. In response to Matt Corallo's opinion that it may be too late to introduce new changes to BOLT-11, Thomas Voegtlin disagreed and argued that technical decisions should be based on technical needs. He mentioned potential benefits for Lightning Labs and ACINQ in supporting his proposal. He also suggested that LDK and Electrum could support the proposed feature. Voegtlin emphasized that his proposal is a minimal change, introducing a new invoice feature that describes the prepayment of a fee using a different preimage. He provided a possible method for making this feature optional during a transition period.Thomas Voegtlin further explained the use cases for bundled payments, specifically focusing on services like submarine swaps and JIT channels that require prepayment of mining fees. He highlighted the vulnerability of competitors who cannot ask for prepayment due to the limitations of their agnostic wallets and the risk of being subjected to DoS attacks. He also mentioned the legal implications for services that ask for the preimage first, making them custodians and subject to regulation. To address these issues, he proposed bundling the prepayment and main payment in the same BOLT-11 invoice, outlining the semantics of bundled payments. He acknowledged that his proposal does not prevent service providers from stealing the pre-payment but argued that this is already a possibility.Overall, Thomas Voegtlin's proposal aims to level the playing field for Lightning service providers, make pay-to-open services non-custodian, and comply with upcoming regulations. The suggestion is to implement this change in BOLT-12 rather than BOLT-11, considering the current progress and active development on BOLT-12 by various implementations.In a recent post on the Lightning-dev mailing list, ThomasV of Electrum Technologies GmbH proposed a solution to a use case that does not require the exchange of new messages. He argued against using BOLT-12 or onion messages, stating that it unnecessarily complicates the process. Instead, he suggested a non-interactive approach.ThomasV received initial feedback suggesting the use of BOLT-12 or onion messages for this particular use case. However, he believes that adding new messages is unnecessary when the task can be accomplished in a non-interactive manner.The proposal sparked discussion among the Lightning-dev community, with some expressing agreement and others offering alternative perspectives. The thread can be found on the Lightning-dev mailing list archives.Electrum Technologies GmbH, based in Berlin, Germany, specializes in blockchain and cryptocurrency technologies. The company's details, including its address and registration information, are provided in the email signature.Overall, ThomasV's proposal aims to streamline the process by avoiding the need for additional messages and promoting a simpler, non-interactive approach. The discussion on the Lightning-dev mailing list continues as members share their thoughts and insights.</p>
    <hr>
    <p><i> Updated on: 2023-07-09T02:58:20.209360+00:00 </i></p>
    
    

    <footer>
        <span style="font-family: Arial, Helvetica, sans-serif;">&#10084;&#65039;</span> <a href="https://chaincode.com" target="_blank" rel="noreferrer" style="text-decoration: none; color: inherit;">Chaincode</a>
    </footer>
</body>

</html>