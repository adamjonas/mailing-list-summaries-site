<!doctype html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="Content-Type" content="text/html; charset=us-ascii">
    <title>Atom Feed Display</title>
    <link rel="stylesheet" href="../../archive_styles.css">
</head>

<body BGCOLOR="#fffffb">
    
    <h1>Liquidity griefing for 0-conf dual-funded txs</h1>
    <hr class="solid">
    
    <ul>
        
        
            <p><b>Author:</b> Bastien TEINTURIER 2023-06-07 09:46:36+00:00
            <br><i>Published on: 2023-06-07T09:46:36+00:00</i></p>

        
        

        
        
        <li>
        <a href="/lightning-dev/June_2023/combined_Liquidity-griefing-for-0-conf-dual-funded-txs.html"> Combined Summary of all posts in thread </a>
        </li>
        
        <li>
            
                <a href="https://lists.linuxfoundation.org/pipermail/lightning-dev/2023-June/003975.html">Click here to read original discussion on the lightning-dev mailing list</a>
            
        </li>

    </ul>

    <hr>
    <h3> Summary:</h3>
    <p>In a recent discussion, Bastien and Antoine addressed the issue of liquidity griefing in Lightning Network's dual funded transactions. The problem arises when one peer locks their utxos for a shared transaction, but the other peer goes silent, resulting in locked liquidity. To mitigate this, they proposed a solution where utxos are never locked in dual funded transactions. If a remote node goes silent, the utxos will automatically be reused in another instance of the protocol. However, this approach falls short when using 0-conf because accidental double-spending can occur. Nodes offering 0-conf services may expose themselves to liquidity griefing. Additionally, nodes must ensure that utxos used for 0-conf are isolated from those used for non 0-conf to avoid race scenarios and accidental double-spends.To address these issues, Bastien suggested a mid-term solution of using v3 transactions for channel funding and splicing, allowing them to be identifiable on-chain. In the longer term, he acknowledged the need for an anti-DoS token exchange to prevent this class of issue, but designing and analyzing such a solution is challenging.Antoine raised concerns about the soft lock strategy proposed by Bastien, noting that it doesn't fully protect against liquidity griefing in dual funding or splicing scenarios. He pointed out that a malicious counterparty could exploit mempool pinning vectors, such as abusing replacement rules or batch pinning unrelated dual-funding transactions. Antoine suggested deploying solutions used to mitigate channel jamming, such as the Staking Credentials framework, to address the underlying problem of locking up scarce resources without proper fees paid.Regarding 0-conf, Bastien mentioned the importance of disabling inbound payments or using longer cltv_expiry_delta in case of mempool fee spikes that delay chain confirmation. He acknowledged that liquidity griefing caused by lack of signature release or mempool manipulations would still be present. He also proposed exploring solutions from the abstract problem of channel jamming and considering privacy-preserving credentials between fee payment and service redemption to enhance anonymity for dual-funding initiators.In conclusion, Bastien sought input on improving protections against liquidity griefing in 0-conf services. While acknowledging that 0-conf is an implementation pain point, he emphasized the importance of addressing user preferences.</p>
    <hr>
    <p><i> Updated on: 2023-06-29T02:47:32.892086+00:00 </i></p>
    
    

    <footer>
        <span style="font-family: Arial, Helvetica, sans-serif;">&#10084;&#65039;</span> <a href="https://chaincode.com" target="_blank" rel="noreferrer" style="text-decoration: none; color: inherit;">Chaincode</a>
    </footer>
</body>

</html>