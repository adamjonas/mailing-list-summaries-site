<!doctype html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="Content-Type" content="text/html; charset=us-ascii">
    <title>Atom Feed Display</title>
    <link rel="stylesheet" href="../../archive_styles.css">
</head>

<body BGCOLOR="#fffffb">
    
    <h1>[RFC] Lightning payment format <span class="combined-summary">[combined summary]</span></h1>
    <hr class="solid">
    <br><b>Individual post summaries:</b>
    
        <ul>
            
                
                    <li>
                        <a href="/lightning-dev/April_2017/000683_-RFC-Lightning-payment-format.xml.html">[RFC] Lightning payment format</a>
                        <b>Rusty Russell 2017-04-29 00:57:32</b>
                    </li>
                
                    <li>
                        <a href="/lightning-dev/May_2017/000695_-RFC-Lightning-payment-format.xml.html">[RFC] Lightning payment format</a>
                        <b>Rusty Russell 2017-05-04 04:42:51</b>
                    </li>
                
                    <li>
                        <a href="/lightning-dev/May_2017/000712_-RFC-Lightning-payment-format.xml.html">[RFC] Lightning payment format</a>
                        <b>Rusty Russell 2017-05-09 01:37:28</b>
                    </li>
                
                    <li>
                        <a href="/lightning-dev/May_2017/000714_-RFC-Lightning-payment-format.xml.html">[RFC] Lightning payment format</a>
                        <b>Christian Decker 2017-05-09 08:22:41</b>
                    </li>
                
                    <li>
                        <a href="/lightning-dev/May_2017/000719_-RFC-Lightning-payment-format.xml.html">[RFC] Lightning payment format</a>
                        <b>Rusty Russell 2017-05-10 01:52:26</b>
                    </li>
                
                    <li>
                        <a href="/lightning-dev/May_2017/000686_-RFC-Lightning-payment-format.xml.html">[RFC] Lightning payment format</a>
                        <b>Olaoluwa Osuntokun 2017-05-01 18:03:08</b>
                    </li>
                
                    <li>
                        <a href="/lightning-dev/May_2017/000688_-RFC-Lightning-payment-format.xml.html">[RFC] Lightning payment format</a>
                        <b>Rusty Russell 2017-05-02 00:40:17</b>
                    </li>
                
                    <li>
                        <a href="/lightning-dev/May_2017/000706_-RFC-Lightning-payment-format.xml.html">[RFC] Lightning payment format</a>
                        <b>Rusty Russell 2017-05-06 04:08:47</b>
                    </li>
                
                    <li>
                        <a href="/lightning-dev/May_2017/000690_-RFC-Lightning-payment-format.xml.html">[RFC] Lightning payment format</a>
                        <b>Pierre 2017-05-02 16:11:29</b>
                    </li>
                
                    <li>
                        <a href="/lightning-dev/May_2017/000691_-RFC-Lightning-payment-format.xml.html">[RFC] Lightning payment format</a>
                        <b>Fabrice Drouin 2017-05-03 15:37:14</b>
                    </li>
                
                    <li>
                        <a href="/lightning-dev/May_2017/000694_-RFC-Lightning-payment-format.xml.html">[RFC] Lightning payment format</a>
                        <b>Rusty Russell 2017-05-04 04:39:50</b>
                    </li>
                
                    <li>
                        <a href="/lightning-dev/May_2017/000710_-RFC-Lightning-payment-format.xml.html">[RFC] Lightning payment format</a>
                        <b>Christian Decker 2017-05-08 11:25:29</b>
                    </li>
                
                    <li>
                        <a href="/lightning-dev/May_2017/000730_-RFC-Lightning-payment-format.xml.html">[RFC] Lightning payment format</a>
                        <b>Olaoluwa Osuntokun 2017-05-28 18:42:32</b>
                    </li>
                
                    <li>
                        <a href="/lightning-dev/May_2017/000731_-RFC-Lightning-payment-format.xml.html">[RFC] Lightning payment format</a>
                        <b>Rusty Russell 2017-05-29 10:48:51</b>
                    </li>
                
            
        </ul>
        
            <a href="https://lists.linuxfoundation.org/pipermail/lightning-dev/2017-April/000683.html">Click here to read the original discussion on the lightning-dev mailing list</a>
        
        <p><i>Published on: 2017-04-29T00:57:32+00:00</i></p>
        <hr>
        <h3>Summary:</h3>
        <p>The Lightning Network has been a topic of conversation among developers, with optimization of lightning network payments being a key focus. A draft format for requesting lightning payments and an implementation available on GitHub have been shared by the author. However, a concern raised in the discussion is users being unable to verify the validity of a signature without a mapping. One proposed solution is using the 8-byte chanid to compactly refer to the destination, assuming that the network topology is well-known. Another proposed solution is implementing key recovery instead, where the signature covers the entire payreq.There is also discussion about the use of BTC shorthands, with Rusty Russell suggesting using m (milli), u (micro), n (nano), and p (pico) and turning the proposal into BOLT 10 if people like the change. The readability of invoices for Bitcoin transactions is discussed in another email exchange between Rusty Russell and Christian Decker. They agree to use BTC with m/u/n/p instead of bech32 and to support a different, human-readable encoding. Olaoluwa Osuntokun critiques the encoding used in Bitcoin addresses, stating that it doesn't carry over to the Lightning Network payreq use-case. However, it is useful for QR codes and denser than hex. The Lightning Development mailing list also discusses the proposal to replace chanID with compressed serialized public key. The consensus is that while optimizing the size of payment requests may not be as important since they are sent out-of-band, key recovery from the signature is still necessary. There is also debate about the use of tags in payment requests, which offers flexibility for application developers.Fabrice Drouin suggested adding a timestamp and expiry date to payment requests in the Lightning-dev mailing list, which was later implemented by Rusty Russell. The tagged parts of the data include the description of the payment, the fallback on-chain address, and extra routing information. Christian Decker expressed his concerns about using `short_channel_id` as an alias for the endpoint, as well as the amount shorthands (k/m/g/...) from the proposal since invoices are not user-readable. Despite his concerns, Decker praised the proposal overall and approved of using bech32 as a serialization format.There is also a discussion about reintroducing the end-to-end payload in Sphinx derived onion format to avoid needing to shave off bytes from the per-hop payload later on. This was removed in a previous version due to its large size and lack of clear use case at the time. However, some users have expressed interest in having this feature for mid-points as well. Regarding Schnorr signatures, Rusty initially believed they would lose the ability to include a recovery ID. However, after speaking with Pieter Wuille, it was determined that if modern practices are followed, it is possible to commit to the pubkeyhash instead of the pubkey directly. Finally, Rusty proposed turning the changes into BOLT 11 as interoperability tests between implementations draw nearer.</p>
        <hr>
        <p><i>Updated on: 2023-06-02T01:02:48.729936+00:00</i></p>
    

    

    <footer>
        <span style="font-family: Arial, Helvetica, sans-serif;">&#10084;&#65039;</span> <a href="https://chaincode.com" target="_blank" rel="noreferrer" style="text-decoration: none; color: inherit;">Chaincode</a>
    </footer>
</body>

</html>