<!doctype html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="Content-Type" content="text/html; charset=us-ascii">
    <title>Atom Feed Display</title>
    <link rel="stylesheet" href="../../archive_styles.css">
</head>

<body BGCOLOR="#fffffb">
    
    <h1>eltoo: A Simplified update Mechanism for Lightning and Off-Chain Contracts <span class="combined-summary">[combined summary]</span></h1>
    <hr class="solid">
    <br><b>Individual post summaries:</b>
    
        <ul>
            
                
                    <li>
                        <a href="/lightning-dev/June_2018/001311_eltoo-A-Simplified-update-Mechanism-for-Lightning-and-Off-Chain-Contracts.html">eltoo: A Simplified update Mechanism for Lightning and Off-Chain Contracts</a>
                        <b>Christian Decker 2018-06-19 14:46:32</b>
                    </li>
                
                    <li>
                        <a href="/lightning-dev/June_2018/001313_eltoo-A-Simplified-update-Mechanism-for-Lightning-and-Off-Chain-Contracts.html">eltoo: A Simplified update Mechanism for Lightning and Off-Chain Contracts</a>
                        <b>David A. Harding 2018-06-20 15:31:50</b>
                    </li>
                
                    <li>
                        <a href="/lightning-dev/Oct_2018/001453_eltoo-A-Simplified-update-Mechanism-for-Lightning-and-Off-Chain-Contracts.html">eltoo: A Simplified update Mechanism for Lightning and Off-Chain Contracts</a>
                        <b>Christian Decker 2018-10-13 10:12:03</b>
                    </li>
                
                    <li>
                        <a href="/lightning-dev/May_2018/001237_eltoo-A-Simplified-update-Mechanism-for-Lightning-and-Off-Chain-Contracts.html">eltoo: A Simplified update Mechanism for Lightning and Off-Chain Contracts</a>
                        <b>Christian Decker 2018-05-03 10:28:53</b>
                    </li>
                
                    <li>
                        <a href="/lightning-dev/May_2018/001239_eltoo-A-Simplified-update-Mechanism-for-Lightning-and-Off-Chain-Contracts.html">eltoo: A Simplified update Mechanism for Lightning and Off-Chain Contracts</a>
                        <b>Carsten Otto 2018-05-03 16:17:28</b>
                    </li>
                
                    <li>
                        <a href="/lightning-dev/May_2018/001240_eltoo-A-Simplified-update-Mechanism-for-Lightning-and-Off-Chain-Contracts.html">eltoo: A Simplified update Mechanism for Lightning and Off-Chain Contracts</a>
                        <b>ZmnSCPxj 2018-05-04 07:20:57</b>
                    </li>
                
                    <li>
                        <a href="/lightning-dev/May_2018/001278_eltoo-A-Simplified-update-Mechanism-for-Lightning-and-Off-Chain-Contracts.html">eltoo: A Simplified update Mechanism for Lightning and Off-Chain Contracts</a>
                        <b>Corn√© Plooy 2018-05-15 13:22:44</b>
                    </li>
                
                    <li>
                        <a href="/lightning-dev/May_2018/001279_eltoo-A-Simplified-update-Mechanism-for-Lightning-and-Off-Chain-Contracts.html">eltoo: A Simplified update Mechanism for Lightning and Off-Chain Contracts</a>
                        <b>ZmnSCPxj 2018-05-15 13:41:45</b>
                    </li>
                
                    <li>
                        <a href="/lightning-dev/May_2018/001226_eltoo-A-Simplified-update-Mechanism-for-Lightning-and-Off-Chain-Contracts.html">eltoo: A Simplified update Mechanism for Lightning and Off-Chain Contracts</a>
                        <b>ZmnSCPxj 2018-05-01 05:07:54</b>
                    </li>
                
                    <li>
                        <a href="/lightning-dev/May_2018/001231_eltoo-A-Simplified-update-Mechanism-for-Lightning-and-Off-Chain-Contracts.html">eltoo: A Simplified update Mechanism for Lightning and Off-Chain Contracts</a>
                        <b>ZmnSCPxj 2018-05-02 04:12:28</b>
                    </li>
                
                    <li>
                        <a href="/lightning-dev/May_2018/001234_eltoo-A-Simplified-update-Mechanism-for-Lightning-and-Off-Chain-Contracts.html">eltoo: A Simplified update Mechanism for Lightning and Off-Chain Contracts</a>
                        <b>ZmnSCPxj 2018-05-02 12:16:29</b>
                    </li>
                
                    <li>
                        <a href="/lightning-dev/May_2018/001235_eltoo-A-Simplified-update-Mechanism-for-Lightning-and-Off-Chain-Contracts.html">eltoo: A Simplified update Mechanism for Lightning and Off-Chain Contracts</a>
                        <b>Carsten Otto 2018-05-03 09:00:23</b>
                    </li>
                
                    <li>
                        <a href="/lightning-dev/May_2018/001227_eltoo-A-Simplified-update-Mechanism-for-Lightning-and-Off-Chain-Contracts.html">eltoo: A Simplified update Mechanism for Lightning and Off-Chain Contracts</a>
                        <b>ZmnSCPxj 2018-05-01 07:12:35</b>
                    </li>
                
                    <li>
                        <a href="/lightning-dev/June_2018/001310_eltoo-A-Simplified-update-Mechanism-for-Lightning-and-Off-Chain-Contracts.html">eltoo: A Simplified update Mechanism for Lightning and Off-Chain Contracts</a>
                        <b>David A. Harding 2018-06-19 11:56:18</b>
                    </li>
                
                    <li>
                        <a href="/lightning-dev/June_2018/001312_eltoo-A-Simplified-update-Mechanism-for-Lightning-and-Off-Chain-Contracts.html">eltoo: A Simplified update Mechanism for Lightning and Off-Chain Contracts</a>
                        <b>David A. Harding 2018-06-19 18:02:51</b>
                    </li>
                
                    <li>
                        <a href="/lightning-dev/April_2018/001223_eltoo-A-Simplified-update-Mechanism-for-Lightning-and-Off-Chain-Contracts.html">eltoo: A Simplified update Mechanism for Lightning and Off-Chain Contracts</a>
                        <b>Christian Decker 2018-04-30 15:41:38</b>
                    </li>
                
                    <li>
                        <a href="/lightning-dev/July_2018/001363_eltoo-A-Simplified-update-Mechanism-for-Lightning-and-Off-Chain-Contracts.html">eltoo: A Simplified update Mechanism for Lightning and Off-Chain Contracts</a>
                        <b>Anthony Towns 2018-07-18 10:02:38</b>
                    </li>
                
                    <li>
                        <a href="/lightning-dev/May_2018/001229_eltoo-A-Simplified-update-Mechanism-for-Lightning-and-Off-Chain-Contracts.html">eltoo: A Simplified update Mechanism for Lightning and Off-Chain Contracts</a>
                        <b>Christian Decker 2018-05-01 12:04:51</b>
                    </li>
                
                    <li>
                        <a href="/lightning-dev/May_2018/001230_eltoo-A-Simplified-update-Mechanism-for-Lightning-and-Off-Chain-Contracts.html">eltoo: A Simplified update Mechanism for Lightning and Off-Chain Contracts</a>
                        <b>ZmnSCPxj 2018-05-01 23:55:41</b>
                    </li>
                
                    <li>
                        <a href="/lightning-dev/May_2018/001236_eltoo-A-Simplified-update-Mechanism-for-Lightning-and-Off-Chain-Contracts.html">eltoo: A Simplified update Mechanism for Lightning and Off-Chain Contracts</a>
                        <b>Carsten Otto 2018-05-03 09:03:51</b>
                    </li>
                
                    <li>
                        <a href="/lightning-dev/May_2018/001238_eltoo-A-Simplified-update-Mechanism-for-Lightning-and-Off-Chain-Contracts.html">eltoo: A Simplified update Mechanism for Lightning and Off-Chain Contracts</a>
                        <b>Christian Decker 2018-05-03 10:51:01</b>
                    </li>
                
                    <li>
                        <a href="/lightning-dev/June_2018/001316_eltoo-A-Simplified-update-Mechanism-for-Lightning-and-Off-Chain-Contracts.html">eltoo: A Simplified update Mechanism for Lightning and Off-Chain Contracts</a>
                        <b>Rusty Russell 2018-06-22 00:32:01</b>
                    </li>
                
                    <li>
                        <a href="/lightning-dev/Oct_2018/001441_eltoo-A-Simplified-update-Mechanism-for-Lightning-and-Off-Chain-Contracts.html">eltoo: A Simplified update Mechanism for Lightning and Off-Chain Contracts</a>
                        <b>Christian Decker 2018-10-11 17:37:56</b>
                    </li>
                
                    <li>
                        <a href="/lightning-dev/Oct_2018/001442_eltoo-A-Simplified-update-Mechanism-for-Lightning-and-Off-Chain-Contracts.html">eltoo: A Simplified update Mechanism for Lightning and Off-Chain Contracts</a>
                        <b>ZmnSCPxj 2018-10-12 03:20:55</b>
                    </li>
                
                    <li>
                        <a href="/lightning-dev/Oct_2018/001454_eltoo-A-Simplified-update-Mechanism-for-Lightning-and-Off-Chain-Contracts.html">eltoo: A Simplified update Mechanism for Lightning and Off-Chain Contracts</a>
                        <b>Anthony Towns 2018-10-13 11:40:30</b>
                    </li>
                
                    <li>
                        <a href="/lightning-dev/May_2018/001228_eltoo-A-Simplified-update-Mechanism-for-Lightning-and-Off-Chain-Contracts.html">eltoo: A Simplified update Mechanism for Lightning and Off-Chain Contracts</a>
                        <b>Christian Decker 2018-05-01 11:38:12</b>
                    </li>
                
                    <li>
                        <a href="/lightning-dev/Oct_2018/001435_eltoo-A-Simplified-update-Mechanism-for-Lightning-and-Off-Chain-Contracts.html">eltoo: A Simplified update Mechanism for Lightning and Off-Chain Contracts</a>
                        <b>Anthony Towns 2018-10-10 08:25:46</b>
                    </li>
                
            
        </ul>
        
            <a href="https://lists.linuxfoundation.org/pipermail/lightning-dev/2018-June/001311.html">Click here to read the original discussion on the lightning-dev mailing list</a>
        
        <p><i>Published on: 2018-06-19T14:46:32+00:00</i></p>
        <hr>
        <h3>Summary:</h3>
        <p>The Lightning Network is a layer 2 protocol that uses off-chain transactions to speed up Bitcoin transactions. Eltoo is a proposed update mechanism for the Lightning Network protocol that could simplify transactions and game theory in ensuring fair play. It allows for attaching fees when settling and even allows for fees to be bumped using CPFP or RBF. The introduction of the SIGHASH_NOINPUT flag for signatures in Bitcoin is needed before the implementation of eltoo can begin. This proposal can also be used for other applications beyond Lightning.One concern raised regarding the ability of an update transaction to use low fees and still be certain that it will not be replaced. Christian Decker proposed a solution to bind S_3 to any intermediate states or the funding output, so that if S_3 is the last agreed upon state, it will eventually make it into the blockchain. David A. Harding discussed the DoS vulnerability of Eltoo settlements and HTLC theft. In a scenario where Alice and Mallory have a channel with several state updates, and Alice tries to initiate a cooperative close but Mallory stalls, Mallory can broadcast the trigger transaction and the first state, bundled into a very large vsize transaction with a low feerate. If Mallory introduces significant settlement delays, HTLC security is compromised.In a discussion amongst Lightning Network developers, Anthony Towns suggested that it is possible to reset the state numbers by rolling to use new update keys. ZmnSCPxj also suggested an adaptive scheme in which a second update transaction is added at around 90% of the available range. Christian Decker acknowledged these suggestions and noted that splice-in and splice-out operations already require re-anchoring on-chain on a regular basis.The email conversation discusses the eltoo update mechanism for the Lightning Network and proposes a solution to the limit of 1 billion updates to channel state numbers by using two update transactions. It is suggested that resetting the locktime by rolling over to use new update keys could allow for more than 1 billion updates, making unilateral closes more painful but keeping cooperative closes cheap. The email also clarifies the setup transaction in the eltoo paper and suggests using "multiparty output" instead of "multisig" to avoid forward referencing.The Lightning Network specification has a mechanism for penalty-based invalidation. However, eltoo is a potential drop-in replacement that could simplify transactions and game theory in ensuring fair play. The proposed ratchet mechanism involves funding address with multisig by A and B, committing to state >=N by A, committing to state N by A after delay D or committing to state M (M>=N) by B. Transactions at 3a and 3b can pay current market fees with minimal risk and can be CPFPed by a tx spending your own channel balance. Both parties can claim their funds as soon as the other can, no matter who initiates the close. In addition, the funding outpoint can be spent directly by any update transaction, which has `OP_FALSE` at its witness script, and mutual close transaction can use the update branch of the funding transaction with `OP_FALSE`. To prevent DoS attacks, T(n-1) > T(n-2) - S - C, so the HTLC time-out increment must be at least S+C. However, without watch towers, it becomes impractical to set the time-out increment of a couple of weeks per hop for the HTLCs. Therefore, only professional parties that can manage near-100% uptime can safely perform transaction routing. In a discussion about deploying a back-compatible extension to the Lightning Network, ZmnSCPxj suggests that such an extension would create a mixed network where payers could choose routes with identical fees and cltv-deltas. However, if one route includes Decker-Russell-Osuntokun channels, which have a csv-delta, while the other only includes Poon-Dryja channels without any additional csv-delta, the payer would prefer the purely Poon-Dryja one.Finally, the proposed Eltoo construction for Bitcoin's Lightning Network channel allows for offchain update and settlement transactions. The update transaction script has two branches, a CSV-encumbered N-of-N "settlement" branch, and a CLTV-encumbered N-of-N "update" branch. Pubkeys on the settlement branch of each update transaction are different, ensuring that a settlement transaction can only confirm if the corresponding update transaction can be confirmed deeply enough without having its output re-spent.</p>
        <hr>
        <p><i>Updated on: 2023-05-25T00:21:55.227625+00:00</i></p>
    

    

    <footer>
        <span style="font-family: Arial, Helvetica, sans-serif;">&#10084;&#65039;</span> <a href="https://chaincode.com" target="_blank" rel="noreferrer" style="text-decoration: none; color: inherit;">Chaincode</a>
    </footer>
</body>

</html>