<!doctype html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="Content-Type" content="text/html; charset=us-ascii">
    <title>Atom Feed Display</title>
    <link rel="stylesheet" href="../../archive_styles.css">
</head>

<body BGCOLOR="#fffffb">
    
    <h1>Jamming Mitigation Dry Run</h1>
    <hr class="solid">
    
    <ul>
        
        
            <p><b>Author:</b> Carla Kirk-Cohen 2023-08-01 18:44:57+00:00
            <br><i>Published on: 2023-08-01T18:44:57+00:00</i></p>

        
        

        
        
        <li>
        <a href="/lightning-dev/Aug_2023/combined_Jamming-Mitigation-Dry-Run.html"> Combined Summary of all posts in thread </a>
        </li>
        
        <li>
            
                <a href="https://lists.linuxfoundation.org/pipermail/lightning-dev/2023-August/004034.html">Click here to read original discussion on the lightning-dev mailing list</a>
            
        </li>

    </ul>

    <hr>
    <h3> Summary:</h3>
    <p>We are moving forward with the plan discussed at the summit to conduct a "dry run" of HTLC endorsement and local reputation tracking. The purpose of this is to gather real-world data that can be used to validate the behavior of local reputation algorithms and to create synthetic data for simulating attack scenarios. Additionally, we aim to obtain liquidity and slot utilization data to inform resource bucketing defaults and provide a common data export format for analysis.The plan consists of several phases. Firstly, we will collect anonymized forwarding data using a common CSV file format. This format includes fields such as channel IDs, peer information, fee offered by the HTLC, outgoing liquidity and slots occupied, timestamps of when the HTLC was added and removed, and whether the HTLC was settled or failed. It should be noted that certain fields must be randomized if exported to researching teams to protect sensitive information.Next, we will propagate an experimental endorsement TLV (Type-Length-Value) in the `update_add_htlc` message. This TLV will indicate whether the HTLC has been endorsed or not. Forwarding nodes will be responsible for propagating this signal, setting the same value for the outgoing `update_add_htlc` if the incoming `update_add_htlc` contains the endorsement field, or setting `endorsed = 0` otherwise.Lastly, we will implement local reputation algorithms and actively set the value of the endorsement TLV for outgoing HTLCs. This step will involve going beyond simply copying the value presented by the sending node. It is important to note that the endorsement signal will only be used for data collection purposes. Experimenters have the freedom to use the full range of bits to express endorsement values, but it should be understood that any non-zero value will be interpreted as a positive endorsement signal. Senders are advised to choose a probability P (default: 20%) to set `endorsed=1` for their payments, balancing the need for privacy with the desire to provide endorsement information.Throughout this process, multiple teams will be involved. Eclair will focus on collecting local reputation data, CLN will work on propagating the endorsement field and developing a plugin for local reputation scoring, LND will handle data export and HTLC endorsement via circuitbreaker, and LDK will provide additional plumbing as outlined in the research plan.To conduct this research, we are aware of the sensitivity and privacy concerns surrounding the data being collected. Therefore, we propose a common data format that allows node operators to run the analysis locally if desired. We will also ensure that certain fields are randomized to protect sensitive information when exporting data to researching teams.Once the data collection code is in place, we will make a call for node operators to start collecting data. In the meantime, if anyone has any questions or is interested in helping out, please don't hesitate to reach out.</p>
    <hr>
    <p><i> Updated on: 2023-08-07T17:45:24.470153+00:00 </i></p>
    
    

    <footer>
        <span style="font-family: Arial, Helvetica, sans-serif;">&#10084;&#65039;</span> <a href="https://chaincode.com" target="_blank" rel="noreferrer" style="text-decoration: none; color: inherit;">Chaincode</a>
    </footer>
</body>

</html>