<!doctype html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="Content-Type" content="text/html; charset=us-ascii">
    <title>Atom Feed Display</title>
    <link rel="stylesheet" href="../../archive_styles.css">
</head>

<body BGCOLOR="#fffffb">
    
    <h1>Improving the initial gossip sync <span class="combined-summary">[combined summary]</span></h1>
    <hr class="solid">
    <br><b>Individual post summaries:</b>
    
        <ul>
            
                
                    <li>
                        <a href="/lightning-dev/Feb_2018/001014_Improving-the-initial-gossip-sync.xml.html">Improving the initial gossip sync</a>
                        <b>Rusty Russell 2018-02-09 01:44:24</b>
                    </li>
                
                    <li>
                        <a href="/lightning-dev/Feb_2018/001016_Improving-the-initial-gossip-sync.xml.html">Improving the initial gossip sync</a>
                        <b>Christian Decker 2018-02-09 11:41:42</b>
                    </li>
                
                    <li>
                        <a href="/lightning-dev/Feb_2018/001043_Improving-the-initial-gossip-sync.xml.html">Improving the initial gossip sync</a>
                        <b>Olaoluwa Osuntokun 2018-02-24 00:45:27</b>
                    </li>
                
                    <li>
                        <a href="/lightning-dev/Feb_2018/001052_Improving-the-initial-gossip-sync.xml.html">Improving the initial gossip sync</a>
                        <b>Rusty Russell 2018-02-26 01:43:56</b>
                    </li>
                
                    <li>
                        <a href="/lightning-dev/Feb_2018/001053_Improving-the-initial-gossip-sync.xml.html">Improving the initial gossip sync</a>
                        <b>Rusty Russell 2018-02-26 05:37:26</b>
                    </li>
                
                    <li>
                        <a href="/lightning-dev/Feb_2018/001057_Improving-the-initial-gossip-sync.xml.html">Improving the initial gossip sync</a>
                        <b>Christian Decker 2018-02-28 21:38:01</b>
                    </li>
                
                    <li>
                        <a href="/lightning-dev/Feb_2018/000989_Improving-the-initial-gossip-sync.xml.html">Improving the initial gossip sync</a>
                        <b>Christian Decker 2018-02-05 13:02:38</b>
                    </li>
                
                    <li>
                        <a href="/lightning-dev/Feb_2018/000992_Improving-the-initial-gossip-sync.xml.html">Improving the initial gossip sync</a>
                        <b>Fabrice Drouin 2018-02-05 15:08:22</b>
                    </li>
                
                    <li>
                        <a href="/lightning-dev/Feb_2018/001000_Improving-the-initial-gossip-sync.xml.html">Improving the initial gossip sync</a>
                        <b>Olaoluwa Osuntokun 2018-02-07 00:24:02</b>
                    </li>
                
                    <li>
                        <a href="/lightning-dev/Feb_2018/001006_Improving-the-initial-gossip-sync.xml.html">Improving the initial gossip sync</a>
                        <b>Fabrice Drouin 2018-02-07 17:50:19</b>
                    </li>
                
                    <li>
                        <a href="/lightning-dev/Feb_2018/001033_Improving-the-initial-gossip-sync.xml.html">Improving the initial gossip sync</a>
                        <b>ZmnSCPxj 2018-02-20 06:26:16</b>
                    </li>
                
                    <li>
                        <a href="/lightning-dev/Feb_2018/001050_Improving-the-initial-gossip-sync.xml.html">Improving the initial gossip sync</a>
                        <b>Olaoluwa Osuntokun 2018-02-25 23:23:54</b>
                    </li>
                
                    <li>
                        <a href="/lightning-dev/Feb_2018/001018_Improving-the-initial-gossip-sync.xml.html">Improving the initial gossip sync</a>
                        <b>Rusty Russell 2018-02-12 01:45:55</b>
                    </li>
                
                    <li>
                        <a href="/lightning-dev/Feb_2018/001026_Improving-the-initial-gossip-sync.xml.html">Improving the initial gossip sync</a>
                        <b>Fabrice Drouin 2018-02-13 09:01:38</b>
                    </li>
                
                    <li>
                        <a href="/lightning-dev/Feb_2018/001030_Improving-the-initial-gossip-sync.xml.html">Improving the initial gossip sync</a>
                        <b>Fabrice Drouin 2018-02-19 18:04:39</b>
                    </li>
                
                    <li>
                        <a href="/lightning-dev/Feb_2018/001032_Improving-the-initial-gossip-sync.xml.html">Improving the initial gossip sync</a>
                        <b>Rusty Russell 2018-02-20 01:08:54</b>
                    </li>
                
                    <li>
                        <a href="/lightning-dev/Feb_2018/001036_Improving-the-initial-gossip-sync.xml.html">Improving the initial gossip sync</a>
                        <b>Fabrice Drouin 2018-02-21 18:02:57</b>
                    </li>
                
                    <li>
                        <a href="/lightning-dev/Feb_2018/001007_Improving-the-initial-gossip-sync.xml.html">Improving the initial gossip sync</a>
                        <b>Jim Posen 2018-02-07 21:27:05</b>
                    </li>
                
            
        </ul>
        
            <a href="https://lists.linuxfoundation.org/pipermail/lightning-dev/2018-February/001014.html">Click here to read the original discussion on the lightning-dev mailing list</a>
        
        <p><i>Published on: 2018-02-09T01:44:24+00:00</i></p>
        <hr>
        <h3>Summary:</h3>
        <p>The Lightning Network team has been discussing proposals to improve the timestamp synchronization mechanism and optimize channel announcements and updates for mobile nodes. Rusty Russell suggests using a timestamp mechanism, while Christian Decker and Fabrice Drouin plan to simulate both mechanisms to determine which one consumes less bandwidth. The team is concerned about zombie channels and missing channels during synchronization and discusses deployment suggestions, including using a feature bit pair and appending an optional 4 byte `routing_sync_timestamp` field to the `init` message. There is disagreement on whether to extend the `init` message or create a new one for syncing purposes.In addition, the email thread discusses the implementation of a timestamp-based approach to synchronize routing tables between nodes. The proposed approach is aimed at reducing bandwidth consumption while maintaining synchronization accuracy. The Lightning Network developers are testing both the timestamp mechanism and an Invertible Bloom Lookup Table (IBLT) approach to see which consumes less bandwidth. Regardless of the solution, requirements include being easy to specify and implement.The Lightning Network developers have agreed on a new feature bitpair to move forward with, which includes query_short_channel_id, query_channel_range/reply_channel_range, and adding a gossip_timestamp field in `init` that overrides `initial_routing_sync`. They discuss making this a distinct `chan_update_horizon` message rather than appending additional fields to the init message as it already contains two variable sized fields.Finally, the email thread discusses different approaches to synchronizing gossip messages between Lightning Network nodes. Specifically, they debate the merits of using a timestamp mechanism versus an Invertible Bloom Lookup Table (IBLT) approach. They also consider how to handle re-transmission of old channel_announcement and node_announcement messages, with Russell suggesting that it is simpler to only send messages >= routing_sync_timestamp, while Decker argues that channel_announcement cannot be omitted since a channel_update without a preceding announcement is invalid. They also discuss implementation details such as filters for received messages and timestamps to control which time windows to sync.The Lightning Network is proposing new mechanisms for querying specific short channel IDs, ranges of blocks, and gossip timestamps, in order to improve the initial sync issue between nodes, specifically mobile nodes that are often offline and need to resync frequently. The lightning dev interop call discussed three new mechanisms for querying specific short channel IDs, ranges of blocks, and gossip timestamps. The proposal involves grouping channel announcements by "buckets" and creating a filter for each bucket, exchange, and use them to filter out channel announcements.</p>
        <hr>
        <p><i>Updated on: 2023-06-03T18:17:40.542183+00:00</i></p>
    

    

    <footer>
        <span style="font-family: Arial, Helvetica, sans-serif;">&#10084;&#65039;</span> <a href="https://chaincode.com" target="_blank" rel="noreferrer" style="text-decoration: none; color: inherit;">Chaincode</a>
    </footer>
</body>

</html>