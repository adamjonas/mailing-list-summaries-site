<!doctype html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="Content-Type" content="text/html; charset=us-ascii">
    <title>Atom Feed Display</title>
    <link rel="stylesheet" href="../../archive_styles.css">
</head>

<body BGCOLOR="#fffffb">
    
    <h1>Improving the initial gossip sync <span class="combined-summary">[combined summary]</span></h1>
    <hr class="solid">
    <br><b>Individual post summaries:</b>
    
        <ul>
            
                
                    <li>
                        <a href="/lightning-dev/Feb_2018/001006_Improving-the-initial-gossip-sync.xml.html">Improving the initial gossip sync</a>
                        <b>Fabrice Drouin 2018-02-07 17:50:19</b>
                    </li>
                
                    <li>
                        <a href="/lightning-dev/Feb_2018/001033_Improving-the-initial-gossip-sync.xml.html">Improving the initial gossip sync</a>
                        <b>ZmnSCPxj 2018-02-20 06:26:16</b>
                    </li>
                
                    <li>
                        <a href="/lightning-dev/Feb_2018/001050_Improving-the-initial-gossip-sync.xml.html">Improving the initial gossip sync</a>
                        <b>Olaoluwa Osuntokun 2018-02-25 23:23:54</b>
                    </li>
                
                    <li>
                        <a href="/lightning-dev/Feb_2018/001018_Improving-the-initial-gossip-sync.xml.html">Improving the initial gossip sync</a>
                        <b>Rusty Russell 2018-02-12 01:45:55</b>
                    </li>
                
                    <li>
                        <a href="/lightning-dev/Feb_2018/001026_Improving-the-initial-gossip-sync.xml.html">Improving the initial gossip sync</a>
                        <b>Fabrice Drouin 2018-02-13 09:01:38</b>
                    </li>
                
                    <li>
                        <a href="/lightning-dev/Feb_2018/001030_Improving-the-initial-gossip-sync.xml.html">Improving the initial gossip sync</a>
                        <b>Fabrice Drouin 2018-02-19 18:04:39</b>
                    </li>
                
                    <li>
                        <a href="/lightning-dev/Feb_2018/001032_Improving-the-initial-gossip-sync.xml.html">Improving the initial gossip sync</a>
                        <b>Rusty Russell 2018-02-20 01:08:54</b>
                    </li>
                
                    <li>
                        <a href="/lightning-dev/Feb_2018/001036_Improving-the-initial-gossip-sync.xml.html">Improving the initial gossip sync</a>
                        <b>Fabrice Drouin 2018-02-21 18:02:57</b>
                    </li>
                
                    <li>
                        <a href="/lightning-dev/Feb_2018/001007_Improving-the-initial-gossip-sync.xml.html">Improving the initial gossip sync</a>
                        <b>Jim Posen 2018-02-07 21:27:05</b>
                    </li>
                
                    <li>
                        <a href="/lightning-dev/Feb_2018/001014_Improving-the-initial-gossip-sync.xml.html">Improving the initial gossip sync</a>
                        <b>Rusty Russell 2018-02-09 01:44:24</b>
                    </li>
                
                    <li>
                        <a href="/lightning-dev/Feb_2018/001016_Improving-the-initial-gossip-sync.xml.html">Improving the initial gossip sync</a>
                        <b>Christian Decker 2018-02-09 11:41:42</b>
                    </li>
                
                    <li>
                        <a href="/lightning-dev/Feb_2018/001043_Improving-the-initial-gossip-sync.xml.html">Improving the initial gossip sync</a>
                        <b>Olaoluwa Osuntokun 2018-02-24 00:45:27</b>
                    </li>
                
                    <li>
                        <a href="/lightning-dev/Feb_2018/001052_Improving-the-initial-gossip-sync.xml.html">Improving the initial gossip sync</a>
                        <b>Rusty Russell 2018-02-26 01:43:56</b>
                    </li>
                
                    <li>
                        <a href="/lightning-dev/Feb_2018/001053_Improving-the-initial-gossip-sync.xml.html">Improving the initial gossip sync</a>
                        <b>Rusty Russell 2018-02-26 05:37:26</b>
                    </li>
                
                    <li>
                        <a href="/lightning-dev/Feb_2018/001057_Improving-the-initial-gossip-sync.xml.html">Improving the initial gossip sync</a>
                        <b>Christian Decker 2018-02-28 21:38:01</b>
                    </li>
                
                    <li>
                        <a href="/lightning-dev/Feb_2018/000989_Improving-the-initial-gossip-sync.xml.html">Improving the initial gossip sync</a>
                        <b>Christian Decker 2018-02-05 13:02:38</b>
                    </li>
                
                    <li>
                        <a href="/lightning-dev/Feb_2018/000992_Improving-the-initial-gossip-sync.xml.html">Improving the initial gossip sync</a>
                        <b>Fabrice Drouin 2018-02-05 15:08:22</b>
                    </li>
                
                    <li>
                        <a href="/lightning-dev/Feb_2018/001000_Improving-the-initial-gossip-sync.xml.html">Improving the initial gossip sync</a>
                        <b>Olaoluwa Osuntokun 2018-02-07 00:24:02</b>
                    </li>
                
            
        </ul>
        
            <a href="https://lists.linuxfoundation.org/pipermail/lightning-dev/2018-February/001006.html">Click here to read the original discussion on the lightning-dev mailing list</a>
        
        <p><i>Published on: 2018-02-07T17:50:19+00:00</i></p>
        <hr>
        <h3>Summary:</h3>
        <p>The Lightning Network developers are discussing various proposals to improve the synchronization of nodes in the network. One proposal involves adding a cutoff timestamp to optimize the case where mobile nodes are frequently offline and need to resync. Another proposal involves grouping channel announcements by "buckets" and creating a filter for each bucket, which would be used to filter out channel announcements. The team also discussed implementing three new feature bitpairs, including a `gossip_timestamp` field in the `init` message.There is disagreement among the team about whether to extend the `init` message or create a new one for syncing purposes. Christian Decker proposes extending the `init` message with the global and local features, as well as low and high watermarks. Meanwhile, Olaoluwa Osuntokun argues that adding more fields to the `init` message would make it difficult to remove or nullify expected messages in the future.Rusty Russell tries various compression schemes to reduce the number of bytes required, including deltagz which works the best. The team also discusses adding a data field containing zipped ids like in reply_channel_range so that multiple items can be queried with a single message.Overall, the Lightning Network developers are working on incremental improvements to synchronize nodes in the network more efficiently.In an email conversation between Christian Decker and Fabrice, a solution has been proposed to fix initial sync issues while waiting for a real sync protocol. They suggest using an optional feature bit to group channel announcements by "buckets" and create filters for each bucket to exchange and use them to filter out channel announcements. A new `use_channel_announcement_filters` optional feature bit would be added, and when a node that supports channel announcement filters receives an `init` message with the `use_channel_announcement_filters` bit set, it sends back its channel filters. When a node that supports channel announcement filters receives a `channel_announcement_filters` message, it uses it to filter channel announcements before sending them.The lightning-dev mailing list has discussed the need for a stop-gap solution to fix the naive table dump on initial connect. Christian Decker proposed adding a new feature bit indicating that the `init` message is extended with a u32 `gossip_timestamp`, interpreted as a UNIX timestamp. However, Laolu believes that a new message is required instead of extending the `init` message. Fabrice Drouin's proposal cares only about newly created channels and uses an update horizon in which vertexes+edges with a lower time stamp just shouldn't be set at all.The proposal is meant to fix short-term issues during the initial sync while waiting for a real sync protocol. It is not meant to allow perfect synchronization of the topology between peers. The lightning-dev mailing list is open for further discussion and proposals.</p>
        <hr>
        <p><i>Updated on: 2023-06-02T02:09:23.298823+00:00</i></p>
    

    

    <footer>
        <span style="font-family: Arial, Helvetica, sans-serif;">&#10084;&#65039;</span> <a href="https://chaincode.com" target="_blank" rel="noreferrer" style="text-decoration: none; color: inherit;">Chaincode</a>
    </footer>
</body>

</html>