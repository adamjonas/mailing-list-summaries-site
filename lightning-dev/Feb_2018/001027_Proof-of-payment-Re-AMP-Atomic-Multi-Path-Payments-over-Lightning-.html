<!doctype html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="Content-Type" content="text/html; charset=us-ascii">
    <title>Atom Feed Display</title>
    <link rel="stylesheet" href="../../archive_styles.css">
</head>

<body BGCOLOR="#fffffb">
    
    <h1>Proof of payment (Re: AMP: Atomic Multi-Path Payments over Lightning)</h1>
    <hr class="solid">
    
    <ul>
        
        
            <p><b>Author:</b> Corn√© Plooy 2018-02-13 10:33:50
            <br><i>Published on: 2018-02-13T10:33:50+00:00</i></p>

        
        

        
        
        <li>
        <a href="/lightning-dev/Feb_2018/combined_Proof-of-payment-Re-AMP-Atomic-Multi-Path-Payments-over-Lightning-.html"> Combined Summary of all posts in thread </a>
        </li>
        
        <li>
            
                <a href="https://lists.linuxfoundation.org/pipermail/lightning-dev/2018-February/001027.html">Click here to read original discussion on the lightning-dev mailing list</a>
            
        </li>

    </ul>

    <hr>
    <h3> Summary:</h3>
    <p>The Lightning Network is a payment protocol that enables secure, fast, and cheap transactions between two parties. A recent discussion on the Lightning-dev mailing list involves the use of proofs of payment in the Atomic Multipath Payments (AMP) setting. While some argue that a combination of signed invoice + preimage is a reliable proof of payment, others disagree. They believe this type of proof does not bind a specific sender and suggest exploring proofs of stronger statements. These could utilize the ephemeral keys in onion packets or even the onion as a witness, which is more rigidly coupled to having actually completed a payment.Furthermore, they point out that proving the payee received the correct amount of funds is more important than proving the payer sent the funds. They argue that if the payer can prove that there is any kind of arrangement that ended up with the payee receiving the correct amount of funds, that should count as payment. This includes scenarios where intermediaries have been involved but does imply that the payer ends up on the sending side of the payment.There have been suggestions for new invoice formats that state the obligation of the signer to deliver Z if all corresponding payment keys are shown. In case of partial payment failure, the payer could sign a declaration stating which transactions were canceled and which ones should be refunded. The invoice format changes do not require changes to the network protocol. While the court is apparently the final point of settlement for invoices, the scripting language accepted by courts is quite flexible, and you can use that to enforce atomicity. In conclusion, while a proof of payment is an important feature to have, the current signed invoice + preimage is not a reliable proof of payment. Alternative methods that offer stronger statements should be explored. Furthermore, proving that the payee received the correct amount of funds is more important than proving that the payer sent the funds. There have been suggestions for new invoice formats that may provide proof of payment and settle disputes cooperatively or through legal means.</p>
    <hr>
    <p><i> Updated on: 2023-05-24T21:03:37.206667+00:00 </i></p>
    
    

    <footer>
        <span style="font-family: Arial, Helvetica, sans-serif;">&#10084;&#65039;</span> <a href="https://chaincode.com" target="_blank" rel="noreferrer" style="text-decoration: none; color: inherit;">Chaincode</a>
    </footer>
</body>

</html>