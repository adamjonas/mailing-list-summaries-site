<!doctype html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="Content-Type" content="text/html; charset=us-ascii">
    <title>Atom Feed Display</title>
    <link rel="stylesheet" href="../../archive_styles.css">
</head>

<body BGCOLOR="#fffffb">
    
    <h1>BOLT 2 question <span class="combined-summary">[combined summary]</span></h1>
    <hr class="solid">
    <br><b>Individual post summaries:</b>
    
        <ul>
            
                
                    <li>
                        <a href="/lightning-dev/Dec_2021/003400_BOLT-2-question.html">BOLT 2 question</a>
                        <b>lightning developer 2021-12-09 21:01:27+00:00</b>
                    </li>
                
                    <li>
                        <a href="/lightning-dev/Dec_2021/003399_BOLT-2-question.html">BOLT 2 question</a>
                        <b>Benjamin Weintraub 2021-12-09 20:10:10+00:00</b>
                    </li>
                
            
        </ul>
        
            <a href="https://lists.linuxfoundation.org/pipermail/lightning-dev/2021-December/003400.html">Click here to read the original discussion on the lightning-dev mailing list</a>
        
        <p><i>Published on: 2021-12-09T21:01:27+00:00</i></p>
        <hr>
        <h3>Summary:</h3>
        <p>In a discussion about the concept of "failing a channel" in BOLT 5, a Lightning Developer responds to a question from Benjamin Weintraub. The developer explains that failing a channel refers to closing it, typically due to the sending of an error message. The GitHub section on failing a channel outlines the recommended steps when a peer fails a channel. It suggests that peers should first try to mutually close the channel before resorting to a unilateral force close, which could lead to higher fees and pending HTLCs.There is ongoing discussion about introducing warning messages to address situations where errors are sent, potentially preventing channels from being closed too quickly. The specifics of failing a channel and the appropriate actions to take are still being debated. Recent discussions have resulted in a pull request related to warning messages and issues with `channel_reestablish`.The author of the post has a question about BOLT #2 and seeks clarification on what it means to "fail the channel." They provide an excerpt from the section on "update_add_htlc" in BOLT #2, which outlines four scenarios where a node "SHOULD fail the channel." These scenarios involve receiving an amount_msat equal to or less than 0, receiving an amount_msat that the sending node cannot afford while maintaining its channel reserve and other costs, adding more HTLCs than allowed by the receiver's settings, or setting cltv_expiry to a value greater than or equal to 500000000.The author asks whether failing the channel means closing it (either unilaterally or mutually), ending the TCP connection, or something else entirely.</p>
        <hr>
        <p><i>Updated on: 2023-07-31T23:57:32.551477+00:00</i></p>
    

    

    <footer>
        <span style="font-family: Arial, Helvetica, sans-serif;">&#10084;&#65039;</span> <a href="https://chaincode.com" target="_blank" rel="noreferrer" style="text-decoration: none; color: inherit;">Chaincode</a>
    </footer>
</body>

</html>