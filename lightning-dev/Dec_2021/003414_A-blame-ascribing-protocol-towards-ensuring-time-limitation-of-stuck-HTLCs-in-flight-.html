<!doctype html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="Content-Type" content="text/html; charset=us-ascii">
    <title>Atom Feed Display</title>
    <link rel="stylesheet" href="../../archive_styles.css">
</head>

<body BGCOLOR="#fffffb">
    
    <h1>A blame ascribing protocol towards ensuring time limitation of stuck HTLCs in flight.</h1>
    <hr class="solid">
    
    <ul>
        
        
            <p><b>Author:</b> Bastien TEINTURIER 2021-12-16 07:45:29
            <br><i>Published on: 2021-12-16T07:45:29+00:00</i></p>

        
        

        
        
        <li>
        <a href="/lightning-dev/Dec_2021/combined_A-blame-ascribing-protocol-towards-ensuring-time-limitation-of-stuck-HTLCs-in-flight-.html"> Combined Summary of all posts in thread </a>
        </li>
        
        <li>
            
                <a href="https://lists.linuxfoundation.org/pipermail/lightning-dev/2021-December/003414.html">Click here to read original discussion on the lightning-dev mailing list</a>
            
        </li>

    </ul>

    <hr>
    <h3> Summary:</h3>
    <p>The Lightning Network development team is working to address the issue of spam via HTLCs. In 2015, Rusty, AJ, and others proposed a solution that involved ascribing blame to malicious actors by triggering a force close and providing the force close transaction as proof of honesty. However, a new proposal has been put forward to mitigate HTLC spam in a cheaper way that could quickly ascribe blame to a malicious node. This proposed solution makes use of a new lightning message called "blame_channel" in combination with onion messages. The proposed mechanism requires a fixed time for reply after negotiating an HTLC, and if this does not occur, the downstream peer is considered malicious. The reply time is proportional to the cltv_delta of that hop, and the reply comes in the form of either an update_fulfill_htlc or an update_fail_htlc. If a node cannot send either of these messages, it must send a blame_channel message that includes proof that the node previously set up the HTLC with the next peer. A malicious node could potentially blame an honest one, so nodes might need to extend the message with their own signature to prevent spoofing.One limitation of the proposal is that being able to ascribe blame does not directly prevent spam via HTLCs. Another limitation is that with MPP, the short reply interval could be an issue if the recipient has not received enough parts of the payment yet. However, the proposal also presents several advantages, including preventing malicious actors on the network and allowing an honest sender of the payment to quickly discard a stuck HTLC and try another path without including the malicious node.Overall, the proposed solution offers a step towards mitigating HTLC spam. It is not a complete solution, but it presents a collection of observations to guarantee fast settlement of payments. The team is seeking feedback and criticism to further develop this mechanism.</p>
    <hr>
    <p><i> Updated on: 2023-06-03T06:54:23.238267+00:00 </i></p>
    
    

    <footer>
        <span style="font-family: Arial, Helvetica, sans-serif;">&#10084;&#65039;</span> <a href="https://chaincode.com" target="_blank" rel="noreferrer" style="text-decoration: none; color: inherit;">Chaincode</a>
    </footer>
</body>

</html>