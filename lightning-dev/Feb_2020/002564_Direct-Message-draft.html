<!doctype html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="Content-Type" content="text/html; charset=us-ascii">
    <title>Atom Feed Display</title>
    <link rel="stylesheet" href="../../archive_styles.css">
</head>

<body BGCOLOR="#fffffb">
    
    <h1>Direct Message draft</h1>
    <hr class="solid">
    
    <ul>
        
        
            <p><b>Author:</b> Rusty Russell 2020-02-24 03:15:58
            <br><i>Published on: 2020-02-24T03:15:58+00:00</i></p>

        
        

        
        
        <li>
        <a href="/lightning-dev/Feb_2020/combined_Direct-Message-draft.html"> Combined Summary of all posts in thread </a>
        </li>
        
        <li>
            
                <a href="https://lists.linuxfoundation.org/pipermail/lightning-dev/2020-February/002564.html">Click here to read original discussion on the lightning-dev mailing list</a>
            
        </li>

    </ul>

    <hr>
    <h3> Summary:</h3>
    <p>In this conversation between Rusty Russell and Christian Decker, they discuss the idea of circular payment in onion routing. The lack of a 'reply' function eliminates storage requirements for intermediaries. However, the issue with the circular path is that the recipient cannot add any reply without invalidating the HMACs on the return leg of the onion, which poses a threat to the integrity of the onion routing. Christian suggests a construction of the onion routing packet that allows compression in such a way that it fits inside the payload itself. Another advantage of this method is that the end-to-end payload is not covered by the HMACs in the header, meaning that the recipient can construct a reply without having to modify (and invalidate) the routing onion. This goes back to the roots of the Sphinx paper. The paper suggests the payload be "final key" followed by the desired data, providing a simple validation scheme. While they could potentially generalize the HTLC messages like this, it is unnecessary at this point.</p>
    <hr>
    <p><i> Updated on: 2023-06-02T23:48:05.340469+00:00 </i></p>
    
    

    <footer>
        <span style="font-family: Arial, Helvetica, sans-serif;">&#10084;&#65039;</span> <a href="https://chaincode.com" target="_blank" rel="noreferrer" style="text-decoration: none; color: inherit;">Chaincode</a>
    </footer>
</body>

</html>