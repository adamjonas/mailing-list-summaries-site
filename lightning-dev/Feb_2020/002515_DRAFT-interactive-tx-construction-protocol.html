<!doctype html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="Content-Type" content="text/html; charset=us-ascii">
    <title>Atom Feed Display</title>
    <link rel="stylesheet" href="../../archive_styles.css">
</head>

<body BGCOLOR="#fffffb">
    
    <h1>DRAFT: interactive tx construction protocol</h1>
    <hr class="solid">
    
    <ul>
        
        
            <p><b>Author:</b> lisa neigut 2020-02-10 21:53:28
            <br><i>Published on: 2020-02-10T21:53:28+00:00</i></p>

        
        

        
        
        <li>
        <a href="/lightning-dev/Feb_2020/combined_DRAFT-interactive-tx-construction-protocol.html"> Combined Summary of all posts in thread </a>
        </li>
        
        <li>
            
                <a href="https://lists.linuxfoundation.org/pipermail/lightning-dev/2020-February/002515.html">Click here to read original discussion on the lightning-dev mailing list</a>
            
        </li>

    </ul>

    <hr>
    <h3> Summary:</h3>
    <p>The context provided discusses technical details regarding the implementation of a subtype called "witness_element". It specifies that witness_element data must be less than 32 bytes in length and must have a standard output script. Additionally, it is recommended that nLocktime be set to zero to allow for greater flexibility.One issue with the current protocol is that the blockheight - 6 restriction on funding transactions may not be sufficient to prevent deliberate reorg attacks. As a solution, it is suggested that the locktime be set back a few blocks, allowing the transaction to be eligible for inclusion in any of the previous six blocks. However, this introduces the possibility of fee-sniping, where an analyst can correctly guess that a blockheight - 5 transaction is a Lightning funding if more than 0.1% of onchain transactions are dual-funded.To improve the protocol messages for managing block height disagreements, Rusty suggests adding a serial_id to inputs and outputs, which can also be used for deletions. The serial id would serve as a sorting heuristic for input ordering in the final transaction, replacing BIP69. Peers must choose serial ids randomly, and collisions between peers are considered a protocol error.In conclusion, the context provides technical guidance for implementing witness_element and addresses potential issues with the current protocol's handling of block heights and funding transactions. It also proposes solutions for managing these issues through the use of locktimes and serial ids.</p>
    <hr>
    <p><i> Updated on: 2023-06-02T22:53:28.521286+00:00 </i></p>
    
    

    <footer>
        <span style="font-family: Arial, Helvetica, sans-serif;">&#10084;&#65039;</span> <a href="https://chaincode.com" target="_blank" rel="noreferrer" style="text-decoration: none; color: inherit;">Chaincode</a>
    </footer>
</body>

</html>