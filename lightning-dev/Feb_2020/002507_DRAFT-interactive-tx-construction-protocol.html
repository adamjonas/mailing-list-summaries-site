<!doctype html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="Content-Type" content="text/html; charset=us-ascii">
    <title>Atom Feed Display</title>
    <link rel="stylesheet" href="../../archive_styles.css">
</head>

<body BGCOLOR="#fffffb">
    
    <h1>DRAFT: interactive tx construction protocol</h1>
    <hr class="solid">
    
    <ul>
        
        
            <p><b>Author:</b> ZmnSCPxj 2020-02-07 00:23:15
            <br><i>Published on: 2020-02-07T00:23:15+00:00</i></p>

        
        

        
        
        <li>
        <a href="/lightning-dev/Feb_2020/combined_DRAFT-interactive-tx-construction-protocol.html"> Combined Summary of all posts in thread </a>
        </li>
        
        <li>
            
                <a href="https://lists.linuxfoundation.org/pipermail/lightning-dev/2020-February/002507.html">Click here to read original discussion on the lightning-dev mailing list</a>
            
        </li>

    </ul>

    <hr>
    <h3> Summary:</h3>
    <p>The context discusses the idea of using blockheight - 6 for funding transactions to prevent them from being rejected from the mempool in case of a re-org. However, there is concern about the increased incentive for potential deliberate reorgers to perform a reorg attack, which could delay confirmations even more. It is suggested that setting the locktime back a few blocks can make the funding transaction eligible for inclusion in any of the previous six blocks, increasing the probability that it will be included in the reorganization.There is a proposal to add serial IDs to inputs and outputs to improve the protocol messages for Lightning dual-funding. Each input addition must have a unique serial ID, which is used as a sorting heuristic for input ordering in the final transaction, replacing BIP69. All output scripts must be standard, and nLocktime is always set to 0x00000000. If a blockheight to be used as nLocktime is communicated in the initiation step, it is set to blockheight-6; otherwise, it is set to zero.However, there is concern about what happens if the initiator deliberately provides lousy serial IDs, but it is not an issue since both sides know which inputs and outputs are theirs. There was also a suggestion to add a secret-sharing round where the resulting key is XORed to each serial ID before sorting by the XORed serial ID, but this may be too overweight. Instead, using block headers could be a good solution to avoid block height disagreements.Overall, using block headers can be a better solution to avoid block height disagreements instead of setting block height to -6. Adding serial IDs to inputs and outputs can improve the protocol messages for Lightning dual-funding, and all output scripts must be standard.</p>
    <hr>
    <p><i> Updated on: 2023-06-02T23:08:49.930467+00:00 </i></p>
    
    

    <footer>
        <span style="font-family: Arial, Helvetica, sans-serif;">&#10084;&#65039;</span> <a href="https://chaincode.com" target="_blank" rel="noreferrer" style="text-decoration: none; color: inherit;">Chaincode</a>
    </footer>
</body>

</html>