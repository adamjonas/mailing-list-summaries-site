<!doctype html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="Content-Type" content="text/html; charset=us-ascii">
    <title>Atom Feed Display</title>
    <link rel="stylesheet" href="../../archive_styles.css">
</head>

<body BGCOLOR="#fffffb">
    
    <h1>Dynamic Commitments: Upgrading Channels Without On-Chain Transactions <span class="combined-summary">[combined summary]</span></h1>
    <hr class="solid">
    <br><b>Individual post summaries:</b>
    
        <ul>
            
                
                    <li>
                        <a href="/lightning-dev/Aug_2020/002779_Dynamic-Commitments-Upgrading-Channels-Without-On-Chain-Transactions.xml.html">Dynamic Commitments: Upgrading Channels Without On-Chain Transactions</a>
                        <b>Rusty Russell 2020-08-23 04:26:16</b>
                    </li>
                
                    <li>
                        <a href="/lightning-dev/July_2020/002763_Dynamic-Commitments-Upgrading-Channels-Without-On-Chain-Transactions.xml.html">Dynamic Commitments: Upgrading Channels Without On-Chain Transactions</a>
                        <b>Olaoluwa Osuntokun 2020-07-21 01:18:19</b>
                    </li>
                
                    <li>
                        <a href="/lightning-dev/July_2020/002764_Dynamic-Commitments-Upgrading-Channels-Without-On-Chain-Transactions.xml.html">Dynamic Commitments: Upgrading Channels Without On-Chain Transactions</a>
                        <b>Bastien TEINTURIER 2020-07-21 08:46:12</b>
                    </li>
                
                    <li>
                        <a href="/lightning-dev/July_2020/002766_Dynamic-Commitments-Upgrading-Channels-Without-On-Chain-Transactions.xml.html">Dynamic Commitments: Upgrading Channels Without On-Chain Transactions</a>
                        <b>Olaoluwa Osuntokun 2020-07-21 22:31:45</b>
                    </li>
                
                    <li>
                        <a href="/lightning-dev/July_2020/002770_Dynamic-Commitments-Upgrading-Channels-Without-On-Chain-Transactions.xml.html">Dynamic Commitments: Upgrading Channels Without On-Chain Transactions</a>
                        <b>ZmnSCPxj 2020-07-22 02:32:47</b>
                    </li>
                
                    <li>
                        <a href="/lightning-dev/July_2020/002767_Dynamic-Commitments-Upgrading-Channels-Without-On-Chain-Transactions.xml.html">Dynamic Commitments: Upgrading Channels Without On-Chain Transactions</a>
                        <b>Olaoluwa Osuntokun 2020-07-21 22:45:03</b>
                    </li>
                
                    <li>
                        <a href="/lightning-dev/July_2020/002765_Dynamic-Commitments-Upgrading-Channels-Without-On-Chain-Transactions.xml.html">Dynamic Commitments: Upgrading Channels Without On-Chain Transactions</a>
                        <b>ZmnSCPxj 2020-07-21 14:50:39</b>
                    </li>
                
                    <li>
                        <a href="/lightning-dev/July_2020/002768_Dynamic-Commitments-Upgrading-Channels-Without-On-Chain-Transactions.xml.html">Dynamic Commitments: Upgrading Channels Without On-Chain Transactions</a>
                        <b>Olaoluwa Osuntokun 2020-07-21 22:55:54</b>
                    </li>
                
                    <li>
                        <a href="/lightning-dev/July_2020/002769_Dynamic-Commitments-Upgrading-Channels-Without-On-Chain-Transactions.xml.html">Dynamic Commitments: Upgrading Channels Without On-Chain Transactions</a>
                        <b>Antoine Riard 2020-07-21 23:47:27</b>
                    </li>
                
            
        </ul>
        
            <a href="https://lists.linuxfoundation.org/pipermail/lightning-dev/2020-August/002779.html">Click here to read the original discussion on the lightning-dev mailing list</a>
        
        <p><i>Published on: 2020-08-23T04:26:16+00:00</i></p>
        <hr>
        <h3>Summary:</h3>
        <p>The Lightning Network developers have proposed a protocol modification called "dynamic channel updates", which would allow users to upgrade their existing channels to new, safer types without any new on-chain transactions. This modification makes it possible for the network to explore new channel types and create another point of extensibility in the protocol. The proposal suggests modifying the protocol to include explicit channel type negotiation by adding a new `channel_type` TLV. The proposed dynamic channel updates feature is not too invasive but relies heavily on TLV message field extensions. Additional keys or parameters can be piggybacked on the commit_sig message in a nested TLV blob to handle more complex channel types. The proposal also includes two new messages, 'commit_switch' and 'commit_switch_reply', to handle the process of commitment format changes. The `channel_type` specified on a given `commit_sig` message should be the `channel_type` of the new commitment being created. Allowing channel types to be upgraded on the fly lets the network update to the new safer channel types in a desynchronized, distributed manner that doesn't require any on-chain transactions.The proposed modifications include adding a `channel_type` TLV to make the channel type used in funding explicit during funding negotiation. More complex channel types may require the exchange of additional keys or parameters which need to be known in order to reconstruct the new commitment format and verify the new signature. The suggested modification will make it possible to upgrade all the existing LN-involved channels to the new anchor commitment format, which is the safest format yet.This modification will make use of transport layer security message extensions to carry over the channel type to the commit_sig and revoke_and_ack messages. The proposed changes allow for the handling of simple upgrades where some or all of the parameters of the channel are hard-coded and/or have been negotiated out of band. The introduction of schnorr and taproot to the Bitcoin protocol increases the design space for channels, and with dynamic commitments, the network can benefit from morphing the funding output to be a single-key output. The proposed modifications create another point of extensibility in the protocol, allowing for the exploration of all the variants on channels that exist. This feature would allow for easier and more seamless channel upgrades, while also paving the way for future commitment formats that utilize all the new tools available with schnorr and taproot. Feedback is welcomed as LND has committed to exploring this direction to upgrade all existing channels to the new anchor commitment format.In addition, a potential solution was proposed to upgrade from a Poon-Dryja channel to a Decker-Russell-Osuntokun ("eltoo") mechanism. However, due to the way `SIGHASH_ANYPREVOUT` will be deployed, it is not possible to upgrade seamlessly. A solution involves creating an upgrade transaction that is a cut-through of a mutual close of the Poon-Dryja and a funding open of a Decker-Russell-Osuntokun. Once signed by both parties, the participants can keep the upgrade transaction off-chain and treat the funding outpoint of the upgrade transaction as the "internal funding outpoint" for future Decker-Russell-Osuntokun updates.</p>
        <hr>
        <p><i>Updated on: 2023-06-03T01:53:59.967964+00:00</i></p>
    

    

    <footer>
        <span style="font-family: Arial, Helvetica, sans-serif;">&#10084;&#65039;</span> <a href="https://chaincode.com" target="_blank" rel="noreferrer" style="text-decoration: none; color: inherit;">Chaincode</a>
    </footer>
</body>

</html>