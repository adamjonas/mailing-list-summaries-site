<!doctype html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="Content-Type" content="text/html; charset=us-ascii">
    <title>Atom Feed Display</title>
    <link rel="stylesheet" href="../../archive_styles.css">
</head>

<body BGCOLOR="#fffffb">
    
    <h1>Swap-in-Potentiam: Moving Onchain Funds &#34;Instantly&#34; To Lightning</h1>
    <hr class="solid">
    
    <ul>
        
        
            <p><b>Author:</b> ZmnSCPxj 2023-01-04 15:11:06
            <br><i>Published on: 2023-01-04T15:11:06+00:00</i></p>

        
        

        
        
        <li>
        <a href="/lightning-dev/Jan_2023/combined_Swap-in-Potentiam-Moving-Onchain-Funds-Instantly-To-Lightning.html"> Combined Summary of all posts in thread </a>
        </li>
        
        <li>
            
                <a href="https://lists.linuxfoundation.org/pipermail/lightning-dev/2023-January/003816.html">Click here to read original discussion on the lightning-dev mailing list</a>
            
        </li>

    </ul>

    <hr>
    <h3> Summary:</h3>
    <p>In a recent email conversation, ZmnSCPxj discussed the differences between a normal on-chain to off-chain swap and a submarine swap/peerswap that requires confirmation before sending out the HTLC on Lightning. According to ZmnSCPxj, the two swaps are largely similar, with the newly created outputs to the swap address needing confirmation before the swap server initiates the swap. The confirmation can be done at any time as long as the client is online. This means that if the swap server goes away for some reason, a long timeout in the swap can enable the user to sweep the funds via other means eventually. ZmnSCPxj notes that the top-level key spend can be spent by both parties, so Alice can move the funds on chain anywhere else with the server's cooperation. Regular swaps also simplify the "Bob Security" section since Bob sends out an HTLC with the corresponding swap hash. In another question to Laolu, ZmnSCPxj wanted to know whether the address given by the `loop in --external` command was safe for reuse. He noted that the fact that `loop in` requires a specific `--amt=X` flag suggested that the generated address is not safe for address reuse. Swap-in-potentiam, on the other hand, is relatively safe for address reuse because each UTXO for the same address backs a new, separate swap.</p>
    <hr>
    <p><i> Updated on: 2023-06-03T11:28:01.679723+00:00 </i></p>
    
    

    <footer>
        <span style="font-family: Arial, Helvetica, sans-serif;">&#10084;&#65039;</span> <a href="https://chaincode.com" target="_blank" rel="noreferrer" style="text-decoration: none; color: inherit;">Chaincode</a>
    </footer>
</body>

</html>