<!doctype html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="Content-Type" content="text/html; charset=us-ascii">
    <title>Atom Feed Display</title>
    <link rel="stylesheet" href="../../archive_styles.css">
</head>

<body BGCOLOR="#fffffb">
    
    <h1>Solving the Price Of Anarchy Problem, Or: Cheap AND Reliable Payments Via Forwarding Fee Economic Rationality</h1>
    <hr class="solid">
    
    <ul>
        
        
            <p><b>Author:</b> Anthony Towns 2022-06-29 15:25:15
            <br><i>Published on: 2022-06-29T15:25:15+00:00</i></p>

        
        

        
        
        <li>
        <a href="/lightning-dev/June_2022/combined_Solving-the-Price-Of-Anarchy-Problem-Or-Cheap-AND-Reliable-Payments-Via-Forwarding-Fee-Economic-Rationality.html"> Combined Summary of all posts in thread </a>
        </li>
        
        <li>
            
                <a href="https://lists.linuxfoundation.org/pipermail/lightning-dev/2022-June/003627.html">Click here to read original discussion on the lightning-dev mailing list</a>
            
        </li>

    </ul>

    <hr>
    <h3> Summary:</h3>
    <p>In a recent email conversation, ZmnSCPxj proposed the idea of a feerate card, which is a mapping between a probability-of-success range and a feerate. The payer wants to pay because it values a service/product more highly than the sats they are spending. If payment fails, then the payer incurs an opportunity cost as it is unable to utilize the difference in subjective value between the service/product and the sats being spent. The subjective difference in value between the service/product being bought, and the sats to be paid, is the cost of payment failure. One can use the left-hand side of the feerate card table by multiplying `100% - middle_probability_of_success` (i.e. probability of failure) by the fee budget (i.e. cost of failure), and getting the cost-of-failure-for-this-entry. However, this approach may not make much sense as it doesn't consider multiple hops and retry delay factors. To get the entire path, one needs all the hops to succeed, giving an expected benefit (for a particular combination of rate card entries). Finding out that you're paying 50ppm at the exact same time someone else is "paying" -10ppm is likely to be really irritating, however economically rational it might be argued to be too. Nodes utilizing wall strategies and doing lots of rebalancing put low limits on the fee budget of the rebalancing cost. These nodes are willing to try lots of possible routes, hoping to nab the liquidity of a low-fee node on the cheap in order to resell it later. Such nodes are fine with low probability of success. One place where a feerate card could be interesting is if it were parameterized by time. For example, you might find after doing all this elasticity analysis, that your optimal fee rate during the US business day is high, but during night time it's substantially lower. Rather than broadcasting gossip traffic twice daily to switch over, perhaps you could just publish it once with a rate card, "55ppm between 12:00UTC and 24:00UTC, 10ppm at other times". A published schedule would also let price-sensitive users actually plan ahead, which could be nice.</p>
    <hr>
    <p><i> Updated on: 2023-06-03T09:32:58.191464+00:00 </i></p>
    
    

    <footer>
        <span style="font-family: Arial, Helvetica, sans-serif;">&#10084;&#65039;</span> <a href="https://chaincode.com" target="_blank" rel="noreferrer" style="text-decoration: none; color: inherit;">Chaincode</a>
    </footer>
</body>

</html>