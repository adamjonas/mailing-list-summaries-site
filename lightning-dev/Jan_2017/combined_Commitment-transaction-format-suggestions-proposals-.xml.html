<!doctype html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="Content-Type" content="text/html; charset=us-ascii">
    <title>Atom Feed Display</title>
    <link rel="stylesheet" href="../../archive_styles.css">
</head>

<body BGCOLOR="#fffffb">
    
    <h1>Commitment transaction format suggestions/proposals. <span class="combined-summary">[combined summary]</span></h1>
    <hr class="solid">
    <br><b>Individual post summaries:</b>
    
        <ul>
            
                
                    <li>
                        <a href="/lightning-dev/Jan_2017/000663_Commitment-transaction-format-suggestions-proposals-.xml.html">Commitment transaction format suggestions/proposals.</a>
                        <b>Rusty Russell 2017-01-25 00:53:24</b>
                    </li>
                
                    <li>
                        <a href="/lightning-dev/Jan_2017/000664_Commitment-transaction-format-suggestions-proposals-.xml.html">Commitment transaction format suggestions/proposals.</a>
                        <b>Fabrice Drouin 2017-01-25 21:27:52</b>
                    </li>
                
            
        </ul>
        
            <a href="https://lists.linuxfoundation.org/pipermail/lightning-dev/2017-January/000663.html">Click here to read the original discussion on the lightning-dev mailing list</a>
        
        <p><i>Published on: 2017-01-25T00:53:24+00:00</i></p>
        <hr>
        <h3>Summary:</h3>
        <p>In discussions about proposed changes to commitment transactions in the Lightning Network, one suggestion is to make the to-remote output P2WPKH instead of P2PKH. Another proposal involves making commitment transaction outputs directly spendable by the penalty transaction, which would eliminate the use of revocation key with HTLC-success or HTLC-timeout transactions. These changes could simplify BOLT2 and reduce potential bottlenecks in the system, but there are still complexities involved with handling offered and received HTLCs. To address these complexities, Rusty Russell and Fabrice Drouin proposed using a multisig 2-of-3 with `localkey`, `remotekey`, and `revocationkey` for the offered HTLC output script. This script allows for funds to be claimed without waiting for HTLC timeout refunds and can be spent with various combinations of keys. The witness script can also be used to spend the output with the payment preimage and the remote and local keys, with the remote key after a delay. The proposed solution includes an OP_SWAP, OP_SIZE 32 OP_EQUAL, OP_NOTIF, OP_ELSE and other elements. While optimizing for the smallest possible on-chain footprint is important, the tradeoffs of these proposed changes will need to be discussed before any decisions are made. Additionally, implementing these changes could result in a weight increase of about 6% for the commitment tx. Overall, these proposed changes aim to simplify the Lightning Network and improve its efficiency.</p>
        <hr>
        <p><i>Updated on: 2023-06-02T00:58:50.389153+00:00</i></p>
    

    

    <footer>
        <span style="font-family: Arial, Helvetica, sans-serif;">&#10084;&#65039;</span> <a href="https://chaincode.com" target="_blank" rel="noreferrer" style="text-decoration: none; color: inherit;">Chaincode</a>
    </footer>
</body>

</html>