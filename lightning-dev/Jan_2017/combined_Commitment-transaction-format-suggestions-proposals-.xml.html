<!doctype html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="Content-Type" content="text/html; charset=us-ascii">
    <title>Atom Feed Display</title>
    <link rel="stylesheet" href="../../archive_styles.css">
</head>

<body BGCOLOR="#fffffb">
    
    <h1>Commitment transaction format suggestions/proposals. <span class="combined-summary">[combined summary]</span></h1>
    <hr class="solid">
    <br><b>Individual post summaries:</b>
    
        <ul>
            
                
                    <li>
                        <a href="/lightning-dev/Jan_2017/000664_Commitment-transaction-format-suggestions-proposals-.xml.html">Commitment transaction format suggestions/proposals.</a>
                        <b>Fabrice Drouin 2017-01-25 21:27:52</b>
                    </li>
                
                    <li>
                        <a href="/lightning-dev/Jan_2017/000663_Commitment-transaction-format-suggestions-proposals-.xml.html">Commitment transaction format suggestions/proposals.</a>
                        <b>Rusty Russell 2017-01-25 00:53:24</b>
                    </li>
                
            
        </ul>
        
            <a href="https://lists.linuxfoundation.org/pipermail/lightning-dev/2017-January/000664.html">Click here to read the original discussion on the lightning-dev mailing list</a>
        
        <p><i>Published on: 2017-01-25T21:27:52+00:00</i></p>
        <hr>
        <h3>Summary:</h3>
        <p>Proposed changes for commitment transactions in the Lightning Network have been discussed by developers Rusty Russell and Fabrice Drouin. One proposed change is to use a multisig 2-of-3 with localkey, remotekey, and revocationkey for the Offered HTLC Output script. This script allows funds to be claimed without waiting for HTLC timeout refunds and can be spent with the remote key and payment preimage or with the remote key and local key, as well as with the remote key and revocation key. The Received HTLC Output script uses an additional IF branch and can be spent with the payment preimage and the remote and local keys, with the remote key after a delay, but can also be spent with the remote key and revocation key.The proposed changes would simplify BOLT2 and relieve the need to generate and send signatures, reducing potential bottlenecks in the system. However, while optimizing for the smallest possible on-chain footprint is a valid concern, the tradeoffs will need to be discussed before any decisions are made. In addition to the above proposals, there are other changes under consideration. The first is whether to make the to-remote output P2WPKH instead of P2PKH in order to save some bytes. The second proposed change entails making commitment transaction outputs directly spendable by the penalty transaction, which would eliminate the use of revocation key with HTLC-success or HTLC-timeout transactions.These changes have been discussed outside of GitHub to reach a wider audience. While the weight of the commitment tx may increase by about 6% if the proposed changes are implemented, the improvements include using revocation keys, which means users don't know the revocation key that can be used to take all funds if a revoked commit tx is published. The proposed solution includes an OP_SWAP, OP_SIZE 32 OP_EQUAL, OP_NOTIF, OP_ELSE and other elements. An optimization suggestion was made but deemed unnecessary due to "minimal IF constraints".</p>
        <hr>
        <p><i>Updated on: 2023-06-03T17:26:33.786161+00:00</i></p>
    

    

    <footer>
        <span style="font-family: Arial, Helvetica, sans-serif;">&#10084;&#65039;</span> <a href="https://chaincode.com" target="_blank" rel="noreferrer" style="text-decoration: none; color: inherit;">Chaincode</a>
    </footer>
</body>

</html>