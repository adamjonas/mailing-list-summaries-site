<!doctype html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="Content-Type" content="text/html; charset=us-ascii">
    <title>Atom Feed Display</title>
    <link rel="stylesheet" href="../../archive_styles.css">
</head>

<body BGCOLOR="#fffffb">
    
    <h1>Missing fRelayTxes in version</h1>
    <hr class="solid">
    
    <ul>
        
        
            <p><b>Author:</b> Pieter Wuille 2013-06-20 10:52:51
            <br><i>Published on: 2013-06-20T10:52:51+00:00</i></p>

        
        

        
        
        <li>
        <a href="/bitcoin-dev/June_2013/combined_Missing-fRelayTxes-in-version.xml.html"> Combined Summary of all posts in thread </a>
        </li>
        
        <li>
            
                <a href="https://lists.linuxfoundation.org/pipermail/bitcoin-dev/2013-June/002805.html">Click here to read original discussion on the bitcoin-dev mailing list</a>
            
        </li>

    </ul>

    <hr>
    <h3> Summary:</h3>
    <p>The discussion concerned increasing the version number for parsing purposes in Bitcoin protocol. The proposal was made to simplify things, as it would be trivial to do. However, some developers argued that this change could limit future extensions. They asserted that after the version/verack exchange, the protocol version is negotiated between peers and there is no need for anything optional anymore. It was noted that this was only about parsing, not about relaying.One developer expressed confusion over why the policy of requiring version increases was contentious, as it had allowed them to use asserts to check the expected length of messages per protocol version. However, this behavior would be lost if the policy were changed. They also noted that you cannot check the deserialization process by serializing the deserialized message and comparing it to the original data because the bool is always present in the serializer. They suggested that using a quirk of an implementation is bad form and sloppy coding, and that optional fields should have their own mechanism that allows them to remain as optional fields between protocol version upgrades.Another developer argued that there was no problem with the current system, and that adding a new version field wasn't necessary unless there was actually a new field to add. They believed that any parser written on the assumption that all messages have a fixed number of fields per version was just buggy. However, another developer argued in favor of raising the protocol version number to indicate "all fields up to fRelayTxes are required if the announced nVersion is above N." It was noted that all previous additions to the version message were accompanied by a protocol version increase as well.</p>
    <hr>
    <p><i> Updated on: 2023-05-19T17:02:55.464891+00:00 </i></p>
    
    

    <footer>
        <span style="font-family: Arial, Helvetica, sans-serif;">&#10084;&#65039;</span> <a href="https://chaincode.com" target="_blank" rel="noreferrer" style="text-decoration: none; color: inherit;">Chaincode</a>
    </footer>
</body>

</html>