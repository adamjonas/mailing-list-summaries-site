<!doctype html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="Content-Type" content="text/html; charset=us-ascii">
    <title>Atom Feed Display</title>
    <link rel="stylesheet" href="../../archive_styles.css">
</head>

<body BGCOLOR="#fffffb">
    
    <h1>Simple tx ID malleability fix, opcode proposal: OP_TXHASHVERIFY</h1>
    <hr class="solid">
    
    <ul>
        
        
            <p><b>Author:</b> Rune K. Svendsen 2016-09-17 21:14:30
            <br><i>Published on: 2016-09-17T21:14:30+00:00</i></p>

        
        

        
        
        <li>
        <a href="/bitcoin-dev/Sept_2016/combined_Simple-tx-ID-malleability-fix-opcode-proposal-OP-TXHASHVERIFY.xml.html"> Combined Summary of all posts in thread </a>
        </li>
        
        <li>
            
                <a href="https://lists.linuxfoundation.org/pipermail/bitcoin-dev/2016-September/013118.html">Click here to read original discussion on the bitcoin-dev mailing list</a>
            
        </li>

    </ul>

    <hr>
    <h3> Summary:</h3>
    <p>Rune K. Svendsen presented a proposal for introducing a new opcode called OP_TXHASHVERIFY that would address transaction ID malleability. The proposed opcode would work only if added to a scriptSig as the very first operation and would abort if the hash of the transaction with all OP_TXHASHVERIFY operations (including stack push) removed does not match what has been pushed on the stack. To produce a transaction with one or more inputs protected against tx ID malleability, one would need to calculate the tx ID of the tx, then add "0x32 $TX_HASH OP_TXHASHVERIFY" to the beginning of the scriptSig for each input they wish to protect. The proposed solution adds 34 bytes per input and will be replaced when something better becomes available. However, in the meantime, it is valuable to not worry about tx ID malleability. Matt Corallo responded to the proposal by stating that the tx hash in the construction is not signed, which could allow someone wishing to manipulate a transaction to also update the hash in the scriptSig.</p>
    <hr>
    <p><i> Updated on: 2023-06-11T19:59:36.191230+00:00 </i></p>
    
    

    <footer>
        <span style="font-family: Arial, Helvetica, sans-serif;">&#10084;&#65039;</span> <a href="https://chaincode.com" target="_blank" rel="noreferrer" style="text-decoration: none; color: inherit;">Chaincode</a>
    </footer>
</body>

</html>