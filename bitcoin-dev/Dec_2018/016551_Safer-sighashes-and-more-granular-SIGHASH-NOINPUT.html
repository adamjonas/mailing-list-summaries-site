<!doctype html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="Content-Type" content="text/html; charset=us-ascii">
    <title>Atom Feed Display</title>
    <link rel="stylesheet" href="../../archive_styles.css">
</head>

<body BGCOLOR="#fffffb">
    
    <h1>Safer sighashes and more granular SIGHASH_NOINPUT</h1>
    <hr class="solid">
    
    <ul>
        
        
            <p><b>Author:</b> Russell O&#39;Connor 2018-12-13 16:21:10
            <br><i>Published on: 2018-12-13T16:21:10+00:00</i></p>

        
        

        
        
        <li>
        <a href="/bitcoin-dev/Dec_2018/combined_Safer-sighashes-and-more-granular-SIGHASH-NOINPUT.html"> Combined Summary of all posts in thread </a>
        </li>
        
        <li>
            
                <a href="https://lists.linuxfoundation.org/pipermail/bitcoin-dev/2018-December/016551.html">Click here to read original discussion on the bitcoin-dev mailing list</a>
            
        </li>

    </ul>

    <hr>
    <h3> Summary:</h3>
    <p>The email discussion revolves around the proposal to use a 64-byte signature for the default "signing all" sighash, and a 65-byte signature for other sighash types to save space in a block. However, this creates difficulty in witness weight estimation in multisig cases since it is proposed to sign the actual weight rather than an upper bound on the weight. The issue with signing an upper bound is that there is no place to stash that data in the transaction. Anthony Towns suggests assuming every signature is 65 witness bytes and being grateful for the prioritization benefit if someone chooses a shorter signature. Russell O'Connor questions if there is a proof that any script can be transformed into an equivalent one that avoids witness weight malleability. He also states that even if witness weight malleability is entirely avoidable, it always seems to come at a cost. As an example, he cites libwally's proposed "csv_2of3_then_2" Script that begins with "OP_DEPTH OP_1SUB OP_1SUB", which he argues could have been more obvious as "DEPTH 2 NUMNOTEQUAL." Anthony Towns explains that the idea of using 1SUB was derived from the csv_2of2_then_1 script where DEPTH 1SUB is shorter than DEPTH 1 NUMNOTEQUAL.</p>
    <hr>
    <p><i> Updated on: 2023-06-13T15:23:03.290215+00:00 </i></p>
    
    

    <footer>
        <span style="font-family: Arial, Helvetica, sans-serif;">&#10084;&#65039;</span> <a href="https://chaincode.com" target="_blank" rel="noreferrer" style="text-decoration: none; color: inherit;">Chaincode</a>
    </footer>
</body>

</html>