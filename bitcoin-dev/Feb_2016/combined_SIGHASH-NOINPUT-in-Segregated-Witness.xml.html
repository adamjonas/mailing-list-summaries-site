<!doctype html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="Content-Type" content="text/html; charset=us-ascii">
    <title>Atom Feed Display</title>
    <link rel="stylesheet" href="../../archive_styles.css">
</head>

<body BGCOLOR="#fffffb">
    
    <h1>SIGHASH_NOINPUT in Segregated Witness <span class="combined-summary">[combined summary]</span></h1>
    <hr class="solid">
    <br><b>Individual post summaries:</b>
    
        <ul>
            
                
                    <li>
                        <a href="/bitcoin-dev/Feb_2016/012463_SIGHASH-NOINPUT-in-Segregated-Witness.xml.html">SIGHASH_NOINPUT in Segregated Witness</a>
                        <b>Luke Dashjr 2016-02-26 02:35:23</b>
                    </li>
                
                    <li>
                        <a href="/bitcoin-dev/Feb_2016/012464_SIGHASH-NOINPUT-in-Segregated-Witness.xml.html">SIGHASH_NOINPUT in Segregated Witness</a>
                        <b>Joseph Poon 2016-02-26 01:48:07</b>
                    </li>
                
                    <li>
                        <a href="/bitcoin-dev/Feb_2016/012465_SIGHASH-NOINPUT-in-Segregated-Witness.xml.html">SIGHASH_NOINPUT in Segregated Witness</a>
                        <b>Joseph Poon 2016-02-26 02:02:26</b>
                    </li>
                
                    <li>
                        <a href="/bitcoin-dev/Feb_2016/012483_SIGHASH-NOINPUT-in-Segregated-Witness.xml.html">SIGHASH_NOINPUT in Segregated Witness</a>
                        <b>Rusty Russell 2016-02-29 00:25:53</b>
                    </li>
                
                    <li>
                        <a href="/bitcoin-dev/Feb_2016/012460_SIGHASH-NOINPUT-in-Segregated-Witness.xml.html">SIGHASH_NOINPUT in Segregated Witness</a>
                        <b>Joseph Poon 2016-02-26 01:07:46</b>
                    </li>
                
                    <li>
                        <a href="/bitcoin-dev/Feb_2016/012461_SIGHASH-NOINPUT-in-Segregated-Witness.xml.html">SIGHASH_NOINPUT in Segregated Witness</a>
                        <b>Gregory Maxwell 2016-02-26 01:32:34</b>
                    </li>
                
                    <li>
                        <a href="/bitcoin-dev/Feb_2016/012463_SIGHASH-NOINPUT-in-Segregated-Witness.xml.html">SIGHASH_NOINPUT in Segregated Witness</a>
                        <b>Luke Dashjr 2016-02-26 02:35:23</b>
                    </li>
                
                    <li>
                        <a href="/bitcoin-dev/Feb_2016/012464_SIGHASH-NOINPUT-in-Segregated-Witness.xml.html">SIGHASH_NOINPUT in Segregated Witness</a>
                        <b>Joseph Poon 2016-02-26 01:48:07</b>
                    </li>
                
                    <li>
                        <a href="/bitcoin-dev/Feb_2016/012461_SIGHASH-NOINPUT-in-Segregated-Witness.xml.html">SIGHASH_NOINPUT in Segregated Witness</a>
                        <b>Gregory Maxwell 2016-02-26 01:32:34</b>
                    </li>
                
                    <li>
                        <a href="/bitcoin-dev/Feb_2016/012464_SIGHASH-NOINPUT-in-Segregated-Witness.xml.html">SIGHASH_NOINPUT in Segregated Witness</a>
                        <b>Joseph Poon 2016-02-26 01:48:07</b>
                    </li>
                
                    <li>
                        <a href="/bitcoin-dev/Feb_2016/012465_SIGHASH-NOINPUT-in-Segregated-Witness.xml.html">SIGHASH_NOINPUT in Segregated Witness</a>
                        <b>Joseph Poon 2016-02-26 02:02:26</b>
                    </li>
                
                    <li>
                        <a href="/bitcoin-dev/Feb_2016/012465_SIGHASH-NOINPUT-in-Segregated-Witness.xml.html">SIGHASH_NOINPUT in Segregated Witness</a>
                        <b>Joseph Poon 2016-02-26 02:02:26</b>
                    </li>
                
                    <li>
                        <a href="/bitcoin-dev/Feb_2016/012466_SIGHASH-NOINPUT-in-Segregated-Witness.xml.html">SIGHASH_NOINPUT in Segregated Witness</a>
                        <b>Anthony Towns 2016-02-26 03:20:56</b>
                    </li>
                
                    <li>
                        <a href="/bitcoin-dev/Feb_2016/012460_SIGHASH-NOINPUT-in-Segregated-Witness.xml.html">SIGHASH_NOINPUT in Segregated Witness</a>
                        <b>Joseph Poon 2016-02-26 01:07:46</b>
                    </li>
                
                    <li>
                        <a href="/bitcoin-dev/Feb_2016/012462_SIGHASH-NOINPUT-in-Segregated-Witness.xml.html">SIGHASH_NOINPUT in Segregated Witness</a>
                        <b>Bryan Bishop 2016-02-26 01:34:24</b>
                    </li>
                
                    <li>
                        <a href="/bitcoin-dev/Feb_2016/012466_SIGHASH-NOINPUT-in-Segregated-Witness.xml.html">SIGHASH_NOINPUT in Segregated Witness</a>
                        <b>Anthony Towns 2016-02-26 03:20:56</b>
                    </li>
                
                    <li>
                        <a href="/bitcoin-dev/Feb_2016/012483_SIGHASH-NOINPUT-in-Segregated-Witness.xml.html">SIGHASH_NOINPUT in Segregated Witness</a>
                        <b>Rusty Russell 2016-02-29 00:25:53</b>
                    </li>
                
                    <li>
                        <a href="/bitcoin-dev/Feb_2016/012461_SIGHASH-NOINPUT-in-Segregated-Witness.xml.html">SIGHASH_NOINPUT in Segregated Witness</a>
                        <b>Gregory Maxwell 2016-02-26 01:32:34</b>
                    </li>
                
                    <li>
                        <a href="/bitcoin-dev/Feb_2016/012466_SIGHASH-NOINPUT-in-Segregated-Witness.xml.html">SIGHASH_NOINPUT in Segregated Witness</a>
                        <b>Anthony Towns 2016-02-26 03:20:56</b>
                    </li>
                
                    <li>
                        <a href="/bitcoin-dev/Feb_2016/012483_SIGHASH-NOINPUT-in-Segregated-Witness.xml.html">SIGHASH_NOINPUT in Segregated Witness</a>
                        <b>Rusty Russell 2016-02-29 00:25:53</b>
                    </li>
                
                    <li>
                        <a href="/bitcoin-dev/Feb_2016/012462_SIGHASH-NOINPUT-in-Segregated-Witness.xml.html">SIGHASH_NOINPUT in Segregated Witness</a>
                        <b>Bryan Bishop 2016-02-26 01:34:24</b>
                    </li>
                
                    <li>
                        <a href="/bitcoin-dev/Feb_2016/012460_SIGHASH-NOINPUT-in-Segregated-Witness.xml.html">SIGHASH_NOINPUT in Segregated Witness</a>
                        <b>Joseph Poon 2016-02-26 01:07:46</b>
                    </li>
                
                    <li>
                        <a href="/bitcoin-dev/Feb_2016/012462_SIGHASH-NOINPUT-in-Segregated-Witness.xml.html">SIGHASH_NOINPUT in Segregated Witness</a>
                        <b>Bryan Bishop 2016-02-26 01:34:24</b>
                    </li>
                
                    <li>
                        <a href="/bitcoin-dev/Feb_2016/012463_SIGHASH-NOINPUT-in-Segregated-Witness.xml.html">SIGHASH_NOINPUT in Segregated Witness</a>
                        <b>Luke Dashjr 2016-02-26 02:35:23</b>
                    </li>
                
            
        </ul>
        
            <a href="https://lists.linuxfoundation.org/pipermail/bitcoin-dev/2016-February/012463.html">Click here to read the original discussion on the bitcoin-dev mailing list</a>
        
        <p><i>Published on: 2016-02-26T02:35:23+00:00</i></p>
        <hr>
        <h3>Summary:</h3>
        <p>Developers on the Bitcoin-dev mailing list are discussing a new feature that would allow for outsourced monitoring of Lightning network channels. The idea is to have three transactions: an anchor transaction, a commitment transaction, and a penalty transaction. Outsourcing the monitoring of these channels could be useful but would require sending a lot of data to the chain-monitoring service. There is also a concern about the vulnerability to replay attacks, which could result in loss of funds if not implemented carefully. Developers are looking into constructing this as a new segwit script type, rather than a base feature.Joseph Poon proposed adding "a without-inputs SIGHASH flag" to make it easier to create a transaction that spends from the same inputs as another transaction. However, this could lead to replay attacks where transactions are duplicated on different chains. Therefore, Poon suggests that if such a feature were added, developers should also deploy a fee-committing sighash-all option to ensure hardware wallets don't leave users exposed to these attacks.In addition, Joseph Poon suggested using the SIGHASH_NOINPUT flag for achieving a signature that does not include the outpoint being spent and the amount. He also added that the spent outpoint's script would be included as part of the signature. Bryan, in response to this, suggested considering other SIGHASH flag types while drafting BIP. There were concerns raised about replay using SIGHASH_NOINPUT or something.Moreover, Joseph Poon shared his thoughts on the need for a third party to receive a transaction that can compactly include all previous states. For Segregated Witness transactions, the current design requires storing all previous signatures which can become extremely expensive if there are thousands of channel state updates per day. Rusty, in response, expressed that more is required to make this work. In practice, there is not much difference between sending a watcher a tx for every commit tx and sending it information for every new HTLC. If each HTLC output is a p2sh, one needs the timeout and rhash for each to build the script to redeem it. Therefore, more needs to be put in the scriptPubKey for this to work, either the entire redeemscript or possibly some kind of multiple-choice P2SH where any one of the hashes will redeem the payment.Finally, developers are considering adding a new SIGHASH flag called SIGHASH_NOINPUT that would not include the outpoint being spent or the amount as part of the signature, but it would include the spent outpoint's script. While this is just a SIGHASH flag, outpoints are still included as part of txins, allowing for a signature to apply to anything with that pubkey. However, pubkeys with this flag should not be reused. This proposed flag would make it possible to write fully malleability-proof wallet software. Joseph Poon suggested that this proposed flag would only apply in SegWit transactions for safety reasons. In an email conversation between Gregory Maxwell and Joseph Poon, they discussed the implementation of a new SegWit script type, which would include fees as part of the signature to prevent the need for wallets to download input transactions.</p>
        <hr>
        <p><i>Updated on: 2023-06-11T04:09:23.270053+00:00</i></p>
    

    

    <footer>
        <span style="font-family: Arial, Helvetica, sans-serif;">&#10084;&#65039;</span> <a href="https://chaincode.com" target="_blank" rel="noreferrer" style="text-decoration: none; color: inherit;">Chaincode</a>
    </footer>
</body>

</html>