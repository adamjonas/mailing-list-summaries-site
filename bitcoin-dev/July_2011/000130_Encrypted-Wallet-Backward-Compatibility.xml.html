<!doctype html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="Content-Type" content="text/html; charset=us-ascii">
    <title>Atom Feed Display</title>
    <link rel="stylesheet" href="../../archive_styles.css">
</head>

<body BGCOLOR="#fffffb">
    
    <h1>Encrypted Wallet Backward Compatibility</h1>
    <hr class="solid">
    
    <ul>
        
        
            <p><b>Author:</b> Gavin Andresen 2011-07-04 18:23:53
            <br><i>Published on: 2011-07-04T18:23:53+00:00</i></p>

        
        

        
        
        <li>
        <a href="/bitcoin-dev/July_2011/combined_Encrypted-Wallet-Backward-Compatibility.xml.html"> Combined Summary of all posts in thread </a>
        </li>
        
        <li>
            
                <a href="https://lists.linuxfoundation.org/pipermail/bitcoin-dev/2011-July/000130.html">Click here to read original discussion on the bitcoin-dev mailing list</a>
            
        </li>

    </ul>

    <hr>
    <h3> Summary:</h3>
    <p>In an email thread, Gavin Andresen discusses potential vulnerabilities and solutions related to unencrypted keys. He expresses concern that if an attacker has access to wallet.dat, they could delete encrypted keypool keys and replace them with unencrypted ones that they know how to spend. To avoid this, 0.4 and later versions of Bitcoin have the ability to create a wallet_e.dat (encrypted wallet) upon wallet encryption, then truncate wallet.dat and set its file-permissions to 000. This would prevent old versions of Bitcoin or any "dumb" wallet backup scripts from reading it.Andresen also suggests adding a nMinVersion to wallet.dat to specify a minimum version required to read the file in future upgrades, which could provide a warning message if the user tries to downgrade after an incompatible change. If backup scripts use the backupwallet RPC command, then they will continue to work.</p>
    <hr>
    <p><i> Updated on: 2023-05-26T19:10:07.418613+00:00 </i></p>
    
    

    <footer>
        <span style="font-family: Arial, Helvetica, sans-serif;">&#10084;&#65039;</span> <a href="https://chaincode.com" target="_blank" rel="noreferrer" style="text-decoration: none; color: inherit;">Chaincode</a>
    </footer>
</body>

</html>