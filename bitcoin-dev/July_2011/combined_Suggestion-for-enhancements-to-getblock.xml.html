<!doctype html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="Content-Type" content="text/html; charset=us-ascii">
    <title>Atom Feed Display</title>
    <link rel="stylesheet" href="../../archive_styles.css">
</head>

<body BGCOLOR="#fffffb">
    
    <h1>Suggestion for enhancements to getblock <span class="combined-summary">[combined summary]</span></h1>
    <hr class="solid">
    <br><b>Individual post summaries:</b>
    
        <ul>
            
                
                    <li>
                        <a href="/bitcoin-dev/July_2011/000150_Suggestion-for-enhancements-to-getblock.xml.html">Suggestion for enhancements to getblock</a>
                        <b>Gregory Maxwell 2011-07-07 17:45:31</b>
                    </li>
                
                    <li>
                        <a href="/bitcoin-dev/July_2011/000143_Suggestion-for-enhancements-to-getblock.xml.html">Suggestion for enhancements to getblock</a>
                        <b>Andy Parkins 2011-07-07 09:49:47</b>
                    </li>
                
                    <li>
                        <a href="/bitcoin-dev/July_2011/000145_Suggestion-for-enhancements-to-getblock.xml.html">Suggestion for enhancements to getblock</a>
                        <b>Mike Hearn 2011-07-07 15:42:12</b>
                    </li>
                
                    <li>
                        <a href="/bitcoin-dev/July_2011/000147_Suggestion-for-enhancements-to-getblock.xml.html">Suggestion for enhancements to getblock</a>
                        <b>Mike Hearn 2011-07-07 16:44:48</b>
                    </li>
                
                    <li>
                        <a href="/bitcoin-dev/July_2011/000150_Suggestion-for-enhancements-to-getblock.xml.html">Suggestion for enhancements to getblock</a>
                        <b>Gregory Maxwell 2011-07-07 17:45:31</b>
                    </li>
                
                    <li>
                        <a href="/bitcoin-dev/July_2011/000143_Suggestion-for-enhancements-to-getblock.xml.html">Suggestion for enhancements to getblock</a>
                        <b>Andy Parkins 2011-07-07 09:49:47</b>
                    </li>
                
                    <li>
                        <a href="/bitcoin-dev/July_2011/000147_Suggestion-for-enhancements-to-getblock.xml.html">Suggestion for enhancements to getblock</a>
                        <b>Mike Hearn 2011-07-07 16:44:48</b>
                    </li>
                
                    <li>
                        <a href="/bitcoin-dev/July_2011/000151_Suggestion-for-enhancements-to-getblock.xml.html">Suggestion for enhancements to getblock</a>
                        <b>Andy Parkins 2011-07-07 19:02:04</b>
                    </li>
                
                    <li>
                        <a href="/bitcoin-dev/July_2011/000145_Suggestion-for-enhancements-to-getblock.xml.html">Suggestion for enhancements to getblock</a>
                        <b>Mike Hearn 2011-07-07 15:42:12</b>
                    </li>
                
                    <li>
                        <a href="/bitcoin-dev/July_2011/000146_Suggestion-for-enhancements-to-getblock.xml.html">Suggestion for enhancements to getblock</a>
                        <b>Andy Parkins 2011-07-07 16:19:39</b>
                    </li>
                
                    <li>
                        <a href="/bitcoin-dev/July_2011/000147_Suggestion-for-enhancements-to-getblock.xml.html">Suggestion for enhancements to getblock</a>
                        <b>Mike Hearn 2011-07-07 16:44:48</b>
                    </li>
                
                    <li>
                        <a href="/bitcoin-dev/July_2011/000146_Suggestion-for-enhancements-to-getblock.xml.html">Suggestion for enhancements to getblock</a>
                        <b>Andy Parkins 2011-07-07 16:19:39</b>
                    </li>
                
                    <li>
                        <a href="/bitcoin-dev/July_2011/000151_Suggestion-for-enhancements-to-getblock.xml.html">Suggestion for enhancements to getblock</a>
                        <b>Andy Parkins 2011-07-07 19:02:04</b>
                    </li>
                
                    <li>
                        <a href="/bitcoin-dev/July_2011/000145_Suggestion-for-enhancements-to-getblock.xml.html">Suggestion for enhancements to getblock</a>
                        <b>Mike Hearn 2011-07-07 15:42:12</b>
                    </li>
                
                    <li>
                        <a href="/bitcoin-dev/July_2011/000146_Suggestion-for-enhancements-to-getblock.xml.html">Suggestion for enhancements to getblock</a>
                        <b>Andy Parkins 2011-07-07 16:19:39</b>
                    </li>
                
                    <li>
                        <a href="/bitcoin-dev/July_2011/000151_Suggestion-for-enhancements-to-getblock.xml.html">Suggestion for enhancements to getblock</a>
                        <b>Andy Parkins 2011-07-07 19:02:04</b>
                    </li>
                
                    <li>
                        <a href="/bitcoin-dev/July_2011/000150_Suggestion-for-enhancements-to-getblock.xml.html">Suggestion for enhancements to getblock</a>
                        <b>Gregory Maxwell 2011-07-07 17:45:31</b>
                    </li>
                
                    <li>
                        <a href="/bitcoin-dev/July_2011/000143_Suggestion-for-enhancements-to-getblock.xml.html">Suggestion for enhancements to getblock</a>
                        <b>Andy Parkins 2011-07-07 09:49:47</b>
                    </li>
                
            
        </ul>
        
            <a href="https://lists.linuxfoundation.org/pipermail/bitcoin-dev/2011-July/000150.html">Click here to read the original discussion on the bitcoin-dev mailing list</a>
        
        <p><i>Published on: 2011-07-07T17:45:31+00:00</i></p>
        <hr>
        <h3>Summary:</h3>
        <p>In a discussion between two individuals, Andy Parkins and Mike Hearn, the topic of lightweight clients is discussed. Andy suggests that a lightweight client should be able to calculate a balance for an arbitrary address by requesting transactions pending and ensuring they are valid and in blocks. Mike argues that this is not feasible because there is no way for a client to know in advance whether any broadcast transaction contains a send to an address in its wallet. Furthermore, he suggests implementing filters to match against transactions and have the remote node only relay those matching transactions, which can be sent in one big inv after setting a filter. The conversation also touches on the idea of verifying the merkle tree and the scalability issues of downloading the entire memory pool.Dr. Andy Parkins, an alternative client and library developer, made a suggestion on the Bitcoin forum regarding protocol changes to improve a lightweight client's functionality. He proposed two changes that could be achieved by adding new commands to the protocol or by extending the existing getblocks command. Firstly, he suggested that the lightweight client should be able to request transactions instead of blocks. When finding a message type MSG_TX request, it would return the block that contains the transaction rather than sending the transaction. This way, the lightweight client can create a list of relevant hashes for the history it's after and look only at a few full blocks instead of the entire blockchain. Secondly, he suggested that a special virtual block request be possible. If a lightweight client sends a getblocks request containing an all-zero hash, then the virtual block should be returned in a block message. That virtual block will contain all the current pending transactions. The combination of these two protocol changes would make it possible for any client to have access to a large chunk of the facilities available on blockexplorer.com and bitcoincharts.com. The author also discusses the need to calculate balances for specific addresses and the difficulty of doing so without requiring the whole blockchain. They suggest implementing a filter that matches against transactions to relay only those relevant to the lightweight client's wallet addresses. Additionally, the author mentions the need for lightweight clients to be able to verify the validity of transactions and their dependencies recursively. Finally, the author acknowledges the challenge of building an alternative client and remaining 100% compatible with the official client.However, Mike Hearn pointed out that lightweight/SPV clients cannot prove that their transactions are not double spend. They must treat appearing deep in the chain as ipso-facto proof of validity and trust full nodes. He also suggested implementing filtering suggestions to reduce the privacy implications of downloading the entire memory pool. While Andy argued that filtering doesn't help when a client needs all the transactions pending in the last ten minutes, he agreed that new commands could be added to the protocol for these changes. The two also disagreed on whether introducing new commands to the official client is acceptable or not.</p>
        <hr>
        <p><i>Updated on: 2023-05-26T19:15:10.497844+00:00</i></p>
    

    

    <footer>
        <span style="font-family: Arial, Helvetica, sans-serif;">&#10084;&#65039;</span> <a href="https://chaincode.com" target="_blank" rel="noreferrer" style="text-decoration: none; color: inherit;">Chaincode</a>
    </footer>
</body>

</html>