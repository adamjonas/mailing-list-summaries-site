<!doctype html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="Content-Type" content="text/html; charset=us-ascii">
    <title>Atom Feed Display</title>
    <link rel="stylesheet" href="../../archive_styles.css">
</head>

<body BGCOLOR="#fffffb">
    
    <h1>Re-enabling simple tx replacement <span class="combined-summary">[combined summary]</span></h1>
    <hr class="solid">
    <br><b>Individual post summaries:</b>
    
        <ul>
            
                
                    <li>
                        <a href="/bitcoin-dev/Jan_2015/007081_Re-enabling-simple-tx-replacement.xml.html">Re-enabling simple tx replacement</a>
                        <b>Gregory Maxwell 2015-01-04 17:44:59</b>
                    </li>
                
                    <li>
                        <a href="/bitcoin-dev/Jan_2015/007080_Re-enabling-simple-tx-replacement.xml.html">Re-enabling simple tx replacement</a>
                        <b>Gregory Maxwell 2015-01-04 17:35:37</b>
                    </li>
                
                    <li>
                        <a href="/bitcoin-dev/Jan_2015/007078_Re-enabling-simple-tx-replacement.xml.html">Re-enabling simple tx replacement</a>
                        <b>Gregory Maxwell 2015-01-04 17:04:24</b>
                    </li>
                
                    <li>
                        <a href="/bitcoin-dev/Jan_2015/007085_Re-enabling-simple-tx-replacement.xml.html">Re-enabling simple tx replacement</a>
                        <b>Gregory Maxwell 2015-01-04 18:31:12</b>
                    </li>
                
            
        </ul>
        
            <a href="https://lists.linuxfoundation.org/pipermail/bitcoin-dev/2015-January/007081.html">Click here to read the original discussion on the bitcoin-dev mailing list</a>
        
        <p><i>Published on: 2015-01-04T17:44:59+00:00</i></p>
        <hr>
        <h3>Summary:</h3>
        <p>In January 2015, Bitcoin developers were discussing a bug that caused unlocked transactions to be relayed or mempooled far in advance. Ross Nicoll had been working on atomic cross-chain trading between the Bitcoin and Dogecoin blockchains and found that if the refund transaction was relayed before the actual spend transaction, it blocked the legitimate spend transaction from being accepted into the memory pool. He drafted a patch for this but had not yet raised a PR due to a lot of discussion on Github, which is better suited to the mailing list. Gregory Maxwell suggested enforcing the non-mempooling elsewhere to avoid the problem. He also noted that the behaviour on testnet was busted because the non-mempooling was enforced by IsStandardTx, which is bypassed in testnet, but this wasn't an issue on the real network. Ross Nicoll had tried closing the wallet, moving the wallet.dat file out of the way, and then attempting the spend transaction, which could be locked immediately. However, it either rejected it on acceptance to mempool or was never included in a block. He missed that the replacement had to be final, which was a much more sane thing to do than what he was thinking. If they could relay the first one to begin with, it would be twice as much of an issue. Ross Nicoll thanked Peter's patch for testnet, which sounded like it should fix the problem for his use case. Gregory Maxwell appreciated the usefulness of presenting solutions as code. Finally, Gregory asked for the actual raw transaction since chain.so only provided some cooked json output, which didn't include the sequence number.</p>
        <hr>
        <p><i>Updated on: 2023-05-19T19:38:46.439496+00:00</i></p>
    

    

    <footer>
        <span style="font-family: Arial, Helvetica, sans-serif;">&#10084;&#65039;</span> <a href="https://chaincode.com" target="_blank" rel="noreferrer" style="text-decoration: none; color: inherit;">Chaincode</a>
    </footer>
</body>

</html>