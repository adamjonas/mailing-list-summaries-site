<!doctype html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="Content-Type" content="text/html; charset=us-ascii">
    <title>Atom Feed Display</title>
    <link rel="stylesheet" href="../../archive_styles.css">
</head>

<body BGCOLOR="#fffffb">
    
    <h1>Committed bloom filters for improved wallet performance and SPV security</h1>
    <hr class="solid">
    
    <ul>
        
        
            <p><b>Author:</b> Leo Wandersleb 2016-07-28 21:07:29
            <br><i>Published on: 2016-07-28T21:07:29+00:00</i></p>

        
        

        
        
        <li>
        <a href="/bitcoin-dev/July_2016/combined_Committed-bloom-filters-for-improved-wallet-performance-and-SPV-security.xml.html"> Combined Summary of all posts in thread </a>
        </li>
        
        <li>
            
                <a href="https://lists.linuxfoundation.org/pipermail/bitcoin-dev/2016-July/012911.html">Click here to read original discussion on the bitcoin-dev mailing list</a>
            
        </li>

    </ul>

    <hr>
    <h3> Summary:</h3>
    <p>Leo, a developer, was made aware of a mail thread by gmaxwell. A few days prior, Leo had started implementing something similar to the topic discussed. Although his version ignored the commitment and signing part, he thought that 12GB was an overkill. His code is currently broken, and he does not have much time to work on it. However, he shared his thoughts, stating that the difference between 80GB and 3GB makes the difference in being able to store it on a phone or not. Unfortunately, with segWit, this will be worse due to the higher transaction count per MB. The conversation on the mail thread was about the proposal to create a Bloom Filter Digest deterministically created from every block. The size of the filter for a desired false-positive rate depends on the number of elements it contains and the logarithm of the false-positive rate. To prevent light clients from downloading more blocks than necessary, the false-positive rate should be less than 1/ (block height). If the false positive rate is 1e-6 for today's block height (~410000), approximately 20 bits per element are needed. Therefore, for today's blocks, a 30kb filter is required, which is a 3% increase in block size if blocks commit to the filter. If Bitcoin had these filters from the beginning, a light client would have to download about 12MB of data in filters. Bob McElrath suggested using a Cuckoo filter instead of a Bloom filter since it is faster and makes more sense, given expected wallet sizes. He also stated that the required size of the filter commitment is roughly N log2H, where H is the block height.</p>
    <hr>
    <p><i> Updated on: 2023-06-11T04:54:39.671179+00:00 </i></p>
    
    

    <footer>
        <span style="font-family: Arial, Helvetica, sans-serif;">&#10084;&#65039;</span> <a href="https://chaincode.com" target="_blank" rel="noreferrer" style="text-decoration: none; color: inherit;">Chaincode</a>
    </footer>
</body>

</html>