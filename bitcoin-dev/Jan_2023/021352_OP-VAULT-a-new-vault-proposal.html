<!doctype html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="Content-Type" content="text/html; charset=us-ascii">
    <title>Atom Feed Display</title>
    <link rel="stylesheet" href="../../archive_styles.css">
</head>

<body BGCOLOR="#fffffb">
    
    <h1>OP_VAULT: a new vault proposal</h1>
    <hr class="solid">
    
    <ul>
        
        
            <p><b>Author:</b> Anthony Towns 2023-01-17 07:46:38
            <br><i>Published on: 2023-01-17T07:46:38+00:00</i></p>

        
        

        
        
        <li>
        <a href="/bitcoin-dev/Jan_2023/combined_OP-VAULT-a-new-vault-proposal.html"> Combined Summary of all posts in thread </a>
        </li>
        
        <li>
            
                <a href="https://lists.linuxfoundation.org/pipermail/bitcoin-dev/2023-January/021352.html">Click here to read original discussion on the bitcoin-dev mailing list</a>
            
        </li>

    </ul>

    <hr>
    <h3> Summary:</h3>
    <p>In a discussion on the bitcoin-dev mailing list, Andrew Chow raises concerns about a proposal that would encourage address reuse for vaults. The proposal aims to allow a single vault scriptPubKey to receive multiple deposits. However, the current construction makes it impossible to spend these vaults together as OP_VAULT requires the recovery script of the unvault output to match what's provided in the input. Andrew Chow suggests that batched recovery could work fine if separate secrets are used for each recovery path. But the problem with this approach is that it prevents combining vaults when spending normally. If an identical OP_VAULT script is used for all the utxos in the vault, it would require only one transaction to spend all the vault utxos to a single OP_UNVAULT output. Andrew Chow proposes a potential solution: having the unvault path for OP_VAULT require the vout number for its corresponding OP_UNVAULT output on the stack. This would allow for both address reuse and avoiding address reuse by using multiple outputs and providing the mapping between inputs and outputs explicitly.</p>
    <hr>
    <p><i> Updated on: 2023-05-22T23:18:51.449318+00:00 </i></p>
    
    

    <footer>
        <span style="font-family: Arial, Helvetica, sans-serif;">&#10084;&#65039;</span> <a href="https://chaincode.com" target="_blank" rel="noreferrer" style="text-decoration: none; color: inherit;">Chaincode</a>
    </footer>
</body>

</html>