<!doctype html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="Content-Type" content="text/html; charset=us-ascii">
    <title>Atom Feed Display</title>
    <link rel="stylesheet" href="../../archive_styles.css">
</head>

<body BGCOLOR="#fffffb">
    
    <h1>Request for review/testing: headers-first synchronization in Bitcoin Core</h1>
    <hr class="solid">
    
    <ul>
        
        
            <p><b>Author:</b> Aaron Voisine 2014-10-12 05:51:41
            <br><i>Published on: 2014-10-12T05:51:41+00:00</i></p>

        
        

        
        
        <li>
        <a href="/bitcoin-dev/Oct_2014/combined_Request-for-review-testing-headers-first-synchronization-in-Bitcoin-Core.xml.html"> Combined Summary of all posts in thread </a>
        </li>
        
        <li>
            
                <a href="https://lists.linuxfoundation.org/pipermail/bitcoin-dev/2014-October/006725.html">Click here to read original discussion on the bitcoin-dev mailing list</a>
            
        </li>

    </ul>

    <hr>
    <h3> Summary:</h3>
    <p>In an email exchange between Aaron Voisine of breadwallet.com and Pieter Wuille, a large change that Wuille has been working on for Bitcoin Core, headers-first synchronization, was discussed. This mode of operation changes the way the best chain is discovered, downloaded, and verified, and has several advantages including parallel block downloading, no more stalled downloads, more robustness against unresponsive or slow peers, and reduces the need for checkpoints in the code. Additionally, it removes a class of DoS attacks related to peers feeding low-difficulty valid large blocks on a side branch, reduces memory usage during sync, and is a major step towards an SPV mode using the reference codebase. Wuille explained that technically, headers-first synchronization works by replacing the single-peer blocks download by a single-peer headers download and verification, while simultaneously fetching blocks along the best-known headers chain from all peers that have the relevant blocks. The code is available as a github pull request, or packaged on <a href="http://bitcoin.sipa.be/builds/headersfirst,">http://bitcoin.sipa.be/builds/headersfirst,</a> where binaries can be tested with. Known issues include slow downloading at the start of the sync (especially before all headers are processed), blocks being stored on disk out of order (making it incompatible with some tools or other programs), and the block index database holding headers for which no block is stored on disk (which earlier versions won't support). Overall, headers-first synchronization is a significant step forward for Bitcoin Core, making it practical to run a full node part-time on a laptop again. While there are known issues that will need experimentation and improvement, this mode of operation has been around for years and has finally been refactored enough to support it.</p>
    <hr>
    <p><i> Updated on: 2023-06-09T03:04:12.407051+00:00 </i></p>
    
    

    <footer>
        <span style="font-family: Arial, Helvetica, sans-serif;">&#10084;&#65039;</span> <a href="https://chaincode.com" target="_blank" rel="noreferrer" style="text-decoration: none; color: inherit;">Chaincode</a>
    </footer>
</body>

</html>