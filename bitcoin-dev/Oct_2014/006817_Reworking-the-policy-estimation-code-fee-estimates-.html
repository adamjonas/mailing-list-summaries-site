<!doctype html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="Content-Type" content="text/html; charset=us-ascii">
    <title>Atom Feed Display</title>
    <link rel="stylesheet" href="../../archive_styles.css">
</head>

<body BGCOLOR="#fffffb">
    
    <h1>Reworking the policy estimation code (fee estimates)</h1>
    <hr class="solid">
    
    <ul>
        
        
            <p><b>Author:</b> Alex Morcos 2014-10-27 19:33:45
            <br><i>Published on: 2014-10-27T19:33:45+00:00</i></p>

        
        

        
        
        <li>
        <a href="/bitcoin-dev/Oct_2014/combined_Reworking-the-policy-estimation-code-fee-estimates-.html"> Combined Summary of all posts in thread </a>
        </li>
        
        <li>
            
                <a href="https://lists.linuxfoundation.org/pipermail/bitcoin-dev/2014-October/006817.html">Click here to read original discussion on the bitcoin-dev mailing list</a>
            
        </li>

    </ul>

    <hr>
    <h3> Summary:</h3>
    <p>The existing code for estimating fees was found to have issues that resulted in estimates being too high. The previous approach of calculating median fees for each possible block confirmation time was statistically incorrect and skewed results. Additionally, transactions with missing input data were not excluded from calculations. The new approach involves dividing all possible fee rates logarithmically into buckets and updating them with the number of blocks it takes to confirm transactions in each bucket. The lowest fee rate that confirms a relatively high percentage (80%) of transactions within Y blocks is then used to estimate fees. A graph comparing the old and new estimates shows that the new code produces the same estimates for 2 and 3 confirmations, while smartfees.py was also completely reworked. A real-world test was run sending transactions of various fee rates and measuring how long they took to confirm. The results showed an average number of blocks needed for confirmation for different fee rates.</p>
    <hr>
    <p><i> Updated on: 2023-06-09T03:37:18.484470+00:00 </i></p>
    
    

    <footer>
        <span style="font-family: Arial, Helvetica, sans-serif;">&#10084;&#65039;</span> <a href="https://chaincode.com" target="_blank" rel="noreferrer" style="text-decoration: none; color: inherit;">Chaincode</a>
    </footer>
</body>

</html>