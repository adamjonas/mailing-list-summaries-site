<!doctype html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="Content-Type" content="text/html; charset=us-ascii">
    <title>Atom Feed Display</title>
    <link rel="stylesheet" href="../../archive_styles.css">
</head>

<body BGCOLOR="#fffffb">
    
    <h1>BIP 68 (Relative Locktime) bug <span class="combined-summary">[combined summary]</span></h1>
    <hr class="solid">
    <br><b>Individual post summaries:</b>
    
        <ul>
            
                
                    <li>
                        <a href="/bitcoin-dev/July_2015/009345_BIP-68-Relative-Locktime-bug.html">BIP 68 (Relative Locktime) bug</a>
                        <b>Mark Friedenbach 2015-07-05 16:17:19</b>
                    </li>
                
                    <li>
                        <a href="/bitcoin-dev/July_2015/009347_BIP-68-Relative-Locktime-bug.html">BIP 68 (Relative Locktime) bug</a>
                        <b>Tom Harding 2015-07-05 16:25:17</b>
                    </li>
                
                    <li>
                        <a href="/bitcoin-dev/July_2015/009348_BIP-68-Relative-Locktime-bug.html">BIP 68 (Relative Locktime) bug</a>
                        <b>Mark Friedenbach 2015-07-05 17:07:12</b>
                    </li>
                
                    <li>
                        <a href="/bitcoin-dev/July_2015/009352_BIP-68-Relative-Locktime-bug.html">BIP 68 (Relative Locktime) bug</a>
                        <b>Tom Harding 2015-07-05 19:57:00</b>
                    </li>
                
                    <li>
                        <a href="/bitcoin-dev/July_2015/009344_BIP-68-Relative-Locktime-bug.html">BIP 68 (Relative Locktime) bug</a>
                        <b>Tom Harding 2015-07-05 15:00:38</b>
                    </li>
                
                    <li>
                        <a href="/bitcoin-dev/July_2015/009346_BIP-68-Relative-Locktime-bug.html">BIP 68 (Relative Locktime) bug</a>
                        <b>Pieter Wuille 2015-07-05 16:21:44</b>
                    </li>
                
                    <li>
                        <a href="/bitcoin-dev/July_2015/009348_BIP-68-Relative-Locktime-bug.html">BIP 68 (Relative Locktime) bug</a>
                        <b>Mark Friedenbach 2015-07-05 17:07:12</b>
                    </li>
                
                    <li>
                        <a href="/bitcoin-dev/July_2015/009344_BIP-68-Relative-Locktime-bug.html">BIP 68 (Relative Locktime) bug</a>
                        <b>Tom Harding 2015-07-05 15:00:38</b>
                    </li>
                
                    <li>
                        <a href="/bitcoin-dev/July_2015/009345_BIP-68-Relative-Locktime-bug.html">BIP 68 (Relative Locktime) bug</a>
                        <b>Mark Friedenbach 2015-07-05 16:17:19</b>
                    </li>
                
                    <li>
                        <a href="/bitcoin-dev/July_2015/009344_BIP-68-Relative-Locktime-bug.html">BIP 68 (Relative Locktime) bug</a>
                        <b>Tom Harding 2015-07-05 15:00:38</b>
                    </li>
                
                    <li>
                        <a href="/bitcoin-dev/July_2015/009350_BIP-68-Relative-Locktime-bug.html">BIP 68 (Relative Locktime) bug</a>
                        <b>Tom Harding 2015-07-05 19:50:59</b>
                    </li>
                
                    <li>
                        <a href="/bitcoin-dev/July_2015/009347_BIP-68-Relative-Locktime-bug.html">BIP 68 (Relative Locktime) bug</a>
                        <b>Tom Harding 2015-07-05 16:25:17</b>
                    </li>
                
                    <li>
                        <a href="/bitcoin-dev/July_2015/009347_BIP-68-Relative-Locktime-bug.html">BIP 68 (Relative Locktime) bug</a>
                        <b>Tom Harding 2015-07-05 16:25:17</b>
                    </li>
                
                    <li>
                        <a href="/bitcoin-dev/July_2015/009348_BIP-68-Relative-Locktime-bug.html">BIP 68 (Relative Locktime) bug</a>
                        <b>Mark Friedenbach 2015-07-05 17:07:12</b>
                    </li>
                
                    <li>
                        <a href="/bitcoin-dev/July_2015/009352_BIP-68-Relative-Locktime-bug.html">BIP 68 (Relative Locktime) bug</a>
                        <b>Tom Harding 2015-07-05 19:57:00</b>
                    </li>
                
                    <li>
                        <a href="/bitcoin-dev/July_2015/009345_BIP-68-Relative-Locktime-bug.html">BIP 68 (Relative Locktime) bug</a>
                        <b>Mark Friedenbach 2015-07-05 16:17:19</b>
                    </li>
                
                    <li>
                        <a href="/bitcoin-dev/July_2015/009350_BIP-68-Relative-Locktime-bug.html">BIP 68 (Relative Locktime) bug</a>
                        <b>Tom Harding 2015-07-05 19:50:59</b>
                    </li>
                
                    <li>
                        <a href="/bitcoin-dev/July_2015/009352_BIP-68-Relative-Locktime-bug.html">BIP 68 (Relative Locktime) bug</a>
                        <b>Tom Harding 2015-07-05 19:57:00</b>
                    </li>
                
                    <li>
                        <a href="/bitcoin-dev/July_2015/009346_BIP-68-Relative-Locktime-bug.html">BIP 68 (Relative Locktime) bug</a>
                        <b>Pieter Wuille 2015-07-05 16:21:44</b>
                    </li>
                
                    <li>
                        <a href="/bitcoin-dev/July_2015/009346_BIP-68-Relative-Locktime-bug.html">BIP 68 (Relative Locktime) bug</a>
                        <b>Pieter Wuille 2015-07-05 16:21:44</b>
                    </li>
                
                    <li>
                        <a href="/bitcoin-dev/July_2015/009350_BIP-68-Relative-Locktime-bug.html">BIP 68 (Relative Locktime) bug</a>
                        <b>Tom Harding 2015-07-05 19:50:59</b>
                    </li>
                
            
        </ul>
        
            <a href="https://lists.linuxfoundation.org/pipermail/bitcoin-dev/2015-July/009345.html">Click here to read the original discussion on the bitcoin-dev mailing list</a>
        
        <p><i>Published on: 2015-07-05T16:17:19+00:00</i></p>
        <hr>
        <h3>Summary:</h3>
        <p>A discussion was held among developers on the bitcoin-dev mailing list, where Tom Harding proposed a fix to the dual effect of nSequence in BIP 68 that prevents a transaction from having an effective nLocktime without also requiring at least one of its inputs to be mined ahead of its parent. The solution involves shifting the semantics so that nSequence = MAX_INT - 1 specifies 0 relative locktime, rather than 1. This would avoid the inversion and put relative locktimes outside the realm of both the MAX_INT and MAX_INT - 1 values.The conversation then shifted to the use of nSequence to specify relative locktime in transactions. It was noted that nSequence also conditions the transaction-level locktime, which prevents a transaction from having an effective nLocktime without requiring at least one of its inputs to be mined ahead of its parent. Another developer asked for an example of when enforced locktime would be needed in transactions with unconfirmed inputs.The proposed fix is to shift the semantics of nSequence so that MAX_INT - 1 specifies 0 relative locktime instead of 1, while preserving the semantics of transactions created with the specific nSequence value of MAX_INT - 1. This solution would allow an explicit relative locktime of 0, which would help applications avoid accidentally finalizing the whole transaction when they only meant to not impose a relative locktime on one input.Mark Friedenbach suggested that Bitcoin Core post-0.11 switch to using 0 in the sequence number field instead of MAX_INT - 1 for cases where an effective nLocktime is desired without requiring at least one input to be mined ahead of its parent. This discussion demonstrates ongoing efforts by bitcoin developers to improve the functionality and security of the cryptocurrency's transaction process. In an email correspondence from July 5, 2015, Tom Harding discussed the possibility of allowing an explicit relative locktime of 0. Although Harding initially overlooked that other inputs can independently make the transaction non-final, the proposal still has potential benefits for certain use cases.</p>
        <hr>
        <p><i>Updated on: 2023-06-10T02:11:09.618439+00:00</i></p>
    

    

    <footer>
        <span style="font-family: Arial, Helvetica, sans-serif;">&#10084;&#65039;</span> <a href="https://chaincode.com" target="_blank" rel="noreferrer" style="text-decoration: none; color: inherit;">Chaincode</a>
    </footer>
</body>

</html>