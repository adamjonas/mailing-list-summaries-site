<!doctype html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="Content-Type" content="text/html; charset=us-ascii">
    <title>Atom Feed Display</title>
    <link rel="stylesheet" href="../../archive_styles.css">
</head>

<body BGCOLOR="#fffffb">
    
    <h1>New transaction policies (nVersion=3) for contracting protocols <span class="combined-summary">[combined summary]</span></h1>
    <hr class="solid">
    <br><b>Individual post summaries:</b>
    
        <ul>
            
                
                    <li>
                        <a href="/bitcoin-dev/June_2023/021780_New-transaction-policies-nVersion-3-for-contracting-protocols.xml.html">New transaction policies (nVersion=3) for contracting protocols</a>
                        <b>Greg Sanders 2023-06-21 20:57:45+00:00</b>
                    </li>
                
                    <li>
                        <a href="/bitcoin-dev/Sept_2022/020937_New-transaction-policies-nVersion-3-for-contracting-protocols.xml.html">New transaction policies (nVersion=3) for contracting protocols</a>
                        <b>Gloria Zhao 2022-09-23 15:18:21+00:00</b>
                    </li>
                
                    <li>
                        <a href="/bitcoin-dev/Sept_2022/020950_New-transaction-policies-nVersion-3-for-contracting-protocols.xml.html">New transaction policies (nVersion=3) for contracting protocols</a>
                        <b>Bastien TEINTURIER 2022-09-29 09:15:02+00:00</b>
                    </li>
                
                    <li>
                        <a href="/bitcoin-dev/Sept_2022/020942_New-transaction-policies-nVersion-3-for-contracting-protocols.xml.html">New transaction policies (nVersion=3) for contracting protocols</a>
                        <b>Greg Sanders 2022-09-26 16:01:54+00:00</b>
                    </li>
                
                    <li>
                        <a href="/bitcoin-dev/Sept_2022/020960_New-transaction-policies-nVersion-3-for-contracting-protocols.xml.html">New transaction policies (nVersion=3) for contracting protocols</a>
                        <b>Greg Sanders 2022-09-30 12:17:38+00:00</b>
                    </li>
                
                    <li>
                        <a href="/bitcoin-dev/Sept_2022/020957_New-transaction-policies-nVersion-3-for-contracting-protocols.xml.html">New transaction policies (nVersion=3) for contracting protocols</a>
                        <b>Ruben Somsen 2022-09-30 00:13:53+00:00</b>
                    </li>
                
                    <li>
                        <a href="/bitcoin-dev/Sept_2022/020951_New-transaction-policies-nVersion-3-for-contracting-protocols.xml.html">New transaction policies (nVersion=3) for contracting protocols</a>
                        <b>Greg Sanders 2022-09-29 14:41:28+00:00</b>
                    </li>
                
                    <li>
                        <a href="/bitcoin-dev/Sept_2022/020938_New-transaction-policies-nVersion-3-for-contracting-protocols.xml.html">New transaction policies (nVersion=3) for contracting protocols</a>
                        <b>Greg Sanders 2022-09-23 18:48:39+00:00</b>
                    </li>
                
                    <li>
                        <a href="/bitcoin-dev/Sept_2022/020959_New-transaction-policies-nVersion-3-for-contracting-protocols.xml.html">New transaction policies (nVersion=3) for contracting protocols</a>
                        <b>Bastien TEINTURIER 2022-09-30 12:08:41+00:00</b>
                    </li>
                
                    <li>
                        <a href="/bitcoin-dev/Sept_2022/020941_New-transaction-policies-nVersion-3-for-contracting-protocols.xml.html">New transaction policies (nVersion=3) for contracting protocols</a>
                        <b>Bastien TEINTURIER 2022-09-26 15:27:40+00:00</b>
                    </li>
                
                    <li>
                        <a href="/bitcoin-dev/Sept_2022/020939_New-transaction-policies-nVersion-3-for-contracting-protocols.xml.html">New transaction policies (nVersion=3) for contracting protocols</a>
                        <b>Antoine Riard 2022-09-25 23:59:22+00:00</b>
                    </li>
                
                    <li>
                        <a href="/bitcoin-dev/Sept_2022/020943_New-transaction-policies-nVersion-3-for-contracting-protocols.xml.html">New transaction policies (nVersion=3) for contracting protocols</a>
                        <b>Gloria Zhao 2022-09-26 16:47:49+00:00</b>
                    </li>
                
                    <li>
                        <a href="/bitcoin-dev/Oct_2022/020962_New-transaction-policies-nVersion-3-for-contracting-protocols.xml.html">New transaction policies (nVersion=3) for contracting protocols</a>
                        <b>Ruben Somsen 2022-10-01 09:59:55+00:00</b>
                    </li>
                
            
        </ul>
        
            <a href="https://lists.linuxfoundation.org/pipermail/bitcoin-dev/2023-June/021780.html">Click here to read the original discussion on the bitcoin-dev mailing list</a>
        
        <p><i>Published on: 2023-06-21T20:57:45+00:00</i></p>
        <hr>
        <h3>Summary:</h3>
        <p>The Bitcoin developer community is discussing proposals to improve V3 transactions, including limiting the number of OP_TRUE outputs per transaction, adding an "ephemeral output" to pay CPFP fees without making the parent tx have fees itself, and allowing outputs that are below dust. They also discussed the need for new logic to handle package RBF, which is ParentTx*s*(plural) and ChildTx(singular). Gloria Zhao, a Bitcoin Core developer, has proposed a set of mempool and transaction relay policies aimed at aiding Layer 2/contract protocols. These involve additional rules for V3 transactions, such as only allowing one descendant per transaction to prevent pinning attacks. There are concerns that LN transactions could be fingerprinted based on nVersion. The proposal includes modifications to the Replace-by-Fee (RBF) policy that will affect the way transactions are replaced and incentivized for mining.The proposed policies aim to solve Rule 3 pinning and potentially allow for the removal of CPFP carve-out, and feedback from users is encouraged. V3 transactions are replaceable even if they don't signal BIP125 replaceability, and V2 transactions can replace V3 transactions and vice versa. The proposal allows a child transaction to pay for a fee-bump of its parent transaction, enabling users to increase the fees on their transactions if they become stuck in the mempool due to low fees. The changes are economically rational for ancestor packages, but not necessarily other types of packages.The proposal suggests a set of mempool/transaction relay policies to aid L2/contract protocols that can solve Rule 3 pinning and perhaps allow the removal of CPFP carve-out. The proposed policies include modifications to package RBF rules and a set of additional policy rules applying to V3 transactions, which can be replaced even if they do not signal BIP125 replaceability. Additionally, unconfirmed V3 transactions cannot have more than one descendant, and a V3 transaction that has an unconfirmed V3 ancestor cannot be larger than 1000 virtual bytes. The proposal also includes suggestions for allowing OP_TRUE to become a standard script type and having a single dust-value output, which is immediately spent by the package, making anchors easier to design. It is noted that transactions with nVersion=3 are currently non-standard in Bitcoin Core, and anything that was standard before this policy change would still be standard afterwards.Intended usage for Lightning Network transactions involves commitment transactions that should be V3 and have 1 anchor output. They can be signed with 0 fees (or 1sat/vbyte) once package relay is deployed on a significant portion of the network. If the commitment tx must be broadcast, determine the desired feerate at broadcast time and spend the anchor output in a high feerate transaction. The child must be V3 and at most 1000vB. One child may fund fees for multiple commitment tx ("batched fee-bumping"). To do a second fee-bump to add more fees, replace the child with a higher-feerate tx.The proposed policies aim to enhance the composability of smart contracting and improve the security model of L2 contracts. However, there are concerns about potential utxo set bloat issues and compatibility with miner incentives. The proposal has received positive feedback from various individuals, who have shared their thoughts and suggestions. Feedback and review on the proposal are welcomed. The Bitcoin development team has already implemented the proposal in Bitcoin Core.</p>
        <hr>
        <p><i>Updated on: 2023-06-24T01:22:13.981573+00:00</i></p>
    

    

    <footer>
        <span style="font-family: Arial, Helvetica, sans-serif;">&#10084;&#65039;</span> <a href="https://chaincode.com" target="_blank" rel="noreferrer" style="text-decoration: none; color: inherit;">Chaincode</a>
    </footer>
</body>

</html>