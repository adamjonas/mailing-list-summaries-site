<!doctype html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="Content-Type" content="text/html; charset=us-ascii">
    <title>Atom Feed Display</title>
    <link rel="stylesheet" href="../../archive_styles.css">
</head>

<body BGCOLOR="#fffffb">
    
    <h1>New transaction policies (nVersion=3) for contracting protocols <span class="combined-summary">[combined summary]</span></h1>
    <hr class="solid">
    <br><b>Individual post summaries:</b>
    
        <ul>
            
                
                    <li>
                        <a href="/bitcoin-dev/June_2023/021780_New-transaction-policies-nVersion-3-for-contracting-protocols.html">New transaction policies (nVersion=3) for contracting protocols</a>
                        <b>Greg Sanders 2023-06-21 20:57:45+00:00</b>
                    </li>
                
                    <li>
                        <a href="/bitcoin-dev/Sept_2022/020943_New-transaction-policies-nVersion-3-for-contracting-protocols.html">New transaction policies (nVersion=3) for contracting protocols</a>
                        <b>Gloria Zhao 2022-09-26 16:47:49+00:00</b>
                    </li>
                
                    <li>
                        <a href="/bitcoin-dev/Sept_2022/020950_New-transaction-policies-nVersion-3-for-contracting-protocols.html">New transaction policies (nVersion=3) for contracting protocols</a>
                        <b>Bastien TEINTURIER 2022-09-29 09:15:02+00:00</b>
                    </li>
                
                    <li>
                        <a href="/bitcoin-dev/Sept_2022/020937_New-transaction-policies-nVersion-3-for-contracting-protocols.html">New transaction policies (nVersion=3) for contracting protocols</a>
                        <b>Gloria Zhao 2022-09-23 15:18:21+00:00</b>
                    </li>
                
                    <li>
                        <a href="/bitcoin-dev/Sept_2022/020959_New-transaction-policies-nVersion-3-for-contracting-protocols.html">New transaction policies (nVersion=3) for contracting protocols</a>
                        <b>Bastien TEINTURIER 2022-09-30 12:08:41+00:00</b>
                    </li>
                
                    <li>
                        <a href="/bitcoin-dev/Sept_2022/020960_New-transaction-policies-nVersion-3-for-contracting-protocols.html">New transaction policies (nVersion=3) for contracting protocols</a>
                        <b>Greg Sanders 2022-09-30 12:17:38+00:00</b>
                    </li>
                
                    <li>
                        <a href="/bitcoin-dev/Sept_2022/020941_New-transaction-policies-nVersion-3-for-contracting-protocols.html">New transaction policies (nVersion=3) for contracting protocols</a>
                        <b>Bastien TEINTURIER 2022-09-26 15:27:40+00:00</b>
                    </li>
                
                    <li>
                        <a href="/bitcoin-dev/Sept_2022/020938_New-transaction-policies-nVersion-3-for-contracting-protocols.html">New transaction policies (nVersion=3) for contracting protocols</a>
                        <b>Greg Sanders 2022-09-23 18:48:39+00:00</b>
                    </li>
                
                    <li>
                        <a href="/bitcoin-dev/Sept_2022/020942_New-transaction-policies-nVersion-3-for-contracting-protocols.html">New transaction policies (nVersion=3) for contracting protocols</a>
                        <b>Greg Sanders 2022-09-26 16:01:54+00:00</b>
                    </li>
                
                    <li>
                        <a href="/bitcoin-dev/Sept_2022/020957_New-transaction-policies-nVersion-3-for-contracting-protocols.html">New transaction policies (nVersion=3) for contracting protocols</a>
                        <b>Ruben Somsen 2022-09-30 00:13:53+00:00</b>
                    </li>
                
                    <li>
                        <a href="/bitcoin-dev/Sept_2022/020951_New-transaction-policies-nVersion-3-for-contracting-protocols.html">New transaction policies (nVersion=3) for contracting protocols</a>
                        <b>Greg Sanders 2022-09-29 14:41:28+00:00</b>
                    </li>
                
                    <li>
                        <a href="/bitcoin-dev/Sept_2022/020939_New-transaction-policies-nVersion-3-for-contracting-protocols.html">New transaction policies (nVersion=3) for contracting protocols</a>
                        <b>Antoine Riard 2022-09-25 23:59:22+00:00</b>
                    </li>
                
                    <li>
                        <a href="/bitcoin-dev/Oct_2022/020962_New-transaction-policies-nVersion-3-for-contracting-protocols.html">New transaction policies (nVersion=3) for contracting protocols</a>
                        <b>Ruben Somsen 2022-10-01 09:59:55+00:00</b>
                    </li>
                
            
        </ul>
        
            <a href="https://lists.linuxfoundation.org/pipermail/bitcoin-dev/2023-June/021780.html">Click here to read the original discussion on the bitcoin-dev mailing list</a>
        
        <p><i>Published on: 2023-06-21T20:57:45+00:00</i></p>
        <hr>
        <h3>Summary:</h3>
        <p>Bitcoin developer Gloria Zhao has proposed a set of mempool/transaction relay policies to address problems with the previously proposed Package Mempool Accept package RBF. The proposal includes additional rules for V3 transactions and modifications to package RBF rules, aiming to facilitate Layer 2 (L2) and contract protocols. The proposed policies introduce new rules for V3 transactions, such as allowing them to be replaced even if they don't signal BIP125 replaceability. This enables inherited replaceability signaling when creating descendants of unconfirmed transactions. Furthermore, the proposal sets an upper bound on the size of unconfirmed V3 transactions that have a V3 ancestor, preventing pinning attacks. Additionally, modifications to the package RBF rules allow for new unconfirmed inputs in a package as long as the child's feerate is at least as high as the parent's feerate.The proposal aims to improve the replace-by-fee (RBF) feature by introducing version 3 transactions (V3). These V3 transactions would have a descendant size limit of no more than 1000 virtual bytes, reducing the costs associated with fee-bumping transactions. Commitment transactions in the Lightning Network (LN) should also be V3 and have one anchor output. The proposal suggests that commitment transactions can be signed with 0 fees once package relay is deployed on a significant portion of the network. If the commitment transaction needs to be broadcasted, the desired feerate can be determined at broadcast time, and the anchor output can be spent in a high feerate transaction. Batched fee-bumping is allowed, where one child can fund fees for multiple commitment transactions.The proposal addresses concerns such as Rule 3 Pinning and potential privacy issues related to fingerprinting LN transactions based on nVersion. Feedback and review of the proposal are encouraged by the Bitcoin development team. Overall, the proposed policies aim to enhance the security model for L2 contracts, simplify anchor outputs, and address concerns about unconfirmed V3 transactions with ephemeral outputs.Bitcoin developer Gloria Zhao has proposed a new version of transaction format, V3, aimed at improving replace-by-fee (RBF) and child-pays-for-parent (CPFP) protocols. The proposal includes rules specifying limits on the size and number of "descendant" transactions that rely on an unconfirmed parent transaction for funding. These rules aim to prevent pinning attacks and establish both upper and lower bounds for the size of descendant transactions. Commitment transactions on the Lightning Network should also be V3 and have one anchor output. The proposal suggests modifications to the package RBF rules, requiring all package transactions with mempool conflicts to be V3.The proposal has received positive feedback from the Bitcoin developer community, and suggestions for improvements have been discussed. Some ideas include making a single anchor output spendable by both participants and detecting "sibling output spend" conflicts to improve smart contracting composability. Feedback and review of the proposal are welcomed.</p>
        <hr>
        <p><i>Updated on: 2023-07-12T02:29:47.767001+00:00</i></p>
    

    

    <footer>
        <span style="font-family: Arial, Helvetica, sans-serif;">&#10084;&#65039;</span> <a href="https://chaincode.com" target="_blank" rel="noreferrer" style="text-decoration: none; color: inherit;">Chaincode</a>
    </footer>
</body>

</html>