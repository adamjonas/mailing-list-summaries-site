<!doctype html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="Content-Type" content="text/html; charset=us-ascii">
    <title>Atom Feed Display</title>
    <link rel="stylesheet" href="../../archive_styles.css">
</head>

<body BGCOLOR="#fffffb">
    
    <h1>[PROPOSAL] OP_TX: generalized covenants reduced to OP_CHECKTEMPLATEVERIFY</h1>
    <hr class="solid">
    
    <ul>
        
        
            <p><b>Author:</b> Jeremy Rubin 2022-06-24 18:05:50
            <br><i>Published on: 2022-06-24T18:05:50+00:00</i></p>

        
        

        
        
        <li>
        <a href="/bitcoin-dev/June_2022/combined_-PROPOSAL-OP-TX-generalized-covenants-reduced-to-OP-CHECKTEMPLATEVERIFY.xml.html"> Combined Summary of all posts in thread </a>
        </li>
        
        <li>
            
                <a href="https://lists.linuxfoundation.org/pipermail/bitcoin-dev/2022-June/020600.html">Click here to read original discussion on the bitcoin-dev mailing list</a>
            
        </li>

    </ul>

    <hr>
    <h3> Summary:</h3>
    <p>In a discussion on the bitcoin-dev mailing list, the topic of using a merkle tree for Commitment Transaction Verification (CTV) was brought up. While it was acknowledged that a merkle tree could be superior for CTV from an API perspective, the main reason not to use one was validation performance. It was explained that the merkle tree would be extra work for just CTV and that it only adds value when there are many outputs and a random-index insertion is needed. For applications where editing the last output is common, SHA-STREAM would allow for O(1) editing of the tail. The discussion also touched on the OPTX_SEPARATELY and OPTX_UNHASHED fields, as well as the OPTX_SELECT_OUTPUT_AMOUNT32x2* and OPTX_SELECT_OUTPUT_SCRIPTPUBKEY* fields. The issue of upgradability was raised in relation to committing to specific outputs, as it can be awkward with the current approach used by both OP_TX and CTV. A merkle path was suggested as a potential solution for proving that an entire output has been taken. Overall, the discussion focused on the tradeoffs between using a merkle tree versus other methods for CTV.</p>
    <hr>
    <p><i> Updated on: 2023-06-15T20:41:20.210143+00:00 </i></p>
    
    

    <footer>
        <span style="font-family: Arial, Helvetica, sans-serif;">&#10084;&#65039;</span> <a href="https://chaincode.com" target="_blank" rel="noreferrer" style="text-decoration: none; color: inherit;">Chaincode</a>
    </footer>
</body>

</html>