<!doctype html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="Content-Type" content="text/html; charset=us-ascii">
    <title>Atom Feed Display</title>
    <link rel="stylesheet" href="../../archive_styles.css">
</head>

<body BGCOLOR="#fffffb">
    
    <h1>bitcoind -proxy=host:port doesn&#39;t work for unroutable network <span class="combined-summary">[combined summary]</span></h1>
    <hr class="solid">
    <br><b>Individual post summaries:</b>
    
        <ul>
            
                
                    <li>
                        <a href="/bitcoin-dev/July_2022/020770_bitcoind-proxy-host-port-doesn-t-work-for-unroutable-network.html">bitcoind -proxy=host:port doesn&#39;t work for unroutable network</a>
                        <b>Anton Shevchenko 2022-07-23 05:08:55</b>
                    </li>
                
                    <li>
                        <a href="/bitcoin-dev/July_2022/020770_bitcoind-proxy-host-port-doesn-t-work-for-unroutable-network.html">bitcoind -proxy=host:port doesn&#39;t work for unroutable network</a>
                        <b>Anton Shevchenko 2022-07-23 05:08:55</b>
                    </li>
                
                    <li>
                        <a href="/bitcoin-dev/July_2022/020770_bitcoind-proxy-host-port-doesn-t-work-for-unroutable-network.html">bitcoind -proxy=host:port doesn&#39;t work for unroutable network</a>
                        <b>Anton Shevchenko 2022-07-23 05:08:55</b>
                    </li>
                
            
        </ul>
        
            <a href="https://lists.linuxfoundation.org/pipermail/bitcoin-dev/2022-July/020770.html">Click here to read the original discussion on the bitcoin-dev mailing list</a>
        
        <p><i>Published on: 2022-07-23T05:08:55+00:00</i></p>
        <hr>
        <h3>Summary:</h3>
        <p>The author discusses unexpected behavior when running bitcoind with the -proxy setting, which is used to connect to a SOCKS5 proxy that can access an internal network. Even though Bitcoind is started with the -noconnect option and there is no network activity, when the author commands bitcoin-cli to connect to a node with a specific address, bitcoind attempts to connect without using the proxy. Upon reviewing the code, it appears that the CConnman::ConnectNode function calls GetProxy, which returns false because CNetAddr::GetNetwork returns NET_UNROUTABLE.The author believes this behavior is unexpected and should be documented. They suggest introducing another option for unroutable addresses: connect locally (default for compatibility reasons), connect through the proxy, or don't connect at all. It seems that the current implementation of GetProxy does not handle the -proxy option correctly in some scenarios. Overall, the author highlights the need for more comprehensive documentation of how the -proxy option works and its limitations, particularly regarding handling of unroutable addresses. The suggested solution would provide greater flexibility for users and possibly avoid unexpected behavior like that experienced by the author.</p>
        <hr>
        <p><i>Updated on: 2023-06-15T23:22:26.183141+00:00</i></p>
    

    

    <footer>
        <span style="font-family: Arial, Helvetica, sans-serif;">&#10084;&#65039;</span> <a href="https://chaincode.com" target="_blank" rel="noreferrer" style="text-decoration: none; color: inherit;">Chaincode</a>
    </footer>
</body>

</html>