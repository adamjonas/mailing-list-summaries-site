<!doctype html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="Content-Type" content="text/html; charset=us-ascii">
    <title>Atom Feed Display</title>
    <link rel="stylesheet" href="../../archive_styles.css">
</head>

<body BGCOLOR="#fffffb">
    
    <h1>Removing BIP-125 Rule #5 Pinning with the Always-Replaceable Invariant <span class="combined-summary">[combined summary]</span></h1>
    <hr class="solid">
    <br><b>Individual post summaries:</b>
    
        <ul>
            
                
                    <li>
                        <a href="/bitcoin-dev/Nov_2022/021177_Removing-BIP-125-Rule-5-Pinning-with-the-Always-Replaceable-Invariant.xml.html">Removing BIP-125 Rule #5 Pinning with the Always-Replaceable Invariant</a>
                        <b>Suhas Daftuar 2022-11-07 21:21:11</b>
                    </li>
                
                    <li>
                        <a href="/bitcoin-dev/Nov_2022/021175_Removing-BIP-125-Rule-5-Pinning-with-the-Always-Replaceable-Invariant.xml.html">Removing BIP-125 Rule #5 Pinning with the Always-Replaceable Invariant</a>
                        <b>Peter Todd 2022-11-07 20:17:29</b>
                    </li>
                
            
        </ul>
        
            <a href="https://lists.linuxfoundation.org/pipermail/bitcoin-dev/2022-November/021177.html">Click here to read the original discussion on the bitcoin-dev mailing list</a>
        
        <p><i>Published on: 2022-11-07T21:21:11+00:00</i></p>
        <hr>
        <h3>Summary:</h3>
        <p>The Bitcoin Core currently implements Rule #5 of BIP-125, which limits the number of original transactions to be replaced and their descendant transactions that will be evicted from the mempool to a total of 100 transactions. However, this rule has no justification beyond avoiding "too much work," and it may be the case that this rule can be entirely removed as the overall mempool size naturally limits the maximum number of possible replacements. To address the issue of Rule #5 pinning, the Replaceability Invariant can be implemented, which states that no transaction may be accepted into the mempool that would cause another transaction to be unable to be replaced due to Rule #5. This can be achieved by maintaining an integer, nReplacementCandidates, for each transaction, verifying that nReplacementCandidates + 1 < MAX_REPLACEMENT_CANDIDATES for non-conflicting transactions, and decrementing nReplacementCandidates by however many children have been replaced for all unconfirmed parents when conflicting transactions are considered for acceptance. When a block is mined, the nReplacementCandidates of all unconfirmed transactions remains unchanged because a confirmed transaction cannot spend an unconfirmed txout. The proposed rule is similar in spirit to the package limits already implemented in Bitcoin Core.</p>
        <hr>
        <p><i>Updated on: 2023-05-22T22:48:20.296927+00:00</i></p>
    

    

    <footer>
        <span style="font-family: Arial, Helvetica, sans-serif;">&#10084;&#65039;</span> <a href="https://chaincode.com" target="_blank" rel="noreferrer" style="text-decoration: none; color: inherit;">Chaincode</a>
    </footer>
</body>

</html>