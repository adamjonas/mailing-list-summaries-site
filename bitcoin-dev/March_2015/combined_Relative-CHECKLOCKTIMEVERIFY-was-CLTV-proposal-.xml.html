<!doctype html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="Content-Type" content="text/html; charset=us-ascii">
    <title>Atom Feed Display</title>
    <link rel="stylesheet" href="../../archive_styles.css">
</head>

<body BGCOLOR="#fffffb">
    
    <h1>Relative CHECKLOCKTIMEVERIFY (was CLTV proposal) <span class="combined-summary">[combined summary]</span></h1>
    <hr class="solid">
    <br><b>Individual post summaries:</b>
    
        <ul>
            
                
                    <li>
                        <a href="/bitcoin-dev/April_2015/007804_Relative-CHECKLOCKTIMEVERIFY-was-CLTV-proposal-.xml.html">Relative CHECKLOCKTIMEVERIFY (was CLTV proposal)</a>
                        <b>Peter Todd 2015-04-21 07:59:12</b>
                    </li>
                
                    <li>
                        <a href="/bitcoin-dev/April_2015/007836_Relative-CHECKLOCKTIMEVERIFY-was-CLTV-proposal-.xml.html">Relative CHECKLOCKTIMEVERIFY (was CLTV proposal)</a>
                        <b>Peter Todd 2015-04-27 19:35:26</b>
                    </li>
                
                    <li>
                        <a href="/bitcoin-dev/March_2015/007719_Relative-CHECKLOCKTIMEVERIFY-was-CLTV-proposal-.xml.html">Relative CHECKLOCKTIMEVERIFY (was CLTV proposal)</a>
                        <b>Zooko Wilcox-OHearn 2015-03-19 17:39:09</b>
                    </li>
                
                    <li>
                        <a href="/bitcoin-dev/April_2015/007804_Relative-CHECKLOCKTIMEVERIFY-was-CLTV-proposal-.xml.html">Relative CHECKLOCKTIMEVERIFY (was CLTV proposal)</a>
                        <b>Peter Todd 2015-04-21 07:59:12</b>
                    </li>
                
                    <li>
                        <a href="/bitcoin-dev/April_2015/007838_Relative-CHECKLOCKTIMEVERIFY-was-CLTV-proposal-.xml.html">Relative CHECKLOCKTIMEVERIFY (was CLTV proposal)</a>
                        <b>Jorge Timón 2015-04-28 07:44:14</b>
                    </li>
                
                    <li>
                        <a href="/bitcoin-dev/May_2015/007867_Relative-CHECKLOCKTIMEVERIFY-was-CLTV-proposal-.xml.html">Relative CHECKLOCKTIMEVERIFY (was CLTV proposal)</a>
                        <b>Jorge Timón 2015-05-06 07:37:37</b>
                    </li>
                
                    <li>
                        <a href="/bitcoin-dev/May_2015/007868_Relative-CHECKLOCKTIMEVERIFY-was-CLTV-proposal-.xml.html">Relative CHECKLOCKTIMEVERIFY (was CLTV proposal)</a>
                        <b>Tier Nolan 2015-05-06 22:09:59</b>
                    </li>
                
                    <li>
                        <a href="/bitcoin-dev/May_2015/007862_Relative-CHECKLOCKTIMEVERIFY-was-CLTV-proposal-.xml.html">Relative CHECKLOCKTIMEVERIFY (was CLTV proposal)</a>
                        <b>Btc Drak 2015-05-05 00:41:52</b>
                    </li>
                
                    <li>
                        <a href="/bitcoin-dev/March_2015/007719_Relative-CHECKLOCKTIMEVERIFY-was-CLTV-proposal-.xml.html">Relative CHECKLOCKTIMEVERIFY (was CLTV proposal)</a>
                        <b>Zooko Wilcox-OHearn 2015-03-19 17:39:09</b>
                    </li>
                
                    <li>
                        <a href="/bitcoin-dev/May_2015/007858_Relative-CHECKLOCKTIMEVERIFY-was-CLTV-proposal-.xml.html">Relative CHECKLOCKTIMEVERIFY (was CLTV proposal)</a>
                        <b>Matt Corallo 2015-05-04 02:15:47</b>
                    </li>
                
                    <li>
                        <a href="/bitcoin-dev/May_2015/007861_Relative-CHECKLOCKTIMEVERIFY-was-CLTV-proposal-.xml.html">Relative CHECKLOCKTIMEVERIFY (was CLTV proposal)</a>
                        <b>Jorge Timón 2015-05-04 11:24:44</b>
                    </li>
                
                    <li>
                        <a href="/bitcoin-dev/May_2015/007866_Relative-CHECKLOCKTIMEVERIFY-was-CLTV-proposal-.xml.html">Relative CHECKLOCKTIMEVERIFY (was CLTV proposal)</a>
                        <b>Tier Nolan 2015-05-05 20:38:44</b>
                    </li>
                
                    <li>
                        <a href="/bitcoin-dev/May_2015/007867_Relative-CHECKLOCKTIMEVERIFY-was-CLTV-proposal-.xml.html">Relative CHECKLOCKTIMEVERIFY (was CLTV proposal)</a>
                        <b>Jorge Timón 2015-05-06 07:37:37</b>
                    </li>
                
                    <li>
                        <a href="/bitcoin-dev/May_2015/007868_Relative-CHECKLOCKTIMEVERIFY-was-CLTV-proposal-.xml.html">Relative CHECKLOCKTIMEVERIFY (was CLTV proposal)</a>
                        <b>Tier Nolan 2015-05-06 22:09:59</b>
                    </li>
                
                    <li>
                        <a href="/bitcoin-dev/April_2015/007823_Relative-CHECKLOCKTIMEVERIFY-was-CLTV-proposal-.xml.html">Relative CHECKLOCKTIMEVERIFY (was CLTV proposal)</a>
                        <b>Jorge Timón 2015-04-26 12:20:04</b>
                    </li>
                
                    <li>
                        <a href="/bitcoin-dev/April_2015/007838_Relative-CHECKLOCKTIMEVERIFY-was-CLTV-proposal-.xml.html">Relative CHECKLOCKTIMEVERIFY (was CLTV proposal)</a>
                        <b>Jorge Timón 2015-04-28 07:44:14</b>
                    </li>
                
                    <li>
                        <a href="/bitcoin-dev/May_2015/007862_Relative-CHECKLOCKTIMEVERIFY-was-CLTV-proposal-.xml.html">Relative CHECKLOCKTIMEVERIFY (was CLTV proposal)</a>
                        <b>Btc Drak 2015-05-05 00:41:52</b>
                    </li>
                
                    <li>
                        <a href="/bitcoin-dev/May_2015/007865_Relative-CHECKLOCKTIMEVERIFY-was-CLTV-proposal-.xml.html">Relative CHECKLOCKTIMEVERIFY (was CLTV proposal)</a>
                        <b>Jorge Timón 2015-05-05 19:19:00</b>
                    </li>
                
                    <li>
                        <a href="/bitcoin-dev/May_2015/007867_Relative-CHECKLOCKTIMEVERIFY-was-CLTV-proposal-.xml.html">Relative CHECKLOCKTIMEVERIFY (was CLTV proposal)</a>
                        <b>Jorge Timón 2015-05-06 07:37:37</b>
                    </li>
                
                    <li>
                        <a href="/bitcoin-dev/May_2015/007868_Relative-CHECKLOCKTIMEVERIFY-was-CLTV-proposal-.xml.html">Relative CHECKLOCKTIMEVERIFY (was CLTV proposal)</a>
                        <b>Tier Nolan 2015-05-06 22:09:59</b>
                    </li>
                
                    <li>
                        <a href="/bitcoin-dev/May_2015/007858_Relative-CHECKLOCKTIMEVERIFY-was-CLTV-proposal-.xml.html">Relative CHECKLOCKTIMEVERIFY (was CLTV proposal)</a>
                        <b>Matt Corallo 2015-05-04 02:15:47</b>
                    </li>
                
                    <li>
                        <a href="/bitcoin-dev/May_2015/007865_Relative-CHECKLOCKTIMEVERIFY-was-CLTV-proposal-.xml.html">Relative CHECKLOCKTIMEVERIFY (was CLTV proposal)</a>
                        <b>Jorge Timón 2015-05-05 19:19:00</b>
                    </li>
                
                    <li>
                        <a href="/bitcoin-dev/April_2015/007804_Relative-CHECKLOCKTIMEVERIFY-was-CLTV-proposal-.xml.html">Relative CHECKLOCKTIMEVERIFY (was CLTV proposal)</a>
                        <b>Peter Todd 2015-04-21 07:59:12</b>
                    </li>
                
                    <li>
                        <a href="/bitcoin-dev/April_2015/007822_Relative-CHECKLOCKTIMEVERIFY-was-CLTV-proposal-.xml.html">Relative CHECKLOCKTIMEVERIFY (was CLTV proposal)</a>
                        <b>Jorge Timón 2015-04-26 11:35:33</b>
                    </li>
                
                    <li>
                        <a href="/bitcoin-dev/April_2015/007823_Relative-CHECKLOCKTIMEVERIFY-was-CLTV-proposal-.xml.html">Relative CHECKLOCKTIMEVERIFY (was CLTV proposal)</a>
                        <b>Jorge Timón 2015-04-26 12:20:04</b>
                    </li>
                
                    <li>
                        <a href="/bitcoin-dev/April_2015/007836_Relative-CHECKLOCKTIMEVERIFY-was-CLTV-proposal-.xml.html">Relative CHECKLOCKTIMEVERIFY (was CLTV proposal)</a>
                        <b>Peter Todd 2015-04-27 19:35:26</b>
                    </li>
                
                    <li>
                        <a href="/bitcoin-dev/April_2015/007838_Relative-CHECKLOCKTIMEVERIFY-was-CLTV-proposal-.xml.html">Relative CHECKLOCKTIMEVERIFY (was CLTV proposal)</a>
                        <b>Jorge Timón 2015-04-28 07:44:14</b>
                    </li>
                
                    <li>
                        <a href="/bitcoin-dev/May_2015/007866_Relative-CHECKLOCKTIMEVERIFY-was-CLTV-proposal-.xml.html">Relative CHECKLOCKTIMEVERIFY (was CLTV proposal)</a>
                        <b>Tier Nolan 2015-05-05 20:38:44</b>
                    </li>
                
                    <li>
                        <a href="/bitcoin-dev/May_2015/007861_Relative-CHECKLOCKTIMEVERIFY-was-CLTV-proposal-.xml.html">Relative CHECKLOCKTIMEVERIFY (was CLTV proposal)</a>
                        <b>Jorge Timón 2015-05-04 11:24:44</b>
                    </li>
                
                    <li>
                        <a href="/bitcoin-dev/March_2015/007714_Relative-CHECKLOCKTIMEVERIFY-was-CLTV-proposal-.xml.html">Relative CHECKLOCKTIMEVERIFY (was CLTV proposal)</a>
                        <b>Matt Corallo 2015-03-16 22:22:13</b>
                    </li>
                
                    <li>
                        <a href="/bitcoin-dev/March_2015/007714_Relative-CHECKLOCKTIMEVERIFY-was-CLTV-proposal-.xml.html">Relative CHECKLOCKTIMEVERIFY (was CLTV proposal)</a>
                        <b>Matt Corallo 2015-03-16 22:22:13</b>
                    </li>
                
                    <li>
                        <a href="/bitcoin-dev/May_2015/007866_Relative-CHECKLOCKTIMEVERIFY-was-CLTV-proposal-.xml.html">Relative CHECKLOCKTIMEVERIFY (was CLTV proposal)</a>
                        <b>Tier Nolan 2015-05-05 20:38:44</b>
                    </li>
                
                    <li>
                        <a href="/bitcoin-dev/May_2015/007858_Relative-CHECKLOCKTIMEVERIFY-was-CLTV-proposal-.xml.html">Relative CHECKLOCKTIMEVERIFY (was CLTV proposal)</a>
                        <b>Matt Corallo 2015-05-04 02:15:47</b>
                    </li>
                
                    <li>
                        <a href="/bitcoin-dev/May_2015/007861_Relative-CHECKLOCKTIMEVERIFY-was-CLTV-proposal-.xml.html">Relative CHECKLOCKTIMEVERIFY (was CLTV proposal)</a>
                        <b>Jorge Timón 2015-05-04 11:24:44</b>
                    </li>
                
                    <li>
                        <a href="/bitcoin-dev/April_2015/007822_Relative-CHECKLOCKTIMEVERIFY-was-CLTV-proposal-.xml.html">Relative CHECKLOCKTIMEVERIFY (was CLTV proposal)</a>
                        <b>Jorge Timón 2015-04-26 11:35:33</b>
                    </li>
                
                    <li>
                        <a href="/bitcoin-dev/April_2015/007822_Relative-CHECKLOCKTIMEVERIFY-was-CLTV-proposal-.xml.html">Relative CHECKLOCKTIMEVERIFY (was CLTV proposal)</a>
                        <b>Jorge Timón 2015-04-26 11:35:33</b>
                    </li>
                
                    <li>
                        <a href="/bitcoin-dev/April_2015/007823_Relative-CHECKLOCKTIMEVERIFY-was-CLTV-proposal-.xml.html">Relative CHECKLOCKTIMEVERIFY (was CLTV proposal)</a>
                        <b>Jorge Timón 2015-04-26 12:20:04</b>
                    </li>
                
                    <li>
                        <a href="/bitcoin-dev/April_2015/007836_Relative-CHECKLOCKTIMEVERIFY-was-CLTV-proposal-.xml.html">Relative CHECKLOCKTIMEVERIFY (was CLTV proposal)</a>
                        <b>Peter Todd 2015-04-27 19:35:26</b>
                    </li>
                
                    <li>
                        <a href="/bitcoin-dev/March_2015/007714_Relative-CHECKLOCKTIMEVERIFY-was-CLTV-proposal-.xml.html">Relative CHECKLOCKTIMEVERIFY (was CLTV proposal)</a>
                        <b>Matt Corallo 2015-03-16 22:22:13</b>
                    </li>
                
                    <li>
                        <a href="/bitcoin-dev/March_2015/007719_Relative-CHECKLOCKTIMEVERIFY-was-CLTV-proposal-.xml.html">Relative CHECKLOCKTIMEVERIFY (was CLTV proposal)</a>
                        <b>Zooko Wilcox-OHearn 2015-03-19 17:39:09</b>
                    </li>
                
                    <li>
                        <a href="/bitcoin-dev/May_2015/007862_Relative-CHECKLOCKTIMEVERIFY-was-CLTV-proposal-.xml.html">Relative CHECKLOCKTIMEVERIFY (was CLTV proposal)</a>
                        <b>Btc Drak 2015-05-05 00:41:52</b>
                    </li>
                
                    <li>
                        <a href="/bitcoin-dev/May_2015/007865_Relative-CHECKLOCKTIMEVERIFY-was-CLTV-proposal-.xml.html">Relative CHECKLOCKTIMEVERIFY (was CLTV proposal)</a>
                        <b>Jorge Timón 2015-05-05 19:19:00</b>
                    </li>
                
            
        </ul>
        
            <a href="https://lists.linuxfoundation.org/pipermail/bitcoin-dev/2015-April/007804.html">Click here to read the original discussion on the bitcoin-dev mailing list</a>
        
        <p><i>Published on: 2015-04-21T07:59:12+00:00</i></p>
        <hr>
        <h3>Summary:</h3>
        <p>The email conversations between Bitcoin developers center around proposals for implementing and upgrading op_maturity, CheckLockTimeVerify (CLTV), and Relative CheckLockTime Verify (RCLTV). The discussions explore various possibilities for implementation such as using current block height/time or against nLockTime. Some proposals are not reorg-safe, which raises concerns about the exposure of transaction information inside the script. The developers also discuss potential risks and benefits of the changes and ways to ensure backward compatibility. One proposal involves adding OP_RELATIVECHECKLOCKTIMEVERIFY (RCLTV) to Bitcoin's script language. A major concern is making sure that the implementation is reorg-safe and does not expose too much transaction information inside the script. The proposed new opcode would allow a transaction output to be unlocked if the input being spent is at least N blocks old, plus the height of the output being spent. Another proposal suggests modifying class CTxIn by replacing the deprecated nSequence with nHeight, which would avoid using utxo in script verification. However, this implementation is not reorg-safe, but it can be made backwards-compatible and reorg-safe by introducing a new validation rule at the tx validation level. Additionally, there are suggestions to modify class CTxIn to keep utxo out of Script verification and to use relative locktime instead of absolute locktime in order to avoid race conditions. The conversation also revolves around implementing CheckLockTimeVerify (CLTV) as-is in a soft-fork or upgrading op_maturity to absolute CLTV while taking the current height as a parameter to verifyScript. The potential issues and compromises that come with implementing RCLTV are discussed, such as exposing more transaction information inside the script and needing to make sure the new nVersion soft-fork mechanism works. There are also debates about whether timestamps should be dropped and whether absolute CLTV should check against nLockTime if RCLTV is implemented against current block height/time. The goal seems to be finding the best way to implement and upgrade these features while minimizing risks and maximizing benefits.In an email discussion on May 4, 2015, Jorge Timón describes his attempt to fix a proposal by Mark Friedenbach regarding RCLTV (Relative CheckLockTime Verify). However, he realized that the proposal did not need fixing as it was already reorg safe. This means that there is no need for the 100 block restriction and script validation can be kept independent from the utxo. Later in the thread, Peter Todd suggested implementing CheckLockTimeVerify (CLTV) as-is in a soft-fork, citing its simplicity and easy-to-audit implementation. A new opcode called CHECKLOCKTIMEVERIFY has been proposed for the Bitcoin scripting system, but it has two major drawbacks. Despite these issues, CHECKLOCKTIMEVERIFY can be used in non-interactive time-locked refunds, two-factor wallets, and micropayment channels. Zooko is in favor of using relative CHECKLOCKTIMEVERIFY instead of absolute CHECKLOCKTIMEVERIFY because he has a vague worry about the possibility of "race conditions" where a transaction with an absolute CHECKLOCKTIMEVERIFY goes into the blockchain later than expected.In another email conversation, Jorge Timón and an unknown person discuss the possibility of keeping utxo out of Script verification by modifying class CTxIn. The suggestion is to replace the deprecated nSequence with nHeight, which would require all new CTxIn to set nHeight to the correct height in which its corresponding prevout got into the chain. However, this implementation is not reorg-safe. In a discussion about Mark Friedenbach's nSequence-based RCLTV proposal, Jorge Timón attempted to explain an additional way to make the timestamp compatible with it. Nonetheless, he noted that ACLTV can also work with timestamps. Overall, the developers are working towards finding the best solutions to improve Bitcoin's security against reorganization while minimizing risks and maximizing benefits. The discussions involve exploring various possibilities for implementation, identifying potential risks and benefits, and debating different approaches to ensure backward compatibility and avoid race conditions.</p>
        <hr>
        <p><i>Updated on: 2023-06-09T18:50:31.740768+00:00</i></p>
    

    

    <footer>
        <span style="font-family: Arial, Helvetica, sans-serif;">&#10084;&#65039;</span> <a href="https://chaincode.com" target="_blank" rel="noreferrer" style="text-decoration: none; color: inherit;">Chaincode</a>
    </footer>
</body>

</html>