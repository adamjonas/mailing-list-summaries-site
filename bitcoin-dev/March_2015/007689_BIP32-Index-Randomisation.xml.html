<!doctype html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="Content-Type" content="text/html; charset=us-ascii">
    <title>Atom Feed Display</title>
    <link rel="stylesheet" href="../../archive_styles.css">
</head>

<body BGCOLOR="#fffffb">
    
    <h1>BIP32 Index Randomisation</h1>
    <hr class="solid">
    
    <ul>
        
        
            <p><b>Author:</b> Gregory Maxwell 2015-03-13 04:01:45
            <br><i>Published on: 2015-03-13T04:01:45+00:00</i></p>

        
        

        
        
        <li>
        <a href="/bitcoin-dev/March_2015/combined_BIP32-Index-Randomisation.xml.html"> Combined Summary of all posts in thread </a>
        </li>
        
        <li>
            
                <a href="https://lists.linuxfoundation.org/pipermail/bitcoin-dev/2015-March/007689.html">Click here to read original discussion on the bitcoin-dev mailing list</a>
            
        </li>

    </ul>

    <hr>
    <h3> Summary:</h3>
    <p>Matias Alejo Garcia wrote on the Bitcoin-development mailing list about Bitcore-wallet-server (BWS), a HD multisig wallet 'facilitator'. They are using BIP32 paths to hold the set of extended public keys of the wallet's peers to derive addresses. This is a problem from the privacy point of view, so they thought of using pseudo-random BIP32 paths with a seed only known by the peers. This way the server will be able to verify that addresses submitted by peers belong to the wallet but will not be able to derive future wallet addresses. The seed could be derived from hashes of their xprivs so wallet funds can still be recovered with the complete set of xprivs or the quorum of xprivs plus the complete set of xpubs and the address seed. A suggestion was made by Peter Todd to give the server the master pubkey P only without the chaincode. When transacting, generate the address in whatever manner one likes and tell the server the scalar value iL which the user computes as iL = HMAC-SHA512(Key=cpar, Data=serP(Kpar) || ser32(i))[first 32 bytes], per BIP 32. Then the server computes P + iL*G and checks agreement with the address. It would be more private than giving people the chain code. The approach suggested is also not gratuitously incompatible with hardened derivation.</p>
    <hr>
    <p><i> Updated on: 2023-05-19T19:52:09.348772+00:00 </i></p>
    
    

    <footer>
        <span style="font-family: Arial, Helvetica, sans-serif;">&#10084;&#65039;</span> <a href="https://chaincode.com" target="_blank" rel="noreferrer" style="text-decoration: none; color: inherit;">Chaincode</a>
    </footer>
</body>

</html>