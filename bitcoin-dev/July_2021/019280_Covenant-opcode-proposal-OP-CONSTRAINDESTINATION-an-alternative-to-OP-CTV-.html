<!doctype html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="Content-Type" content="text/html; charset=us-ascii">
    <title>Atom Feed Display</title>
    <link rel="stylesheet" href="../../archive_styles.css">
</head>

<body BGCOLOR="#fffffb">
    
    <h1>Covenant opcode proposal OP_CONSTRAINDESTINATION (an alternative to OP_CTV)</h1>
    <hr class="solid">
    
    <ul>
        
        
            <p><b>Author:</b> David A. Harding 2021-07-26 00:05:53
            <br><i>Published on: 2021-07-26T00:05:53+00:00</i></p>

        
        

        
        
        <li>
        <a href="/bitcoin-dev/July_2021/combined_Covenant-opcode-proposal-OP-CONSTRAINDESTINATION-an-alternative-to-OP-CTV-.html"> Combined Summary of all posts in thread </a>
        </li>
        
        <li>
            
                <a href="https://lists.linuxfoundation.org/pipermail/bitcoin-dev/2021-July/019280.html">Click here to read original discussion on the bitcoin-dev mailing list</a>
            
        </li>

    </ul>

    <hr>
    <h3> Summary:</h3>
    <p>In an email exchange on July 25th, 2021, Billy Tetrud proposed calculating the median fee-rate for each block and then taking the average of those stored per-block median numbers. He suggested that one datapoint per block seems fine and it works well with pruned nodes. However, Dave disagrees with Tetrud’s suggestion. He believes that miners may have the opportunity to raise the fee rate in certain situations, such as griefing situations, which could be rare but still significant. While miners and users are often viewed as separate entities, it’s essential to remember that every miner is also a user of Bitcoin, and every Bitcoin user may someday become a miner. Users may even employ miners directly through out-of-band payments. Dave then provides an example use case where Bob wants to store 100,000 BTC in his vault. If Mallory steals Bob's encumbered spending key, she could approach a miner and offer them a 50/50 split on the fees over the median (~10,000 sat?). Alternatively, she could take more time and work with a cartel of miners to raise the median over a period of three weeks (3k blocks) to 10,000 BTC/transaction, allowing them to take all of Bob's coins in fees. Regarding the topic of OP_CD managing fees, Dave suggests that if OP_CD allowed spending the entire output as a fee, it wouldn't be successful in constraining the destination to the listed addresses. Thus, another mechanism for paying fees would need to be provided anyway. Therefore, he believes there is no need for OP_CD to manage fees, although he doesn't have a strong opinion on the matter.</p>
    <hr>
    <p><i> Updated on: 2023-06-15T00:23:38.267922+00:00 </i></p>
    
    

    <footer>
        <span style="font-family: Arial, Helvetica, sans-serif;">&#10084;&#65039;</span> <a href="https://chaincode.com" target="_blank" rel="noreferrer" style="text-decoration: none; color: inherit;">Chaincode</a>
    </footer>
</body>

</html>