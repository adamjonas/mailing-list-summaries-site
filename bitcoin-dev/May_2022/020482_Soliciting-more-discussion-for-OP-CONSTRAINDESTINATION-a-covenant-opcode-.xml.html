<!doctype html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="Content-Type" content="text/html; charset=us-ascii">
    <title>Atom Feed Display</title>
    <link rel="stylesheet" href="../../archive_styles.css">
</head>

<body BGCOLOR="#fffffb">
    
    <h1>Soliciting more discussion for OP_CONSTRAINDESTINATION (a covenant opcode)</h1>
    <hr class="solid">
    
    <ul>
        
        
            <p><b>Author:</b> Billy Tetrud 2022-05-13 13:05:47
            <br><i>Published on: 2022-05-13T13:05:47+00:00</i></p>

        
        

        
        
        <li>
        <a href="/bitcoin-dev/May_2022/combined_Soliciting-more-discussion-for-OP-CONSTRAINDESTINATION-a-covenant-opcode-.xml.html"> Combined Summary of all posts in thread </a>
        </li>
        
        <li>
            
                <a href="https://lists.linuxfoundation.org/pipermail/bitcoin-dev/2022-May/020482.html">Click here to read original discussion on the bitcoin-dev mailing list</a>
            
        </li>

    </ul>

    <hr>
    <h3> Summary:</h3>
    <p>The author proposes an opcode, OP_CONSTRAINDESTINATION, as a potentially useful addition to the discussion of covenants and alternative covenant proposals. The proposed opcode is fully enumerated and enables infinitely recursive covenants, but does not prevent malleability on its own. It offers more flexibility than OP_CTV in the creation of wallet vaults and allows for spends from a wallet vault that can spend arbitrary amounts and send the rest back to a change address, among other benefits.However, there are some downsides compared to OP_CTV, including increased implementation complexity and complexity of the possibility space. The opcode's main purpose of ensuring that only certain addresses are sent to might be simpler than CTV, but the aspect of counting output values pushes it into more complex territory.The opcode requires some mechanism for fee limiting, and the proposed solution is to add an additional opcode called OP_LIMITFEECONTRIBUTION. The author also discusses the potential use of sponsor transactions alongside the opcode to pay fees.The combination of OP_CONSTRAINDESTINATION and OP_PUSHOUTPUTSTACK allows the creation of even better wallet vaults, but substantially increases complexity due to being able to push dynamic state onto transactions, which substantially increases the possibility space of covenant chains.Overall, the author believes that wallet vaults are a very important mechanism to enable much more secure self-custody setups without sacrificing so much usability as normal multisig wallets require. They believe that making it easier for people to securely self-custody their bitcoins is an incredibly important area of development, and even if some other covenant opcode makes CTV completely obsolete, a 4-6 year head start on better self-custody mechanisms could go a long way to saving a lot of people who need bitcoin a lot of pain.</p>
    <hr>
    <p><i> Updated on: 2023-05-22T20:01:43.571123+00:00 </i></p>
    
    

    <footer>
        <span style="font-family: Arial, Helvetica, sans-serif;">&#10084;&#65039;</span> <a href="https://chaincode.com" target="_blank" rel="noreferrer" style="text-decoration: none; color: inherit;">Chaincode</a>
    </footer>
</body>

</html>