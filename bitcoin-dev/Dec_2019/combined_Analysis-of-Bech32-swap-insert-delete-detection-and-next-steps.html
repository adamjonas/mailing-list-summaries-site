<!doctype html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="Content-Type" content="text/html; charset=us-ascii">
    <title>Atom Feed Display</title>
    <link rel="stylesheet" href="../../archive_styles.css">
</head>

<body BGCOLOR="#fffffb">
    
    <h1>Analysis of Bech32 swap/insert/delete detection and next steps <span class="combined-summary">[combined summary]</span></h1>
    <hr class="solid">
    <br><b>Individual post summaries:</b>
    
        <ul>
            
                
                    <li>
                        <a href="/bitcoin-dev/Dec_2019/017523_Analysis-of-Bech32-swap-insert-delete-detection-and-next-steps.html">Analysis of Bech32 swap/insert/delete detection and next steps</a>
                        <b>Pieter Wuille 2019-12-10 06:36:20+00:00</b>
                    </li>
                
                    <li>
                        <a href="/bitcoin-dev/Dec_2019/017522_Analysis-of-Bech32-swap-insert-delete-detection-and-next-steps.html">Analysis of Bech32 swap/insert/delete detection and next steps</a>
                        <b>ZmnSCPxj 2019-12-10 01:50:38+00:00</b>
                    </li>
                
                    <li>
                        <a href="/bitcoin-dev/Dec_2019/017521_Analysis-of-Bech32-swap-insert-delete-detection-and-next-steps.html">Analysis of Bech32 swap/insert/delete detection and next steps</a>
                        <b>Pieter Wuille 2019-12-09 22:31:13+00:00</b>
                    </li>
                
            
        </ul>
        
            <a href="https://lists.linuxfoundation.org/pipermail/bitcoin-dev/2019-December/017523.html">Click here to read the original discussion on the bitcoin-dev mailing list</a>
        
        <p><i>Published on: 2019-12-10T06:36:20+00:00</i></p>
        <hr>
        <h3>Summary:</h3>
        <p>Pieter, in a detailed analysis, has examined the detection abilities of Bech32, a type of address format used in cryptocurrencies. He found that the only deviation from the expected failure to detect errors occurs when a 'q' is inserted or deleted right before a final 'p'. This specific issue can be resolved by changing one constant in Bech32 without affecting its ability to detect other types of errors.To address this insertion weakness, Pieter suggests making several changes. Firstly, he recommends adding an erratum section to BIP173, which is the Bitcoin Improvement Proposal for Bech32 addresses, to document the issue and its analysis. This would help raise awareness and provide guidance on how to handle this weakness.Secondly, Pieter proposes amending SegWit addresses, which are a type of address format used in Bitcoin, to restrict them to only length 20 or 32. By doing so, the addresses will become fixed-length strings and will be unaffected by the insertion issue. This change would enhance the security and reliability of SegWit addresses.In addition, Pieter suggests defining a variant of Bech32 with the modified constant. This would allow non-BIP173 uses of Bech32 to choose a version that is not impacted by this particular class of errors. It provides flexibility for those who are concerned about the insertion weakness but still want to use Bech32 for their applications.Furthermore, Pieter highlights the importance of defining two variants of checksum for readers of Bech32-based formats. Both variants should be supported to ensure compatibility. The current Bech32 checksum should be flagged or signaled with a deprecation warning if detected, and at some point in the future, support for the current checksum should be dropped. These measures would help transition smoothly to the modified Bech32 variant.Lastly, Pieter suggests that using the modified Bech32 variant should only be implemented if there is a need for non-32-byte witness programs for a particular non-zero SegWit version. This ensures that the modified variant is used appropriately and only when necessary.Pieter believes that implementing these changes will have minimal impact on production systems, as many wallets already do not accept unknown witness versions in outputs. He also mentions that it gives us probably years to adapt to the updated address scheme. Overall, these proposed steps aim to address the insertion weakness issue in BIP173 and SegWit addresses, enhancing the security and reliability of Bech32-based formats.</p>
        <hr>
        <p><i>Updated on: 2023-08-02T01:42:19.625908+00:00</i></p>
    

    

    <footer>
        <span style="font-family: Arial, Helvetica, sans-serif;">&#10084;&#65039;</span> <a href="https://chaincode.com" target="_blank" rel="noreferrer" style="text-decoration: none; color: inherit;">Chaincode</a>
    </footer>
</body>

</html>