<!doctype html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="Content-Type" content="text/html; charset=us-ascii">
    <title>Atom Feed Display</title>
    <link rel="stylesheet" href="../../archive_styles.css">
</head>

<body BGCOLOR="#fffffb">
    
    <h1>RFC: extend signmessage/verifymessage to P2SH multisig</h1>
    <hr class="solid">
    
    <ul>
        
        
            <p><b>Author:</b> Peter Todd 2013-04-14 05:09:58
            <br><i>Published on: 2013-04-14T05:09:58+00:00</i></p>

        
        

        
        
        <li>
        <a href="/bitcoin-dev/April_2013/combined_RFC-extend-signmessage-verifymessage-to-P2SH-multisig.xml.html"> Combined Summary of all posts in thread </a>
        </li>
        
        <li>
            
                <a href="https://lists.linuxfoundation.org/pipermail/bitcoin-dev/2013-April/002406.html">Click here to read original discussion on the bitcoin-dev mailing list</a>
            
        </li>

    </ul>

    <hr>
    <h3> Summary:</h3>
    <p>The current signmessage/verifymessage only supports messages signed by a single key. However, it is proposed that this should be extended to support messages signed by n-of-m keys or P2SH multisig addresses. rpc.cpp:signmessage() returns the output of SignCompact(), which starts with a header byte marking the signs of the various keys to enable key recovery. For multisig signmessage signatures, each signature or key can be in the form of sig, compressed key, or uncompressed key. Despite not being used for a given signature, all pubkeys must be provided to allow the P2SH address to be reconstructed. The decoding/encoding process is code-intensive due to the numerous cases; however, this format keeps the size down to an absolute minimum. Alternatively, length bytes could be used. The format is backward compatible in the sense that older versions will fail safely on new signatures, even ones that have been truncated. New signatures are easily distinguished from old, and if another signature format is needed in the future, the leading byte can be incremented. In addition, signing incomplete signatures on messages can be handled by converting pubkeys to signatures. Furthermore, the RPC signmessage command can be extended with an optional "existing signature" option.</p>
    <hr>
    <p><i> Updated on: 2023-06-06T14:55:26.518059+00:00 </i></p>
    
    

    <footer>
        <span style="font-family: Arial, Helvetica, sans-serif;">&#10084;&#65039;</span> <a href="https://chaincode.com" target="_blank" rel="noreferrer" style="text-decoration: none; color: inherit;">Chaincode</a>
    </footer>
</body>

</html>