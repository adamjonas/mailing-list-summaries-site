<!doctype html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="Content-Type" content="text/html; charset=us-ascii">
    <title>Atom Feed Display</title>
    <link rel="stylesheet" href="../../archive_styles.css">
</head>

<body BGCOLOR="#fffffb">
    
    <h1>Lexicographical Indexing of Transaction Inputs and Outputs <span class="combined-summary">[combined summary]</span></h1>
    <hr class="solid">
    <br><b>Individual post summaries:</b>
    
        <ul>
            
                
                    <li>
                        <a href="/bitcoin-dev/June_2015/008607_Lexicographical-Indexing-of-Transaction-Inputs-and-Outputs.xml.html">Lexicographical Indexing of Transaction Inputs and Outputs</a>
                        <b>Kristov Atlas 2015-06-12 21:36:56</b>
                    </li>
                
                    <li>
                        <a href="/bitcoin-dev/June_2015/008512_Lexicographical-Indexing-of-Transaction-Inputs-and-Outputs.xml.html">Lexicographical Indexing of Transaction Inputs and Outputs</a>
                        <b>Kristov Atlas 2015-06-07 00:06:56</b>
                    </li>
                
                    <li>
                        <a href="/bitcoin-dev/June_2015/008484_Lexicographical-Indexing-of-Transaction-Inputs-and-Outputs.xml.html">Lexicographical Indexing of Transaction Inputs and Outputs</a>
                        <b>Kristov Atlas 2015-06-06 00:12:08</b>
                    </li>
                
                    <li>
                        <a href="/bitcoin-dev/June_2015/008489_Lexicographical-Indexing-of-Transaction-Inputs-and-Outputs.xml.html">Lexicographical Indexing of Transaction Inputs and Outputs</a>
                        <b>Kristov Atlas 2015-06-06 06:24:47</b>
                    </li>
                
                    <li>
                        <a href="/bitcoin-dev/June_2015/008567_Lexicographical-Indexing-of-Transaction-Inputs-and-Outputs.xml.html">Lexicographical Indexing of Transaction Inputs and Outputs</a>
                        <b>Kristov Atlas 2015-06-10 23:36:22</b>
                    </li>
                
                    <li>
                        <a href="/bitcoin-dev/June_2015/008567_Lexicographical-Indexing-of-Transaction-Inputs-and-Outputs.xml.html">Lexicographical Indexing of Transaction Inputs and Outputs</a>
                        <b>Kristov Atlas 2015-06-10 23:36:22</b>
                    </li>
                
                    <li>
                        <a href="/bitcoin-dev/June_2015/008512_Lexicographical-Indexing-of-Transaction-Inputs-and-Outputs.xml.html">Lexicographical Indexing of Transaction Inputs and Outputs</a>
                        <b>Kristov Atlas 2015-06-07 00:06:56</b>
                    </li>
                
                    <li>
                        <a href="/bitcoin-dev/June_2015/008532_Lexicographical-Indexing-of-Transaction-Inputs-and-Outputs.xml.html">Lexicographical Indexing of Transaction Inputs and Outputs</a>
                        <b>Kristov Atlas 2015-06-08 22:53:54</b>
                    </li>
                
                    <li>
                        <a href="/bitcoin-dev/June_2015/008607_Lexicographical-Indexing-of-Transaction-Inputs-and-Outputs.xml.html">Lexicographical Indexing of Transaction Inputs and Outputs</a>
                        <b>Kristov Atlas 2015-06-12 21:36:56</b>
                    </li>
                
                    <li>
                        <a href="/bitcoin-dev/June_2015/008642_Lexicographical-Indexing-of-Transaction-Inputs-and-Outputs.xml.html">Lexicographical Indexing of Transaction Inputs and Outputs</a>
                        <b>Kristov Atlas 2015-06-14 16:29:37</b>
                    </li>
                
                    <li>
                        <a href="/bitcoin-dev/June_2015/008540_Lexicographical-Indexing-of-Transaction-Inputs-and-Outputs.xml.html">Lexicographical Indexing of Transaction Inputs and Outputs</a>
                        <b>Peter Todd 2015-06-09 20:14:36</b>
                    </li>
                
                    <li>
                        <a href="/bitcoin-dev/June_2015/008567_Lexicographical-Indexing-of-Transaction-Inputs-and-Outputs.xml.html">Lexicographical Indexing of Transaction Inputs and Outputs</a>
                        <b>Kristov Atlas 2015-06-10 23:36:22</b>
                    </li>
                
                    <li>
                        <a href="/bitcoin-dev/June_2015/008485_Lexicographical-Indexing-of-Transaction-Inputs-and-Outputs.xml.html">Lexicographical Indexing of Transaction Inputs and Outputs</a>
                        <b>Stephen 2015-06-06 03:20:38</b>
                    </li>
                
                    <li>
                        <a href="/bitcoin-dev/June_2015/008706_Lexicographical-Indexing-of-Transaction-Inputs-and-Outputs.xml.html">Lexicographical Indexing of Transaction Inputs and Outputs</a>
                        <b>Rusty Russell 2015-06-15 21:42:14</b>
                    </li>
                
                    <li>
                        <a href="/bitcoin-dev/June_2015/008513_Lexicographical-Indexing-of-Transaction-Inputs-and-Outputs.xml.html">Lexicographical Indexing of Transaction Inputs and Outputs</a>
                        <b>Peter Todd 2015-06-07 02:35:23</b>
                    </li>
                
                    <li>
                        <a href="/bitcoin-dev/June_2015/008532_Lexicographical-Indexing-of-Transaction-Inputs-and-Outputs.xml.html">Lexicographical Indexing of Transaction Inputs and Outputs</a>
                        <b>Kristov Atlas 2015-06-08 22:53:54</b>
                    </li>
                
                    <li>
                        <a href="/bitcoin-dev/June_2015/008540_Lexicographical-Indexing-of-Transaction-Inputs-and-Outputs.xml.html">Lexicographical Indexing of Transaction Inputs and Outputs</a>
                        <b>Peter Todd 2015-06-09 20:14:36</b>
                    </li>
                
                    <li>
                        <a href="/bitcoin-dev/June_2015/008642_Lexicographical-Indexing-of-Transaction-Inputs-and-Outputs.xml.html">Lexicographical Indexing of Transaction Inputs and Outputs</a>
                        <b>Kristov Atlas 2015-06-14 16:29:37</b>
                    </li>
                
                    <li>
                        <a href="/bitcoin-dev/June_2015/008485_Lexicographical-Indexing-of-Transaction-Inputs-and-Outputs.xml.html">Lexicographical Indexing of Transaction Inputs and Outputs</a>
                        <b>Stephen 2015-06-06 03:20:38</b>
                    </li>
                
                    <li>
                        <a href="/bitcoin-dev/June_2015/008540_Lexicographical-Indexing-of-Transaction-Inputs-and-Outputs.xml.html">Lexicographical Indexing of Transaction Inputs and Outputs</a>
                        <b>Peter Todd 2015-06-09 20:14:36</b>
                    </li>
                
                    <li>
                        <a href="/bitcoin-dev/June_2015/008642_Lexicographical-Indexing-of-Transaction-Inputs-and-Outputs.xml.html">Lexicographical Indexing of Transaction Inputs and Outputs</a>
                        <b>Kristov Atlas 2015-06-14 16:29:37</b>
                    </li>
                
                    <li>
                        <a href="/bitcoin-dev/June_2015/008513_Lexicographical-Indexing-of-Transaction-Inputs-and-Outputs.xml.html">Lexicographical Indexing of Transaction Inputs and Outputs</a>
                        <b>Peter Todd 2015-06-07 02:35:23</b>
                    </li>
                
                    <li>
                        <a href="/bitcoin-dev/June_2015/008532_Lexicographical-Indexing-of-Transaction-Inputs-and-Outputs.xml.html">Lexicographical Indexing of Transaction Inputs and Outputs</a>
                        <b>Kristov Atlas 2015-06-08 22:53:54</b>
                    </li>
                
                    <li>
                        <a href="/bitcoin-dev/June_2015/008533_Lexicographical-Indexing-of-Transaction-Inputs-and-Outputs.xml.html">Lexicographical Indexing of Transaction Inputs and Outputs</a>
                        <b>Kristov Atlas 2015-06-08 22:55:57</b>
                    </li>
                
                    <li>
                        <a href="/bitcoin-dev/June_2015/008706_Lexicographical-Indexing-of-Transaction-Inputs-and-Outputs.xml.html">Lexicographical Indexing of Transaction Inputs and Outputs</a>
                        <b>Rusty Russell 2015-06-15 21:42:14</b>
                    </li>
                
                    <li>
                        <a href="/bitcoin-dev/June_2015/008607_Lexicographical-Indexing-of-Transaction-Inputs-and-Outputs.xml.html">Lexicographical Indexing of Transaction Inputs and Outputs</a>
                        <b>Kristov Atlas 2015-06-12 21:36:56</b>
                    </li>
                
                    <li>
                        <a href="/bitcoin-dev/June_2015/008513_Lexicographical-Indexing-of-Transaction-Inputs-and-Outputs.xml.html">Lexicographical Indexing of Transaction Inputs and Outputs</a>
                        <b>Peter Todd 2015-06-07 02:35:23</b>
                    </li>
                
                    <li>
                        <a href="/bitcoin-dev/June_2015/008533_Lexicographical-Indexing-of-Transaction-Inputs-and-Outputs.xml.html">Lexicographical Indexing of Transaction Inputs and Outputs</a>
                        <b>Kristov Atlas 2015-06-08 22:55:57</b>
                    </li>
                
                    <li>
                        <a href="/bitcoin-dev/June_2015/008484_Lexicographical-Indexing-of-Transaction-Inputs-and-Outputs.xml.html">Lexicographical Indexing of Transaction Inputs and Outputs</a>
                        <b>Kristov Atlas 2015-06-06 00:12:08</b>
                    </li>
                
                    <li>
                        <a href="/bitcoin-dev/June_2015/008485_Lexicographical-Indexing-of-Transaction-Inputs-and-Outputs.xml.html">Lexicographical Indexing of Transaction Inputs and Outputs</a>
                        <b>Stephen 2015-06-06 03:20:38</b>
                    </li>
                
                    <li>
                        <a href="/bitcoin-dev/June_2015/008489_Lexicographical-Indexing-of-Transaction-Inputs-and-Outputs.xml.html">Lexicographical Indexing of Transaction Inputs and Outputs</a>
                        <b>Kristov Atlas 2015-06-06 06:24:47</b>
                    </li>
                
                    <li>
                        <a href="/bitcoin-dev/June_2015/008533_Lexicographical-Indexing-of-Transaction-Inputs-and-Outputs.xml.html">Lexicographical Indexing of Transaction Inputs and Outputs</a>
                        <b>Kristov Atlas 2015-06-08 22:55:57</b>
                    </li>
                
                    <li>
                        <a href="/bitcoin-dev/June_2015/008484_Lexicographical-Indexing-of-Transaction-Inputs-and-Outputs.xml.html">Lexicographical Indexing of Transaction Inputs and Outputs</a>
                        <b>Kristov Atlas 2015-06-06 00:12:08</b>
                    </li>
                
                    <li>
                        <a href="/bitcoin-dev/June_2015/008489_Lexicographical-Indexing-of-Transaction-Inputs-and-Outputs.xml.html">Lexicographical Indexing of Transaction Inputs and Outputs</a>
                        <b>Kristov Atlas 2015-06-06 06:24:47</b>
                    </li>
                
                    <li>
                        <a href="/bitcoin-dev/June_2015/008512_Lexicographical-Indexing-of-Transaction-Inputs-and-Outputs.xml.html">Lexicographical Indexing of Transaction Inputs and Outputs</a>
                        <b>Kristov Atlas 2015-06-07 00:06:56</b>
                    </li>
                
                    <li>
                        <a href="/bitcoin-dev/June_2015/008706_Lexicographical-Indexing-of-Transaction-Inputs-and-Outputs.xml.html">Lexicographical Indexing of Transaction Inputs and Outputs</a>
                        <b>Rusty Russell 2015-06-15 21:42:14</b>
                    </li>
                
            
        </ul>
        
            <a href="https://lists.linuxfoundation.org/pipermail/bitcoin-dev/2015-June/008607.html">Click here to read the original discussion on the bitcoin-dev mailing list</a>
        
        <p><i>Published on: 2015-06-12T21:36:56+00:00</i></p>
        <hr>
        <h3>Summary:</h3>
        <p>Kristov Atlas, a security engineer at Blockchain.info and contributor to the Open Bitcoin Privacy Project, has proposed a Bitcoin Improvement Proposal (BIP) to standardize the sorting of transaction inputs and outputs for privacy and security reasons. The proposal aims to reduce the discernible blockchain fingerprint of wallet clients and prevent them from leaking private information about their users. Currently, there is no standard for Bitcoin wallet clients when ordering transaction inputs and outputs. The proposed solution recommends deterministic lexicographical sorting using hashes of previous transactions and output indices to sort transaction inputs, as well as value and locking scripts to sort transaction outputs. The BIP applies to transactions where SIGHASH_ALL is used, with the exact input and output order committed to by signatures. In the case of SIGHASH_ANYONECANPAY or SIGHASH_NONE, compliant software should still emit sorted inputs and outputs, although these may later be modified by others. If new signature hash types are introduced in the future, the lexographic ordering principle should be applied analogously.Peter Todd provided feedback on the BIP, suggesting that it is better to present the BIP in terms of a generic statement, while Kristov updated the language accordingly. Todd also recommended removing the "handling input/output deps" section. Additionally, Todd suggested simplifying the ordering algorithm by sorting txids as little-endian byte arrays using the bytearr_cmp() function, and sorting outputs by output amount instead of P2PKH locking script. He also pointed out an error in the statement about the number of bytes in amounts and P2PKH locking script. Finally, Todd mentioned that making this an IsStandard() rule is unlikely for now.The author of the BIP has made requested changes in response to Todd's feedback. The author considered defining the comparison of txids in terms of integers; however, he was concerned that this definition may be ambiguous when applied to a variety of languages and platforms without a similar amount of explanation as currently exists. The algorithm stated in the BIP should target test cases rather than implementation and should leave as little room for ambiguity as possible. The known cases of input/output dependency that must be handled specially include SIGHASH_SINGLE hash type. Regarding a patch implementing deterministic transaction ordering for Bitcoin Core, Todd offered to take care of it since he is a frequent code committer, but if no one else does, Atlas will do it. Rusty Russell has modified his implementation to match Kristov's proposal, which can be found at <a href="https://github.com/rustyrussell/bitcoin/tree/bip-69">https://github.com/rustyrussell/bitcoin/tree/bip-69</a>. The modified implementation compiles but will require testing.BIP 79 has been implemented in the latest release of Electrum, version 2.3.2, and Kristov made a pull request to add this as an informational BIP 79 to the bips directory. Protocols requiring a specified input/output order should consider adapting the goals of this BIP to their specific needs. In an email exchange between Kristov Atlas and Peter Todd, they discussed the applicability of the BIP, with Todd suggesting that it is better to present the BIP in terms of a generic statement. They agreed to simplify the language in the proposal since there are numerous possible scenarios that cannot be predicted. In summary, Kristov Atlas proposes a BIP to standardize the sorting of transaction inputs and outputs for privacy and security reasons. Peter Todd provides feedback on the BIP and suggests focusing on generic statements rather than speculating too much on future uses. Rusty Russell has modified his implementation to match Kristov's proposal, and BIP 79 has been implemented in the latest release of Electrum.</p>
        <hr>
        <p><i>Updated on: 2023-06-09T22:16:45.488137+00:00</i></p>
    

    

    <footer>
        <span style="font-family: Arial, Helvetica, sans-serif;">&#10084;&#65039;</span> <a href="https://chaincode.com" target="_blank" rel="noreferrer" style="text-decoration: none; color: inherit;">Chaincode</a>
    </footer>
</body>

</html>