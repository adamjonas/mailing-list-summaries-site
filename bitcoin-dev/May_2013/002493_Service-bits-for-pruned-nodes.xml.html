<!doctype html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="Content-Type" content="text/html; charset=us-ascii">
    <title>Atom Feed Display</title>
    <link rel="stylesheet" href="../../archive_styles.css">
</head>

<body BGCOLOR="#fffffb">
    
    <h1>Service bits for pruned nodes</h1>
    <hr class="solid">
    
    <ul>
        
        
            <p><b>Author:</b> Pieter Wuille 2013-05-03 12:30:19
            <br><i>Published on: 2013-05-03T12:30:19+00:00</i></p>

        
        

        
        
        <li>
        <a href="/bitcoin-dev/May_2013/combined_Service-bits-for-pruned-nodes.xml.html"> Combined Summary of all posts in thread </a>
        </li>
        
        <li>
            
                <a href="https://lists.linuxfoundation.org/pipermail/bitcoin-dev/2013-May/002493.html">Click here to read original discussion on the bitcoin-dev mailing list</a>
            
        </li>

    </ul>

    <hr>
    <h3> Summary:</h3>
    <p>The discussion is about how to make the P2P protocol not break in the presence of pruning nodes. The idea of allowing additional protocols for block exchange is interesting, but for now, it is better to focus on the immediate solution. Mike Hearn suggests representing the policy as "I keep the last N blocks," and adding a field to the version announcement that announces the actual first block served. The addr broadcasting mechanism cannot be relied upon for fast information exchange. DNS seeds cannot convey this information as well. To solve this, the suggestion is to add a field to addr messages that maintains the number of top blocks served, add a field to version message to announce the actual first block served, and add service bits to separately enable "relaying/verifying node" and "serves (part of) the historic chain." Disconnecting in case something is requested that isn't served seems like an acceptable behavior.The idea of splitting nodes into "storage/bandwidth nodes" and "validating nodes" is discussed. Pieter suggests that these are sufficiently independent functions to start thinking about them as such. With a "last N blocks" in addr messages, storage/bandwidth nodes could just set their advertised history to zero and not have to deal with serving blocks to nodes. It is also suggested that "serving historic data" and "relaying fresh data" are separate responsibilities and there is no need to require them to be combined.</p>
    <hr>
    <p><i> Updated on: 2023-05-19T16:49:33.857355+00:00 </i></p>
    
    

    <footer>
        <span style="font-family: Arial, Helvetica, sans-serif;">&#10084;&#65039;</span> <a href="https://chaincode.com" target="_blank" rel="noreferrer" style="text-decoration: none; color: inherit;">Chaincode</a>
    </footer>
</body>

</html>