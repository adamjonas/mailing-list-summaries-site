<!doctype html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="Content-Type" content="text/html; charset=us-ascii">
    <title>Atom Feed Display</title>
    <link rel="stylesheet" href="../../archive_styles.css">
</head>

<body BGCOLOR="#fffffb">
    
    <h1>Client side coinjoin amount organization with WabiSabi</h1>
    <hr class="solid">
    
    <ul>
        
        
            <p><b>Author:</b> Max Hillebrand 2022-04-06 16:05:08
            <br><i>Published on: 2022-04-06T16:05:08+00:00</i></p>

        
        

        
        
        <li>
        <a href="/bitcoin-dev/April_2022/combined_Client-side-coinjoin-amount-organization-with-WabiSabi.html"> Combined Summary of all posts in thread </a>
        </li>
        
        <li>
            
                <a href="https://lists.linuxfoundation.org/pipermail/bitcoin-dev/2022-April/020202.html">Click here to read original discussion on the bitcoin-dev mailing list</a>
            
        </li>

    </ul>

    <hr>
    <h3> Summary:</h3>
    <p>The Wasabi Wallet team has released the third Wasabi 2.0 release candidate with new code for input selection and amount decomposition aimed at increasing privacy in coinjoin transactions. This new feature allows clients to choose denominations based on a deterministic frequency table of standard denominations for each round. The frequency table represents the likelihood of each denomination being chosen by any user, and serves as a Schelling point for users to make their own decisions.The algorithm decomposes each input into likely denominations using a brute force algorithm. A set of "good" denominations is created, which are those that don't lead to too much change or dust outputs. From this set, a random denomination is selected for each output with the condition that it has a high frequency in the frequency table. The coordinator does not dictate the denominations of the outputs, but rather provides a Schelling point for users to make their own decisions.The result of simulations indicates that the algorithm can decompose up to eight outputs from any input sum using the reduced list of likely denominations. However, there is no rank ordering of possible denominations based on some ambiguity score or entropy score, and the choice is random, leading to not optimal outcomes in some cases. While the new approach to client-side coinjoin coordination protocol like WabiSabi allows for more client-side decision making, it is still a difficult problem. The current implementation uses a combination of random selection and deterministic calculation to select inputs and outputs that result in the best possible anonymity set size and minimum anonscore loss. Nonetheless, further review from experts in the field is welcomed.Links to the input selection code, amount decomposer code, and decomposition simulation are provided for those interested in learning more about these updates.</p>
    <hr>
    <p><i> Updated on: 2023-05-22T19:19:05.862349+00:00 </i></p>
    
    

    <footer>
        <span style="font-family: Arial, Helvetica, sans-serif;">&#10084;&#65039;</span> <a href="https://chaincode.com" target="_blank" rel="noreferrer" style="text-decoration: none; color: inherit;">Chaincode</a>
    </footer>
</body>

</html>