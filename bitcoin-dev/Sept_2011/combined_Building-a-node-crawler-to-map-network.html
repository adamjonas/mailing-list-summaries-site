<!doctype html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="Content-Type" content="text/html; charset=us-ascii">
    <title>Atom Feed Display</title>
    <link rel="stylesheet" href="../../archive_styles.css">
</head>

<body BGCOLOR="#fffffb">
    
    <h1>Building a node crawler to map network <span class="combined-summary">[combined summary]</span></h1>
    <hr class="solid">
    <br><b>Individual post summaries:</b>
    
        <ul>
            
                
                    <li>
                        <a href="/bitcoin-dev/Sept_2011/000460_Building-a-node-crawler-to-map-network.html">Building a node crawler to map network</a>
                        <b>Steve 2011-09-06 07:42:30</b>
                    </li>
                
                    <li>
                        <a href="/bitcoin-dev/Sept_2011/000461_Building-a-node-crawler-to-map-network.html">Building a node crawler to map network</a>
                        <b>Steve 2011-09-06 08:29:58</b>
                    </li>
                
                    <li>
                        <a href="/bitcoin-dev/Sept_2011/000467_Building-a-node-crawler-to-map-network.html">Building a node crawler to map network</a>
                        <b>Steve 2011-09-06 14:17:29</b>
                    </li>
                
                    <li>
                        <a href="/bitcoin-dev/Sept_2011/000465_Building-a-node-crawler-to-map-network.html">Building a node crawler to map network</a>
                        <b>Steve 2011-09-06 13:27:10</b>
                    </li>
                
                    <li>
                        <a href="/bitcoin-dev/Sept_2011/000467_Building-a-node-crawler-to-map-network.html">Building a node crawler to map network</a>
                        <b>Steve 2011-09-06 14:17:29</b>
                    </li>
                
                    <li>
                        <a href="/bitcoin-dev/Sept_2011/000472_Building-a-node-crawler-to-map-network.html">Building a node crawler to map network</a>
                        <b>Steve 2011-09-06 15:25:09</b>
                    </li>
                
                    <li>
                        <a href="/bitcoin-dev/Sept_2011/000460_Building-a-node-crawler-to-map-network.html">Building a node crawler to map network</a>
                        <b>Steve 2011-09-06 07:42:30</b>
                    </li>
                
                    <li>
                        <a href="/bitcoin-dev/Sept_2011/000462_Building-a-node-crawler-to-map-network.html">Building a node crawler to map network</a>
                        <b>Christian Decker 2011-09-06 08:36:19</b>
                    </li>
                
                    <li>
                        <a href="/bitcoin-dev/Sept_2011/000468_Building-a-node-crawler-to-map-network.html">Building a node crawler to map network</a>
                        <b>Rick Wesson 2011-09-06 14:36:45</b>
                    </li>
                
                    <li>
                        <a href="/bitcoin-dev/Sept_2011/000472_Building-a-node-crawler-to-map-network.html">Building a node crawler to map network</a>
                        <b>Steve 2011-09-06 15:25:09</b>
                    </li>
                
                    <li>
                        <a href="/bitcoin-dev/Sept_2011/000462_Building-a-node-crawler-to-map-network.html">Building a node crawler to map network</a>
                        <b>Christian Decker 2011-09-06 08:36:19</b>
                    </li>
                
                    <li>
                        <a href="/bitcoin-dev/Sept_2011/000464_Building-a-node-crawler-to-map-network.html">Building a node crawler to map network</a>
                        <b>Mike Hearn 2011-09-06 12:49:34</b>
                    </li>
                
                    <li>
                        <a href="/bitcoin-dev/Sept_2011/000465_Building-a-node-crawler-to-map-network.html">Building a node crawler to map network</a>
                        <b>Steve 2011-09-06 13:27:10</b>
                    </li>
                
                    <li>
                        <a href="/bitcoin-dev/Sept_2011/000468_Building-a-node-crawler-to-map-network.html">Building a node crawler to map network</a>
                        <b>Rick Wesson 2011-09-06 14:36:45</b>
                    </li>
                
                    <li>
                        <a href="/bitcoin-dev/Sept_2011/000472_Building-a-node-crawler-to-map-network.html">Building a node crawler to map network</a>
                        <b>Steve 2011-09-06 15:25:09</b>
                    </li>
                
                    <li>
                        <a href="/bitcoin-dev/Sept_2011/000460_Building-a-node-crawler-to-map-network.html">Building a node crawler to map network</a>
                        <b>Steve 2011-09-06 07:42:30</b>
                    </li>
                
                    <li>
                        <a href="/bitcoin-dev/Sept_2011/000461_Building-a-node-crawler-to-map-network.html">Building a node crawler to map network</a>
                        <b>Steve 2011-09-06 08:29:58</b>
                    </li>
                
                    <li>
                        <a href="/bitcoin-dev/Sept_2011/000468_Building-a-node-crawler-to-map-network.html">Building a node crawler to map network</a>
                        <b>Rick Wesson 2011-09-06 14:36:45</b>
                    </li>
                
                    <li>
                        <a href="/bitcoin-dev/Sept_2011/000461_Building-a-node-crawler-to-map-network.html">Building a node crawler to map network</a>
                        <b>Steve 2011-09-06 08:29:58</b>
                    </li>
                
                    <li>
                        <a href="/bitcoin-dev/Sept_2011/000464_Building-a-node-crawler-to-map-network.html">Building a node crawler to map network</a>
                        <b>Mike Hearn 2011-09-06 12:49:34</b>
                    </li>
                
                    <li>
                        <a href="/bitcoin-dev/Sept_2011/000465_Building-a-node-crawler-to-map-network.html">Building a node crawler to map network</a>
                        <b>Steve 2011-09-06 13:27:10</b>
                    </li>
                
                    <li>
                        <a href="/bitcoin-dev/Sept_2011/000469_Building-a-node-crawler-to-map-network.html">Building a node crawler to map network</a>
                        <b>Mike Hearn 2011-09-06 14:52:20</b>
                    </li>
                
                    <li>
                        <a href="/bitcoin-dev/Sept_2011/000466_Building-a-node-crawler-to-map-network.html">Building a node crawler to map network</a>
                        <b>Mike Hearn 2011-09-06 13:31:34</b>
                    </li>
                
                    <li>
                        <a href="/bitcoin-dev/Sept_2011/000469_Building-a-node-crawler-to-map-network.html">Building a node crawler to map network</a>
                        <b>Mike Hearn 2011-09-06 14:52:20</b>
                    </li>
                
                    <li>
                        <a href="/bitcoin-dev/Sept_2011/000462_Building-a-node-crawler-to-map-network.html">Building a node crawler to map network</a>
                        <b>Christian Decker 2011-09-06 08:36:19</b>
                    </li>
                
                    <li>
                        <a href="/bitcoin-dev/Sept_2011/000464_Building-a-node-crawler-to-map-network.html">Building a node crawler to map network</a>
                        <b>Mike Hearn 2011-09-06 12:49:34</b>
                    </li>
                
                    <li>
                        <a href="/bitcoin-dev/Sept_2011/000466_Building-a-node-crawler-to-map-network.html">Building a node crawler to map network</a>
                        <b>Mike Hearn 2011-09-06 13:31:34</b>
                    </li>
                
                    <li>
                        <a href="/bitcoin-dev/Sept_2011/000469_Building-a-node-crawler-to-map-network.html">Building a node crawler to map network</a>
                        <b>Mike Hearn 2011-09-06 14:52:20</b>
                    </li>
                
                    <li>
                        <a href="/bitcoin-dev/Sept_2011/000466_Building-a-node-crawler-to-map-network.html">Building a node crawler to map network</a>
                        <b>Mike Hearn 2011-09-06 13:31:34</b>
                    </li>
                
                    <li>
                        <a href="/bitcoin-dev/Sept_2011/000467_Building-a-node-crawler-to-map-network.html">Building a node crawler to map network</a>
                        <b>Steve 2011-09-06 14:17:29</b>
                    </li>
                
            
        </ul>
        
            <a href="https://lists.linuxfoundation.org/pipermail/bitcoin-dev/2011-September/000460.html">Click here to read the original discussion on the bitcoin-dev mailing list</a>
        
        <p><i>Published on: 2011-09-06T07:42:30+00:00</i></p>
        <hr>
        <h3>Summary:</h3>
        <p>In a discussion on the bitcoinj mailing list, various developers share their progress and seek input on issues related to Bitcoin's scalability and network mapping. One developer is building a node crawler to map the Bitcoin network and store useful statistics such as version messages and results of getaddr for each connected node. The challenge is that most nodes don't accept incoming connections due to the lack of upnp, so an active crawl approach isn't ideal. A honeypot approach is suggested, where a node is made attractive to other nodes to connect to in order to capture non-listening nodes. Alternatively, an easy-to-deploy crawler node could be built that many volunteers could run and upload collected data to a central repository. There are also questions about the getaddr message and how it returns about 1000 addresses.Another issue discussed is the scalability of Bitcoin and how to handle an increase in popularity, with one proposed solution being the use of frontend proxies that can handle outbound tx broadcasts, deduping inbound broadcasts, connection setup, relaying recently found blocks, etc. The conversation also reveals that someone has already built and is running a program that accumulates data, but specifics are not yet widely known. Additionally, the author provides some early results from running v0.0.0.0.0.0.0.0.1 for about an hour, showing new/total/limbo/failed/versions of nodes discovered. Lastly, the discussion starts with Steve questioning the use case of increasing the default max connections for bitcoind without fundamentally altering the concurrency model. Overall, the discussion sheds light on the challenges of scaling Bitcoin and the ongoing efforts to map its network and improve its infrastructure.In a conversation on the bitcoinj mailing list, a commenter expresses interest in contributing to BitCoinJ or experimenting with writing a proxy to sit in front of bitcoind and multiplex connections. The issue at hand is scalability and reducing socket exhaustion as lightweight clients become more popular. One solution discussed is using frontend proxies to handle outbound tx broadcasts, inbound broadcasts, connection setup, relaying recently found blocks, etc. If someone is already running a full node, they could increase their client capacity by bringing up a well-written proxy that could support tens of thousands of simultaneous clients, freeing up bitcoinds time for verification and wallet manipulation.Mike Hearn suggests trying out a proxy that multiplexes connections to reduce socket exhaustion. BitCoinJ uses thread-per-connection right now, but allowing it to use a mix of async io and multi-threading would be an improvement. Changes would need to be made to bitcoind as well to allow for IPs to be forwarded. A developer responds saying that building a pool protocol using protobufs and netty could potentially lead to implementing the kind of multiplexing proxy that Mike is talking about. However, the developer is unsure of the use case and whether the goal is to increase the default max connections of 8 without fundamentally altering the bitcoind concurrency model, or to provide capacity for a more hub/client oriented network. If the latter is the case, then this functionality should ideally be native to the client in the long term in the form of NIO.Lastly, Christian suggests Steve to look at BitDroid, which is an easily extensible network client built on top of NIO and a simple publish-subscribe architecture. It does not have any crypto stuff yet, but Christian built a crawler with just a single class that subscribes to events published and opens/closes connections to crawl.</p>
        <hr>
        <p><i>Updated on: 2023-06-04T19:26:28.663158+00:00</i></p>
    

    

    <footer>
        <span style="font-family: Arial, Helvetica, sans-serif;">&#10084;&#65039;</span> <a href="https://chaincode.com" target="_blank" rel="noreferrer" style="text-decoration: none; color: inherit;">Chaincode</a>
    </footer>
</body>

</html>