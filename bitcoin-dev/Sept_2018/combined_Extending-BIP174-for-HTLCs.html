<!doctype html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="Content-Type" content="text/html; charset=us-ascii">
    <title>Atom Feed Display</title>
    <link rel="stylesheet" href="../../archive_styles.css">
</head>

<body BGCOLOR="#fffffb">
    
    <h1>Extending BIP174 for HTLCs <span class="combined-summary">[combined summary]</span></h1>
    <hr class="solid">
    <br><b>Individual post summaries:</b>
    
        <ul>
            
                
                    <li>
                        <a href="/bitcoin-dev/Sept_2018/016359_Extending-BIP174-for-HTLCs.html">Extending BIP174 for HTLCs</a>
                        <b>Pieter Wuille 2018-09-04 16:57:28+00:00</b>
                    </li>
                
                    <li>
                        <a href="/bitcoin-dev/Sept_2018/016358_Extending-BIP174-for-HTLCs.html">Extending BIP174 for HTLCs</a>
                        <b>Alex Bosworth 2018-09-04 03:24:01+00:00</b>
                    </li>
                
            
        </ul>
        
            <a href="https://lists.linuxfoundation.org/pipermail/bitcoin-dev/2018-September/016359.html">Click here to read the original discussion on the bitcoin-dev mailing list</a>
        
        <p><i>Published on: 2018-09-04T16:57:28+00:00</i></p>
        <hr>
        <h3>Summary:</h3>
        <p>A recent proposal has been discussed on the bitcoin-dev mailing list regarding the addition of fields to the Partially Signed Bitcoin Transactions (PSBT) format tag. The purpose of this proposal is to support Hash Time-Locked Contracts (HTLCs) within the PSBT format. One suggestion put forward is to include two new fields in PSBT: a preimage request field and a revealed preimage field. The proposed workflow involves an updater recognizing an output/script that requires a preimage and subsequently adding a preimage request field to the input. This would be followed by a signer who knows the preimage adding a preimage field after verifying the secret. Finally, a compatible finalizer would combine all signatures and preimages into a final scriptSig/witness stack.However, the proposal acknowledges that dealing with multiple possible satisfactions could complicate matters, particularly when there are numerous combinations to consider. As an alternative approach, it has been suggested to use an easily-parsable subset of script, which includes elements such as and/or/threshold/pubkey/locktimes/hashlocks, instead of modifying the PSBT. The author of the proposal intends to provide more information on this topic soon.The author of the proposal has been actively working on HTLC scripts and has been experimenting with a format tag for Bitcoin Improvement Proposal 174 (BIP 174) to support them. The proposed format entails adding a new input type that defines elements to be inserted in the final p2sh/p2wsh stack, such as preimage or refund path flags. The process begins with the creation of a blank PSBT, which is then updated with redeem/witness scripts, sighashes, and partial signatures. Additional stack elements are attached for non-signature elements, followed by finalization to generate the final scriptSig and/or witness. Finally, the signed transaction is extracted for broadcasting.The author acknowledges that this approach may be overly generic and seeks to know if anyone else has considered utilizing PSBTs in an HTLC context.</p>
        <hr>
        <p><i>Updated on: 2023-08-01T23:53:16.253419+00:00</i></p>
    

    

    <footer>
        <span style="font-family: Arial, Helvetica, sans-serif;">&#10084;&#65039;</span> <a href="https://chaincode.com" target="_blank" rel="noreferrer" style="text-decoration: none; color: inherit;">Chaincode</a>
    </footer>
</body>

</html>