<!doctype html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="Content-Type" content="text/html; charset=us-ascii">
    <title>Atom Feed Display</title>
    <link rel="stylesheet" href="../../archive_styles.css">
</head>

<body BGCOLOR="#fffffb">
    
    <h1>Extending BIP174 for HTLCs <span class="combined-summary">[combined summary]</span></h1>
    <hr class="solid">
    <br><b>Individual post summaries:</b>
    
        <ul>
            
                
                    <li>
                        <a href="/bitcoin-dev/Sept_2018/016358_Extending-BIP174-for-HTLCs.xml.html">Extending BIP174 for HTLCs</a>
                        <b>Alex Bosworth 2018-09-04 03:24:01</b>
                    </li>
                
                    <li>
                        <a href="/bitcoin-dev/Sept_2018/016358_Extending-BIP174-for-HTLCs.xml.html">Extending BIP174 for HTLCs</a>
                        <b>Alex Bosworth 2018-09-04 03:24:01</b>
                    </li>
                
                    <li>
                        <a href="/bitcoin-dev/Sept_2018/016358_Extending-BIP174-for-HTLCs.xml.html">Extending BIP174 for HTLCs</a>
                        <b>Alex Bosworth 2018-09-04 03:24:01</b>
                    </li>
                
                    <li>
                        <a href="/bitcoin-dev/Sept_2018/016359_Extending-BIP174-for-HTLCs.xml.html">Extending BIP174 for HTLCs</a>
                        <b>Pieter Wuille 2018-09-04 16:57:28</b>
                    </li>
                
                    <li>
                        <a href="/bitcoin-dev/Sept_2018/016359_Extending-BIP174-for-HTLCs.xml.html">Extending BIP174 for HTLCs</a>
                        <b>Pieter Wuille 2018-09-04 16:57:28</b>
                    </li>
                
                    <li>
                        <a href="/bitcoin-dev/Sept_2018/016359_Extending-BIP174-for-HTLCs.xml.html">Extending BIP174 for HTLCs</a>
                        <b>Pieter Wuille 2018-09-04 16:57:28</b>
                    </li>
                
            
        </ul>
        
            <a href="https://lists.linuxfoundation.org/pipermail/bitcoin-dev/2018-September/016358.html">Click here to read the original discussion on the bitcoin-dev mailing list</a>
        
        <p><i>Published on: 2018-09-04T03:24:01+00:00</i></p>
        <hr>
        <h3>Summary:</h3>
        <p>A proposal to add fields to the Partially Signed Bitcoin Transactions (PSBT) format tag for Bitcoin Improvement Proposal 174 was discussed on the bitcoin-dev mailing list. The author has been working on HTLC scripts and experimenting with a format tag for BIP 174 to support them. The proposed format involves adding a new input type that defines elements to be inserted in the final p2sh/p2wsh stack such as preimage or refund path flags.The author suggests creating a blank PSBT, updating it with redeem/witness scripts, sighashes, and partial signatures. Additional stack elements are then attached for non-signature elements, followed by finalization to create the final scriptSig and/or witness. Finally, the signed transaction is extracted for broadcast. The author acknowledges that this approach may be overly generic and asks if anyone else has considered using PSBTs in an HTLC context.One approach suggested is to add two fields to PSBT: a preimage request field and a revealed preimage field. The workflow would involve an updater recognizing an output/script that requires a preimage and adding a preimage request field to the input, followed by a signer who knows the preimage adding a preimage field after verifying the secret. Finally, a compatible finalizer combines all signatures and preimages into a final scriptSig/witness stack. However, dealing with multiple possible satisfactions may complicate things, especially when the number of combinations is intractable.Another approach suggests using an easily-parsable subset of script, which includes and/or/threshold/pubkey/locktimes/hashlocks, instead of changing PSBT. The author hopes to publish more information soon. The proposal aims to support Hash Time-Locked Contracts (HTLCs) and seeks to improve the functionality of PSBTs.</p>
        <hr>
        <p><i>Updated on: 2023-06-13T14:48:02.254772+00:00</i></p>
    

    

    <footer>
        <span style="font-family: Arial, Helvetica, sans-serif;">&#10084;&#65039;</span> <a href="https://chaincode.com" target="_blank" rel="noreferrer" style="text-decoration: none; color: inherit;">Chaincode</a>
    </footer>
</body>

</html>