<!doctype html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="Content-Type" content="text/html; charset=us-ascii">
    <title>Atom Feed Display</title>
    <link rel="stylesheet" href="../../archive_styles.css">
</head>

<body BGCOLOR="#fffffb">
    
    <h1>Trusted merkle tree depth for safe tx inclusion proofs without a soft fork</h1>
    <hr class="solid">
    
    <ul>
        
        
            <p><b>Author:</b> Peter Todd 2018-06-07 22:20:28
            <br><i>Published on: 2018-06-07T22:20:28+00:00</i></p>

        
        

        
        
        <li>
        <a href="/bitcoin-dev/June_2018/combined_Trusted-merkle-tree-depth-for-safe-tx-inclusion-proofs-without-a-soft-fork.xml.html"> Combined Summary of all posts in thread </a>
        </li>
        
        <li>
            
                <a href="https://lists.linuxfoundation.org/pipermail/bitcoin-dev/2018-June/016093.html">Click here to read original discussion on the bitcoin-dev mailing list</a>
            
        </li>

    </ul>

    <hr>
    <h3> Summary:</h3>
    <p>Peter Todd, a Bitcoin developer, has brought up the issue of the vulnerability of the Bitcoin merkle tree algorithm. The algorithm fails to distinguish between inner nodes and 64 byte transactions, which could potentially pose a problem for transaction inclusion proofs. A miner could create a transaction that committed to a transaction that was not in fact on the blockchain. Todd suggests that if the depth of the merkle tree is known, this vulnerability can be easily avoided by comparing the length of the merkle path to that known depth. This would allow for completely safe verification of transaction inclusion proofs without a soft-fork. Todd believes this is an accidental feature that further encourages the use of safe full verification rather than unsafe lite clients. Bram Cohen, another developer, proposes a soft fork to include the number of transactions in a block in the block headers to compensate for the broken Merkle format.</p>
    <hr>
    <p><i> Updated on: 2023-06-13T03:13:38.017979+00:00 </i></p>
    
    

    <footer>
        <span style="font-family: Arial, Helvetica, sans-serif;">&#10084;&#65039;</span> <a href="https://chaincode.com" target="_blank" rel="noreferrer" style="text-decoration: none; color: inherit;">Chaincode</a>
    </footer>
</body>

</html>