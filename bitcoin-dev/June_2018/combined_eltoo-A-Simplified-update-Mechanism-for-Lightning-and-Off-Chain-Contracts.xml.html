<!doctype html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="Content-Type" content="text/html; charset=us-ascii">
    <title>Atom Feed Display</title>
    <link rel="stylesheet" href="../../archive_styles.css">
</head>

<body BGCOLOR="#fffffb">
    
    <h1>eltoo: A Simplified update Mechanism for Lightning and Off-Chain Contracts <span class="combined-summary">[combined summary]</span></h1>
    <hr class="solid">
    <br><b>Individual post summaries:</b>
    
        <ul>
            
                
                    <li>
                        <a href="/bitcoin-dev/April_2018/015907_eltoo-A-Simplified-update-Mechanism-for-Lightning-and-Off-Chain-Contracts.xml.html">eltoo: A Simplified update Mechanism for Lightning and Off-Chain Contracts</a>
                        <b>Christian Decker 2018-04-30 15:41:38</b>
                    </li>
                
                    <li>
                        <a href="/bitcoin-dev/April_2018/015910_eltoo-A-Simplified-update-Mechanism-for-Lightning-and-Off-Chain-Contracts.xml.html">eltoo: A Simplified update Mechanism for Lightning and Off-Chain Contracts</a>
                        <b>Jim Posen 2018-04-30 23:00:55</b>
                    </li>
                
                    <li>
                        <a href="/bitcoin-dev/April_2018/015907_eltoo-A-Simplified-update-Mechanism-for-Lightning-and-Off-Chain-Contracts.xml.html">eltoo: A Simplified update Mechanism for Lightning and Off-Chain Contracts</a>
                        <b>Christian Decker 2018-04-30 15:41:38</b>
                    </li>
                
                    <li>
                        <a href="/bitcoin-dev/May_2018/015911_eltoo-A-Simplified-update-Mechanism-for-Lightning-and-Off-Chain-Contracts.xml.html">eltoo: A Simplified update Mechanism for Lightning and Off-Chain Contracts</a>
                        <b>ZmnSCPxj 2018-05-01 05:01:52</b>
                    </li>
                
                    <li>
                        <a href="/bitcoin-dev/May_2018/015913_eltoo-A-Simplified-update-Mechanism-for-Lightning-and-Off-Chain-Contracts.xml.html">eltoo: A Simplified update Mechanism for Lightning and Off-Chain Contracts</a>
                        <b>Christian Decker 2018-05-01 11:36:32</b>
                    </li>
                
                    <li>
                        <a href="/bitcoin-dev/May_2018/015920_eltoo-A-Simplified-update-Mechanism-for-Lightning-and-Off-Chain-Contracts.xml.html">eltoo: A Simplified update Mechanism for Lightning and Off-Chain Contracts</a>
                        <b>Jim Posen 2018-05-01 17:07:22</b>
                    </li>
                
                    <li>
                        <a href="/bitcoin-dev/May_2018/015911_eltoo-A-Simplified-update-Mechanism-for-Lightning-and-Off-Chain-Contracts.xml.html">eltoo: A Simplified update Mechanism for Lightning and Off-Chain Contracts</a>
                        <b>ZmnSCPxj 2018-05-01 05:01:52</b>
                    </li>
                
                    <li>
                        <a href="/bitcoin-dev/May_2018/015912_eltoo-A-Simplified-update-Mechanism-for-Lightning-and-Off-Chain-Contracts.xml.html">eltoo: A Simplified update Mechanism for Lightning and Off-Chain Contracts</a>
                        <b>ZmnSCPxj 2018-05-01 05:07:54</b>
                    </li>
                
                    <li>
                        <a href="/bitcoin-dev/May_2018/015914_eltoo-A-Simplified-update-Mechanism-for-Lightning-and-Off-Chain-Contracts.xml.html">eltoo: A Simplified update Mechanism for Lightning and Off-Chain Contracts</a>
                        <b>Christian Decker 2018-05-01 11:38:12</b>
                    </li>
                
                    <li>
                        <a href="/bitcoin-dev/May_2018/015915_eltoo-A-Simplified-update-Mechanism-for-Lightning-and-Off-Chain-Contracts.xml.html">eltoo: A Simplified update Mechanism for Lightning and Off-Chain Contracts</a>
                        <b>Jim Posen 2018-05-01 15:50:27</b>
                    </li>
                
                    <li>
                        <a href="/bitcoin-dev/May_2018/015916_eltoo-A-Simplified-update-Mechanism-for-Lightning-and-Off-Chain-Contracts.xml.html">eltoo: A Simplified update Mechanism for Lightning and Off-Chain Contracts</a>
                        <b>Christian Decker 2018-05-01 16:29:09</b>
                    </li>
                
                    <li>
                        <a href="/bitcoin-dev/May_2018/015918_eltoo-A-Simplified-update-Mechanism-for-Lightning-and-Off-Chain-Contracts.xml.html">eltoo: A Simplified update Mechanism for Lightning and Off-Chain Contracts</a>
                        <b>Christian Decker 2018-05-01 17:31:28</b>
                    </li>
                
                    <li>
                        <a href="/bitcoin-dev/June_2018/016148_eltoo-A-Simplified-update-Mechanism-for-Lightning-and-Off-Chain-Contracts.xml.html">eltoo: A Simplified update Mechanism for Lightning and Off-Chain Contracts</a>
                        <b>Rusty Russell 2018-06-22 00:32:01</b>
                    </li>
                
                    <li>
                        <a href="/bitcoin-dev/April_2018/015907_eltoo-A-Simplified-update-Mechanism-for-Lightning-and-Off-Chain-Contracts.xml.html">eltoo: A Simplified update Mechanism for Lightning and Off-Chain Contracts</a>
                        <b>Christian Decker 2018-04-30 15:41:38</b>
                    </li>
                
                    <li>
                        <a href="/bitcoin-dev/May_2018/015915_eltoo-A-Simplified-update-Mechanism-for-Lightning-and-Off-Chain-Contracts.xml.html">eltoo: A Simplified update Mechanism for Lightning and Off-Chain Contracts</a>
                        <b>Jim Posen 2018-05-01 15:50:27</b>
                    </li>
                
                    <li>
                        <a href="/bitcoin-dev/May_2018/015918_eltoo-A-Simplified-update-Mechanism-for-Lightning-and-Off-Chain-Contracts.xml.html">eltoo: A Simplified update Mechanism for Lightning and Off-Chain Contracts</a>
                        <b>Christian Decker 2018-05-01 17:31:28</b>
                    </li>
                
                    <li>
                        <a href="/bitcoin-dev/May_2018/015921_eltoo-A-Simplified-update-Mechanism-for-Lightning-and-Off-Chain-Contracts.xml.html">eltoo: A Simplified update Mechanism for Lightning and Off-Chain Contracts</a>
                        <b>Jim Posen 2018-05-02 01:15:10</b>
                    </li>
                
                    <li>
                        <a href="/bitcoin-dev/May_2018/015928_eltoo-A-Simplified-update-Mechanism-for-Lightning-and-Off-Chain-Contracts.xml.html">eltoo: A Simplified update Mechanism for Lightning and Off-Chain Contracts</a>
                        <b>Olaoluwa Osuntokun 2018-05-07 23:26:05</b>
                    </li>
                
                    <li>
                        <a href="/bitcoin-dev/June_2018/016148_eltoo-A-Simplified-update-Mechanism-for-Lightning-and-Off-Chain-Contracts.xml.html">eltoo: A Simplified update Mechanism for Lightning and Off-Chain Contracts</a>
                        <b>Rusty Russell 2018-06-22 00:32:01</b>
                    </li>
                
                    <li>
                        <a href="/bitcoin-dev/May_2018/015958_eltoo-A-Simplified-update-Mechanism-for-Lightning-and-Off-Chain-Contracts.xml.html">eltoo: A Simplified update Mechanism for Lightning and Off-Chain Contracts</a>
                        <b>Christian Decker 2018-05-10 13:57:30</b>
                    </li>
                
                    <li>
                        <a href="/bitcoin-dev/April_2018/015910_eltoo-A-Simplified-update-Mechanism-for-Lightning-and-Off-Chain-Contracts.xml.html">eltoo: A Simplified update Mechanism for Lightning and Off-Chain Contracts</a>
                        <b>Jim Posen 2018-04-30 23:00:55</b>
                    </li>
                
                    <li>
                        <a href="/bitcoin-dev/May_2018/015958_eltoo-A-Simplified-update-Mechanism-for-Lightning-and-Off-Chain-Contracts.xml.html">eltoo: A Simplified update Mechanism for Lightning and Off-Chain Contracts</a>
                        <b>Christian Decker 2018-05-10 13:57:30</b>
                    </li>
                
                    <li>
                        <a href="/bitcoin-dev/May_2018/015915_eltoo-A-Simplified-update-Mechanism-for-Lightning-and-Off-Chain-Contracts.xml.html">eltoo: A Simplified update Mechanism for Lightning and Off-Chain Contracts</a>
                        <b>Jim Posen 2018-05-01 15:50:27</b>
                    </li>
                
                    <li>
                        <a href="/bitcoin-dev/May_2018/015916_eltoo-A-Simplified-update-Mechanism-for-Lightning-and-Off-Chain-Contracts.xml.html">eltoo: A Simplified update Mechanism for Lightning and Off-Chain Contracts</a>
                        <b>Christian Decker 2018-05-01 16:29:09</b>
                    </li>
                
                    <li>
                        <a href="/bitcoin-dev/May_2018/015921_eltoo-A-Simplified-update-Mechanism-for-Lightning-and-Off-Chain-Contracts.xml.html">eltoo: A Simplified update Mechanism for Lightning and Off-Chain Contracts</a>
                        <b>Jim Posen 2018-05-02 01:15:10</b>
                    </li>
                
                    <li>
                        <a href="/bitcoin-dev/May_2018/015913_eltoo-A-Simplified-update-Mechanism-for-Lightning-and-Off-Chain-Contracts.xml.html">eltoo: A Simplified update Mechanism for Lightning and Off-Chain Contracts</a>
                        <b>Christian Decker 2018-05-01 11:36:32</b>
                    </li>
                
                    <li>
                        <a href="/bitcoin-dev/May_2018/015921_eltoo-A-Simplified-update-Mechanism-for-Lightning-and-Off-Chain-Contracts.xml.html">eltoo: A Simplified update Mechanism for Lightning and Off-Chain Contracts</a>
                        <b>Jim Posen 2018-05-02 01:15:10</b>
                    </li>
                
                    <li>
                        <a href="/bitcoin-dev/May_2018/015928_eltoo-A-Simplified-update-Mechanism-for-Lightning-and-Off-Chain-Contracts.xml.html">eltoo: A Simplified update Mechanism for Lightning and Off-Chain Contracts</a>
                        <b>Olaoluwa Osuntokun 2018-05-07 23:26:05</b>
                    </li>
                
                    <li>
                        <a href="/bitcoin-dev/May_2018/015912_eltoo-A-Simplified-update-Mechanism-for-Lightning-and-Off-Chain-Contracts.xml.html">eltoo: A Simplified update Mechanism for Lightning and Off-Chain Contracts</a>
                        <b>ZmnSCPxj 2018-05-01 05:07:54</b>
                    </li>
                
                    <li>
                        <a href="/bitcoin-dev/May_2018/015912_eltoo-A-Simplified-update-Mechanism-for-Lightning-and-Off-Chain-Contracts.xml.html">eltoo: A Simplified update Mechanism for Lightning and Off-Chain Contracts</a>
                        <b>ZmnSCPxj 2018-05-01 05:07:54</b>
                    </li>
                
                    <li>
                        <a href="/bitcoin-dev/May_2018/015914_eltoo-A-Simplified-update-Mechanism-for-Lightning-and-Off-Chain-Contracts.xml.html">eltoo: A Simplified update Mechanism for Lightning and Off-Chain Contracts</a>
                        <b>Christian Decker 2018-05-01 11:38:12</b>
                    </li>
                
                    <li>
                        <a href="/bitcoin-dev/May_2018/015918_eltoo-A-Simplified-update-Mechanism-for-Lightning-and-Off-Chain-Contracts.xml.html">eltoo: A Simplified update Mechanism for Lightning and Off-Chain Contracts</a>
                        <b>Christian Decker 2018-05-01 17:31:28</b>
                    </li>
                
                    <li>
                        <a href="/bitcoin-dev/May_2018/015928_eltoo-A-Simplified-update-Mechanism-for-Lightning-and-Off-Chain-Contracts.xml.html">eltoo: A Simplified update Mechanism for Lightning and Off-Chain Contracts</a>
                        <b>Olaoluwa Osuntokun 2018-05-07 23:26:05</b>
                    </li>
                
                    <li>
                        <a href="/bitcoin-dev/June_2018/016148_eltoo-A-Simplified-update-Mechanism-for-Lightning-and-Off-Chain-Contracts.xml.html">eltoo: A Simplified update Mechanism for Lightning and Off-Chain Contracts</a>
                        <b>Rusty Russell 2018-06-22 00:32:01</b>
                    </li>
                
                    <li>
                        <a href="/bitcoin-dev/May_2018/015920_eltoo-A-Simplified-update-Mechanism-for-Lightning-and-Off-Chain-Contracts.xml.html">eltoo: A Simplified update Mechanism for Lightning and Off-Chain Contracts</a>
                        <b>Jim Posen 2018-05-01 17:07:22</b>
                    </li>
                
                    <li>
                        <a href="/bitcoin-dev/May_2018/015958_eltoo-A-Simplified-update-Mechanism-for-Lightning-and-Off-Chain-Contracts.xml.html">eltoo: A Simplified update Mechanism for Lightning and Off-Chain Contracts</a>
                        <b>Christian Decker 2018-05-10 13:57:30</b>
                    </li>
                
                    <li>
                        <a href="/bitcoin-dev/April_2018/015910_eltoo-A-Simplified-update-Mechanism-for-Lightning-and-Off-Chain-Contracts.xml.html">eltoo: A Simplified update Mechanism for Lightning and Off-Chain Contracts</a>
                        <b>Jim Posen 2018-04-30 23:00:55</b>
                    </li>
                
                    <li>
                        <a href="/bitcoin-dev/May_2018/015911_eltoo-A-Simplified-update-Mechanism-for-Lightning-and-Off-Chain-Contracts.xml.html">eltoo: A Simplified update Mechanism for Lightning and Off-Chain Contracts</a>
                        <b>ZmnSCPxj 2018-05-01 05:01:52</b>
                    </li>
                
                    <li>
                        <a href="/bitcoin-dev/May_2018/015913_eltoo-A-Simplified-update-Mechanism-for-Lightning-and-Off-Chain-Contracts.xml.html">eltoo: A Simplified update Mechanism for Lightning and Off-Chain Contracts</a>
                        <b>Christian Decker 2018-05-01 11:36:32</b>
                    </li>
                
                    <li>
                        <a href="/bitcoin-dev/May_2018/015914_eltoo-A-Simplified-update-Mechanism-for-Lightning-and-Off-Chain-Contracts.xml.html">eltoo: A Simplified update Mechanism for Lightning and Off-Chain Contracts</a>
                        <b>Christian Decker 2018-05-01 11:38:12</b>
                    </li>
                
                    <li>
                        <a href="/bitcoin-dev/May_2018/015916_eltoo-A-Simplified-update-Mechanism-for-Lightning-and-Off-Chain-Contracts.xml.html">eltoo: A Simplified update Mechanism for Lightning and Off-Chain Contracts</a>
                        <b>Christian Decker 2018-05-01 16:29:09</b>
                    </li>
                
                    <li>
                        <a href="/bitcoin-dev/May_2018/015920_eltoo-A-Simplified-update-Mechanism-for-Lightning-and-Off-Chain-Contracts.xml.html">eltoo: A Simplified update Mechanism for Lightning and Off-Chain Contracts</a>
                        <b>Jim Posen 2018-05-01 17:07:22</b>
                    </li>
                
            
        </ul>
        
            <a href="https://lists.linuxfoundation.org/pipermail/bitcoin-dev/2018-April/015907.html">Click here to read the original discussion on the bitcoin-dev mailing list</a>
        
        <p><i>Published on: 2018-04-30T15:41:38+00:00</i></p>
        <hr>
        <h3>Summary:</h3>
        <p>The Lightning Network team has announced a new update mechanism for off-chain protocols called eltoo, which is a drop-in replacement for the penalty-based invalidation mechanism currently used in the Lightning specification. Eltoo ensures that the last agreed-upon state is settled on-chain, with similar tradeoffs as today's Lightning (timelock vs. online requirement). It also allows for the attachment of fees when settling and even allows for fees to be bumped using CPFP or RBF.However, there are concerns about the impact of eltoo on safe CLTV delta requirements, as HTLCs cannot be timed out immediately on the settlement transaction. Christian Decker and Jim Posen discuss the impact of a new construction on safe CLTV delta requirements in another conversation. The concern is that with eltoo, if the CLTV delta is too small, it may be possible for downstream HTLCs to be claimed with the preimage on-chain even after upstream HTLCs have timed out. To address this, an offset of all the CLTVs to (less than) the maximum CSV timeout along the path is proposed.In addition to concerns about safe CLTV delta requirements, David A. Harding discusses three potential attacks on the Lightning Network and possible mitigations in a post to the lightning-dev mailing list. To mitigate these attacks, he suggests reducing the replace-by-fee (RBF) grouping depth to two or delaying propagation of transactions with low fees proportional to their weight. Additionally, he proposes not rejecting low-fee transactions but instead dropping them after 60 seconds if there is no child-pays-for-parent (CPFP) to increase their effective fee rate.The introduction of symmetric state in BOLT 1.1 re-introduces the dependency between the CSV value of the commitment and the HTLC timeouts, which was pointed out by Mats in an earlier version of the BOLT spec. This means that if long CSV timeouts are allowed, the total CLTV timeout along the entire route would increase. However, this may not be a concern for most implementations in the future with robust and reliable private outsourcers.In a discussion about the Lightning Network, Jim Posen argues that each node just cares about closing 288 blocks before the CLTV expires, not that its delta with respect to the downstream channel is that far in the future. Christian notes that many nodes in the Lightning Network have a CLTV delta of 144 blocks, which quickly results in HTLC funds being unavailable for several days depending on the route length. He argues that adding a fixed offset is not much worse than the current situation and once watch-towers are implemented, both the offset and CLTV deltas can be reduced. The conversation also discusses pipelining broadcasts of update transactions, which may introduce a problem where a node withholds the preimage for too long and forces all upstream channels to be closed at the expense of their own upstream channel being closed. A routing node needs to ensure that if they learn the preimage, they have time to broadcast and confirm an HTLC-success transaction before the height X. The number of blocks D_success is calculated as X - D_success is the latest height that it can safely broadcast the HTLC-success transaction, assuming the settlement transaction is already final. Upstream hops can watch the blockchain for preimage reveals in other closing transactions and perhaps fulfill off-chain if there is sufficient time.Finally, in an email exchange, ZmnSCPxj questions the use of terminology in a paper they are skimming through. The paper uses the term "input script" to refer to witnessProgram and scriptPubKey, while "output script" is used to refer to witness or scriptSig. However, Figure 2 in the paper contains an output script which appears to ZmnSCPxj to be a witnessProgram, scriptPubKey, or redeemScript instead. Christian acknowledges the mistake, stating they flipped the two definitions and will push a corrected version of the paper.</p>
        <hr>
        <p><i>Updated on: 2023-06-13T01:42:52.037019+00:00</i></p>
    

    

    <footer>
        <span style="font-family: Arial, Helvetica, sans-serif;">&#10084;&#65039;</span> <a href="https://chaincode.com" target="_blank" rel="noreferrer" style="text-decoration: none; color: inherit;">Chaincode</a>
    </footer>
</body>

</html>