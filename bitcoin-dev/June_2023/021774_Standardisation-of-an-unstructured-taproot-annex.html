<!doctype html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="Content-Type" content="text/html; charset=us-ascii">
    <title>Atom Feed Display</title>
    <link rel="stylesheet" href="../../archive_styles.css">
</head>

<body BGCOLOR="#fffffb">
    
    <h1>Standardisation of an unstructured taproot annex</h1>
    <hr class="solid">
    
    <ul>
        
        
            <p><b>Author:</b> Greg Sanders 2023-06-18 20:40:53+00:00
            <br><i>Published on: 2023-06-18T20:40:53+00:00</i></p>

        
        

        
        
        <li>
        <a href="/bitcoin-dev/June_2023/combined_Standardisation-of-an-unstructured-taproot-annex.html"> Combined Summary of all posts in thread </a>
        </li>
        
        <li>
            
                <a href="https://lists.linuxfoundation.org/pipermail/bitcoin-dev/2023-June/021774.html">Click here to read original discussion on the bitcoin-dev mailing list</a>
            
        </li>

    </ul>

    <hr>
    <h3> Summary:</h3>
    <p>Antoine Riard replied to a message from Greg Sanders on the Bitcoin-dev mailing list. Antoine asked for clarification regarding the requirement for every input to commit to an annex, even if it is empty. He mentioned that this modification would be mandatory for Lightning nodes and failure to comply would break the propagation of their `option_taproot` channel transactions. Antoine also discussed another approach where the maximum size/weight of the witness/transaction is introduced as a TLV record itself. He provided a link to a GitHub branch that implements this approach. Greg Sanders responded to Joost Jager's question about whether it would still be necessary to restrict the annex to a maximum size. Greg stated that it is worth considering to protect opt-in users and can also be used for other anti-pinning efforts. Joost proposed a set of policies that would enable annex-vaults and remain in line with previous work. These policies include an opt-in annex, tlv format, only allowing tlv record 0, and limiting the maximum size of the value to 256 bytes. However, Joost mentioned that the current limit of 126 bytes in a GitHub pull request is not sufficient for these types of vaults. Joost asked if there were any remaining practical objections to making the annex standard under the given conditions. The conversation between Antoine, Greg, and Joost revolves around the implementation of Taproot support and the need to modify Lightning-side support for P2TR spends. They discuss the requirement for every input to commit to an annex, the maximum size of the value, and different approaches to address these issues. The discussion also involves links to relevant GitHub branches and BIPs for further reference.</p>
    <hr>
    <p><i> Updated on: 2023-07-12T02:36:10.406610+00:00 </i></p>
    
    

    <footer>
        <span style="font-family: Arial, Helvetica, sans-serif;">&#10084;&#65039;</span> <a href="https://chaincode.com" target="_blank" rel="noreferrer" style="text-decoration: none; color: inherit;">Chaincode</a>
    </footer>
</body>

</html>