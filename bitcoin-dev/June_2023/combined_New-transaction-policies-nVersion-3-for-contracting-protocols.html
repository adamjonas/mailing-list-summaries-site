<!doctype html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="Content-Type" content="text/html; charset=us-ascii">
    <title>Atom Feed Display</title>
    <link rel="stylesheet" href="../../archive_styles.css">
</head>

<body BGCOLOR="#fffffb">
    
    <h1>New transaction policies (nVersion=3) for contracting protocols <span class="combined-summary">[combined summary]</span></h1>
    <hr class="solid">
    <br><b>Individual post summaries:</b>
    
        <ul>
            
                
                    <li>
                        <a href="/bitcoin-dev/June_2023/021780_New-transaction-policies-nVersion-3-for-contracting-protocols.html">New transaction policies (nVersion=3) for contracting protocols</a>
                        <b>Greg Sanders 2023-06-21 20:57:45+00:00</b>
                    </li>
                
                    <li>
                        <a href="/bitcoin-dev/Sept_2022/020943_New-transaction-policies-nVersion-3-for-contracting-protocols.html">New transaction policies (nVersion=3) for contracting protocols</a>
                        <b>Gloria Zhao 2022-09-26 16:47:49+00:00</b>
                    </li>
                
                    <li>
                        <a href="/bitcoin-dev/Sept_2022/020950_New-transaction-policies-nVersion-3-for-contracting-protocols.html">New transaction policies (nVersion=3) for contracting protocols</a>
                        <b>Bastien TEINTURIER 2022-09-29 09:15:02+00:00</b>
                    </li>
                
                    <li>
                        <a href="/bitcoin-dev/Sept_2022/020937_New-transaction-policies-nVersion-3-for-contracting-protocols.html">New transaction policies (nVersion=3) for contracting protocols</a>
                        <b>Gloria Zhao 2022-09-23 15:18:21+00:00</b>
                    </li>
                
                    <li>
                        <a href="/bitcoin-dev/Sept_2022/020959_New-transaction-policies-nVersion-3-for-contracting-protocols.html">New transaction policies (nVersion=3) for contracting protocols</a>
                        <b>Bastien TEINTURIER 2022-09-30 12:08:41+00:00</b>
                    </li>
                
                    <li>
                        <a href="/bitcoin-dev/Sept_2022/020960_New-transaction-policies-nVersion-3-for-contracting-protocols.html">New transaction policies (nVersion=3) for contracting protocols</a>
                        <b>Greg Sanders 2022-09-30 12:17:38+00:00</b>
                    </li>
                
                    <li>
                        <a href="/bitcoin-dev/Sept_2022/020941_New-transaction-policies-nVersion-3-for-contracting-protocols.html">New transaction policies (nVersion=3) for contracting protocols</a>
                        <b>Bastien TEINTURIER 2022-09-26 15:27:40+00:00</b>
                    </li>
                
                    <li>
                        <a href="/bitcoin-dev/Sept_2022/020938_New-transaction-policies-nVersion-3-for-contracting-protocols.html">New transaction policies (nVersion=3) for contracting protocols</a>
                        <b>Greg Sanders 2022-09-23 18:48:39+00:00</b>
                    </li>
                
                    <li>
                        <a href="/bitcoin-dev/Sept_2022/020942_New-transaction-policies-nVersion-3-for-contracting-protocols.html">New transaction policies (nVersion=3) for contracting protocols</a>
                        <b>Greg Sanders 2022-09-26 16:01:54+00:00</b>
                    </li>
                
                    <li>
                        <a href="/bitcoin-dev/Sept_2022/020957_New-transaction-policies-nVersion-3-for-contracting-protocols.html">New transaction policies (nVersion=3) for contracting protocols</a>
                        <b>Ruben Somsen 2022-09-30 00:13:53+00:00</b>
                    </li>
                
                    <li>
                        <a href="/bitcoin-dev/Sept_2022/020951_New-transaction-policies-nVersion-3-for-contracting-protocols.html">New transaction policies (nVersion=3) for contracting protocols</a>
                        <b>Greg Sanders 2022-09-29 14:41:28+00:00</b>
                    </li>
                
                    <li>
                        <a href="/bitcoin-dev/Sept_2022/020939_New-transaction-policies-nVersion-3-for-contracting-protocols.html">New transaction policies (nVersion=3) for contracting protocols</a>
                        <b>Antoine Riard 2022-09-25 23:59:22+00:00</b>
                    </li>
                
                    <li>
                        <a href="/bitcoin-dev/Oct_2022/020962_New-transaction-policies-nVersion-3-for-contracting-protocols.html">New transaction policies (nVersion=3) for contracting protocols</a>
                        <b>Ruben Somsen 2022-10-01 09:59:55+00:00</b>
                    </li>
                
            
        </ul>
        
            <a href="https://lists.linuxfoundation.org/pipermail/bitcoin-dev/2023-June/021780.html">Click here to read the original discussion on the bitcoin-dev mailing list</a>
        
        <p><i>Published on: 2023-06-21T20:57:45+00:00</i></p>
        <hr>
        <h3>Summary:</h3>
        <p>A proposed update called BIP-325 aims to improve the replace-by-fee (RBF) feature by adding version 3 transactions (V3). The proposal includes mempool and transaction relay policies that apply to V3 transactions and modifications to package RBF rules. The V3 transactions have a descendant size limit of no more than 1000 virtual bytes, which helps reduce costs for fee-bumping transactions. The proposal also introduces a new rule that requires all package transactions with mempool conflicts to be V3.Commitment transactions in the Lightning Network should be V3 and have one anchor output. The child transaction that funds fees for multiple commitment transactions must also be V3 and limited to 1000vB. To add more fees, the child can be replaced with a higher-feerate transaction. However, it is advised not to spend from an unconfirmed V3 transaction as the descendant limits for V3 transactions are very restrictive.The main rationale behind the proposal is to ensure that replacement transactions are not less incentive-compatible to mine. Ancestor feerate is used as an estimate of incentive compatibility, but it may overestimate in certain cases. Therefore, the proposal uses the minimum between the package feerate and ancestor feerate of the child as a more conservative value. This ensures that the replacement transactions are at least as incentive-compatible as the original transactions.The proposal addresses some expected questions. It clarifies that the V3 descendant limit restricts both the user and the counterparty, fixing Rule 3 Pinning. Concerns about privacy issues related to fingerprinting LN transactions based on nVersion are addressed by noting that V3 transactions are unlikely to be widely used outside of L2. The proposal also confirms that a V3 transaction that does not signal BIP125 replaceability is replaceable, and a V2 transaction can replace a V3 transaction and vice versa.Gloria Zhao has provided an implementation of the proposal for Bitcoin Core and seeks feedback from users. The proposal has been discussed in the bitcoin-dev mailing list, which serves as a forum for developers to discuss technical issues related to Bitcoin and its underlying software. The collaborative and open nature of Bitcoin development is emphasized, where community members can seek help and support through public forums like the bitcoin-dev mailing list.Overall, the proposal for mempool/transaction relay policies aims to aid L2/contract protocols, address concerns about unconfirmed transactions, and improve the security model for layer-two contracts. It incorporates additional rules for V3 transactions and modifications to package RBF rules. Feedback and review of the proposal are encouraged, and links to the original proposal and related discussions are provided for further information.Bitcoin developer Gloria Zhao has proposed a new version of transaction format, V3, aimed at improving replace-by-fee (RBF) and child-pays-for-parent (CPFP) protocols. The proposal includes four rules that specify limits on the size and number of "descendant" transactions, or those that rely on an unconfirmed parent transaction for funding.One of the key changes is that a V3 transaction cannot change based on what transactions are mined, which simplifies subsequent rules about descendant limits much easier to check. Unconfirmed V3 transactions cannot have more than one descendant. A V3 transaction that has an unconfirmed V3 ancestor cannot be larger than 1000 virtual bytes. Commitment transactions should also be V3 and have one anchor output.The proposal aims to prevent pinning attacks where a malicious counterparty prevents a transaction from being replaced by adding many descendant transactions that aren't fee-bumping. The smaller the descendant size limit, the fewer UTXOs a child may use to fund this fee-bump. However, as the fee-bumping child only needs to fund fees, just a few UTXOs should suffice. With a limit of 1000 virtual bytes, depending on the output types, the child can have 6-15 UTXOs, which should be enough to fund a fee-bump without requiring a carefully-managed UTXO pool.Package RBF modifications have also been suggested. One of the main changes is that all package transactions with mempool conflicts are required to be V3. This also means the "sponsoring" child transaction must be V3. The proposals are intended for usage in Layer 2 Bitcoin transactions, such as commitment transactions on the Lightning Network.A proposal for a minimally-invasive step to enable fee-bumping presigned transactions specifically using Child-Pays-For-Parent (CPFP) and anchor outputs has been put forward. The proposal intends to fix the Lightning Network Penalty and does not close all pinning attacks possible. While it is tailored for LN Penalty, it works for Lightning today. One scenario it does not fix is where HTLC/commitment-like transactions are being resolved in a batch, but due to relative time constraints, you may want to accelerate some and not others. This RBF package would require replacements to be</p>
        <hr>
        <p><i>Updated on: 2023-07-07T02:30:29.184710+00:00</i></p>
    

    

    <footer>
        <span style="font-family: Arial, Helvetica, sans-serif;">&#10084;&#65039;</span> <a href="https://chaincode.com" target="_blank" rel="noreferrer" style="text-decoration: none; color: inherit;">Chaincode</a>
    </footer>
</body>

</html>