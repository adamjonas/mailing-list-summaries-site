<!doctype html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="Content-Type" content="text/html; charset=us-ascii">
    <title>Atom Feed Display</title>
    <link rel="stylesheet" href="../../archive_styles.css">
</head>

<body BGCOLOR="#fffffb">
    
    <h1>New transaction policies (nVersion=3) for contracting protocols <span class="combined-summary">[combined summary]</span></h1>
    <hr class="solid">
    <br><b>Individual post summaries:</b>
    
        <ul>
            
                
                    <li>
                        <a href="/bitcoin-dev/June_2023/021780_New-transaction-policies-nVersion-3-for-contracting-protocols.html">New transaction policies (nVersion=3) for contracting protocols</a>
                        <b>Greg Sanders 2023-06-21 20:57:45+00:00</b>
                    </li>
                
                    <li>
                        <a href="/bitcoin-dev/Sept_2022/020937_New-transaction-policies-nVersion-3-for-contracting-protocols.html">New transaction policies (nVersion=3) for contracting protocols</a>
                        <b>Gloria Zhao 2022-09-23 15:18:21+00:00</b>
                    </li>
                
                    <li>
                        <a href="/bitcoin-dev/Sept_2022/020950_New-transaction-policies-nVersion-3-for-contracting-protocols.html">New transaction policies (nVersion=3) for contracting protocols</a>
                        <b>Bastien TEINTURIER 2022-09-29 09:15:02+00:00</b>
                    </li>
                
                    <li>
                        <a href="/bitcoin-dev/Sept_2022/020942_New-transaction-policies-nVersion-3-for-contracting-protocols.html">New transaction policies (nVersion=3) for contracting protocols</a>
                        <b>Greg Sanders 2022-09-26 16:01:54+00:00</b>
                    </li>
                
                    <li>
                        <a href="/bitcoin-dev/Sept_2022/020960_New-transaction-policies-nVersion-3-for-contracting-protocols.html">New transaction policies (nVersion=3) for contracting protocols</a>
                        <b>Greg Sanders 2022-09-30 12:17:38+00:00</b>
                    </li>
                
                    <li>
                        <a href="/bitcoin-dev/Sept_2022/020957_New-transaction-policies-nVersion-3-for-contracting-protocols.html">New transaction policies (nVersion=3) for contracting protocols</a>
                        <b>Ruben Somsen 2022-09-30 00:13:53+00:00</b>
                    </li>
                
                    <li>
                        <a href="/bitcoin-dev/Sept_2022/020951_New-transaction-policies-nVersion-3-for-contracting-protocols.html">New transaction policies (nVersion=3) for contracting protocols</a>
                        <b>Greg Sanders 2022-09-29 14:41:28+00:00</b>
                    </li>
                
                    <li>
                        <a href="/bitcoin-dev/Sept_2022/020938_New-transaction-policies-nVersion-3-for-contracting-protocols.html">New transaction policies (nVersion=3) for contracting protocols</a>
                        <b>Greg Sanders 2022-09-23 18:48:39+00:00</b>
                    </li>
                
                    <li>
                        <a href="/bitcoin-dev/Sept_2022/020959_New-transaction-policies-nVersion-3-for-contracting-protocols.html">New transaction policies (nVersion=3) for contracting protocols</a>
                        <b>Bastien TEINTURIER 2022-09-30 12:08:41+00:00</b>
                    </li>
                
                    <li>
                        <a href="/bitcoin-dev/Sept_2022/020941_New-transaction-policies-nVersion-3-for-contracting-protocols.html">New transaction policies (nVersion=3) for contracting protocols</a>
                        <b>Bastien TEINTURIER 2022-09-26 15:27:40+00:00</b>
                    </li>
                
                    <li>
                        <a href="/bitcoin-dev/Sept_2022/020939_New-transaction-policies-nVersion-3-for-contracting-protocols.html">New transaction policies (nVersion=3) for contracting protocols</a>
                        <b>Antoine Riard 2022-09-25 23:59:22+00:00</b>
                    </li>
                
                    <li>
                        <a href="/bitcoin-dev/Sept_2022/020943_New-transaction-policies-nVersion-3-for-contracting-protocols.html">New transaction policies (nVersion=3) for contracting protocols</a>
                        <b>Gloria Zhao 2022-09-26 16:47:49+00:00</b>
                    </li>
                
                    <li>
                        <a href="/bitcoin-dev/Oct_2022/020962_New-transaction-policies-nVersion-3-for-contracting-protocols.html">New transaction policies (nVersion=3) for contracting protocols</a>
                        <b>Ruben Somsen 2022-10-01 09:59:55+00:00</b>
                    </li>
                
            
        </ul>
        
            <a href="https://lists.linuxfoundation.org/pipermail/bitcoin-dev/2023-June/021780.html">Click here to read the original discussion on the bitcoin-dev mailing list</a>
        
        <p><i>Published on: 2023-06-21T20:57:45+00:00</i></p>
        <hr>
        <h3>Summary:</h3>
        <p>The Bitcoin community has proposed a set of mempool and transaction relay policies to aid layer-two (L2) and contract protocols. The proposal includes the introduction of version 3 (V3) transactions, which allow for replaceability through child-pays-for-parent (CPFP). These V3 transactions have certain rules and restrictions, such as a descendant size limit of no more than 1000 virtual bytes (vB) and the requirement that any descendant of an unconfirmed V3 transaction must also be V3.In the Lightning Network, commitment transactions are recommended to be V3 and include one anchor output. These commitment transactions can be signed with zero fees or 1sat/vbyte once package relay is deployed on a significant portion of the network. If the commitment transaction needs to be broadcast, the desired feerate is determined at broadcast time and the anchor output is spent in a high-feerate transaction.The proposed policies aim to solve Rule 3 pinning and potentially eliminate the need for child-pays-for-parent (CPFP) carve-out. Feedback and review of the proposed update are encouraged.It is important to note that V3 transactions are replaceable even if they do not signal BIP125 replaceability. Additionally, V2 transactions can replace V3 transactions and vice versa. The proposal addresses privacy concerns by stating that V3 transactions may not be in widespread use outside of L2, and cooperative closes and opens may continue to use V2 transactions.Overall, the proposed policies seek to improve the security model for L2 contracts and provide more flexibility for fee-bumping and transaction replaceability. Feedback and review from the Bitcoin community are welcomed to further refine and enhance these proposals.The Bitcoin developer community is discussing a new proposal for transaction replacement rules that would allow a child transaction to pay for a fee-bump of its parent transaction. This would enable users to increase the fees on their transactions if they become stuck in the mempool due to low fees.A proposal has been made to introduce a set of mempool/transaction relay policies aimed at aiding L2/contract protocols. The proposed changes incorporate additional rules for V3 transactions, which can be replaced even if they do not signal BIP125 replaceability.Existing standardness rules apply to V3 transactions including a V3 transaction can be replaced even if it does not signal BIP125 replaceability. Any descendant of an unconfirmed V3 transaction must also be V3, and an unconfirmed V3 transaction cannot have more than 1 descendant. A V3 transaction that has an unconfirmed V3 ancestor cannot be larger than 1000 virtual bytes.The minimum between package feerate and ancestor feerate of the child is not lower than the individual feerates of all directly conflicting transactions and the ancestor feerates of all original transactions. All package transactions with mempool conflicts must be V3, which means the sponsoring child transaction must be V3.A new set of mempool/transaction relay policies have been proposed to aid L2/contract protocols. The proposal includes a set of additional policy rules applying to V3 transactions, modifications to package RBF rules and an implementation for Bitcoin Core. Transactions with nVersion=3 are currently non-standard in Bitcoin Core, and anything that was standard before this policy change would still be standard afterward. The proposal also includes intended usage for Lightning Network transactions and answers to expected questions from the community. Feedback and review of the proposal are encouraged.It is noted that pinning attacks may occur where a malicious counterparty prevents the transaction from being replaced by adding many descendant transactions that aren't fee-bumping. In general, the proposed changes are considered very valuable work for L2 contracts and may greatly improve their security model.Gloria requested help with a particular issue she was facing while trying to run Bitcoin Core on the bitcoin-dev mailing list. She provided links to two previous messages she had posted on the same topic. The specific issue or error message was not clear from her post. The bitcoin-dev mailing list is a forum for developers to discuss technical issues related to Bitcoin and its underlying software. It is operated by the Linux Foundation and anyone can subscribe to it. This highlights the collaborative and open nature of Bitcoin development, where community members are encouraged to seek help and support from each other through public forums like the bitcoin-dev mailing list.Gloria responds to feedback on her proposal for a minimally-invasive step that works for Lightning today. She clarifies that the proposal is tailored for LN Penalty and does not close all pinning attacks possible. Gloria acknowledges that some bits can be a little ugly or tack-on, but hopes to get more ideas with the "RBF Improvements" post in January. The proposal does not fix existing pinning attacks for single transaction RBF but also doesn't make them worse.A proposal has been put forward for a set of mempool and transaction relay policies to aid Layer 2/contract protocols. The proposal includes a set of</p>
        <hr>
        <p><i>Updated on: 2023-06-29T02:29:10.602948+00:00</i></p>
    

    

    <footer>
        <span style="font-family: Arial, Helvetica, sans-serif;">&#10084;&#65039;</span> <a href="https://chaincode.com" target="_blank" rel="noreferrer" style="text-decoration: none; color: inherit;">Chaincode</a>
    </footer>
</body>

</html>