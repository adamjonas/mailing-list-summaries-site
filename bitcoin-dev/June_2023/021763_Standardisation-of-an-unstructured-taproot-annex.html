<!doctype html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="Content-Type" content="text/html; charset=us-ascii">
    <title>Atom Feed Display</title>
    <link rel="stylesheet" href="../../archive_styles.css">
</head>

<body BGCOLOR="#fffffb">
    
    <h1>Standardisation of an unstructured taproot annex</h1>
    <hr class="solid">
    
    <ul>
        
        
            <p><b>Author:</b> Antoine Riard 2023-06-12 03:16:44
            <br><i>Published on: 2023-06-12T03:16:44+00:00</i></p>

        
        

        
        
        <li>
        <a href="/bitcoin-dev/June_2023/combined_Standardisation-of-an-unstructured-taproot-annex.html"> Combined Summary of all posts in thread </a>
        </li>
        
        <li>
            
                <a href="https://lists.linuxfoundation.org/pipermail/bitcoin-dev/2023-June/021763.html">Click here to read original discussion on the bitcoin-dev mailing list</a>
            
        </li>

    </ul>

    <hr>
    <h3> Summary:</h3>
    <p>In this email conversation, Antoine proposes the adoption of a simple approach to the Taproot annex in order to avoid a potentially long standardization process. The primary advantage of using the annex is that its data isn't included in the calculation of the txid or potential parent commit transaction's txid, making it a powerful tool for applications that would ideally use covenants. For example, an accumulator could be located in the annex in the future as the state of the accumulator cannot be predicted at pool setup time and is a function of the effective order withdrawal. Antoine suggests a two-phase process for a decentralized standardization process of the annex. In phase one, he proposes a BIP proposal for the TLV records and code, a BIP proposal to reserve "tag 0" for unstructured data and code, anti-DoS mempool/transaction-relay/replacement code, documenting the new mempool/replacement rules, preferential peering logic working code, opt-in activation of the annex validation rules, and engaging Bitcoin devs appreciated by the community as domain experts in the covered areas to collect more relevant technical feedbacks. In phase two, the annex branch with all the features would be submitted to the Bitcoin Core repository, and communication would be sent to the Bitcoin technical community and second-layers and unstructured data application maintainers regarding the existence of the proposal. Feedback from Bitcoin Core, Bitcoin users, and second-layers communities would be integrated into a "staging code branch." If there is a deep technical objection, the project would go back to phase one; otherwise, the annex reference branch core would be split into logical chunks for optimal review process. Regarding the potential payload extension attack, Antoine believes that the changes proposed in [3] to allow tx replacement by smaller witnesses would provide a viable solution. However, in terms of DoS, Antoine says that he wouldn't give a strong opinion before better formalization or consensus of the use-case requirements. Finally, Joost suggests that it may be indicative of the need to have an alternative way to relay transactions to miners besides the p2p network due to the long timeline for witness replacement to become effective. However, Antoine agrees that it would be ideal if there is a good solution that doesn't require any protocol changes or upgrade path.</p>
    <hr>
    <p><i> Updated on: 2023-06-16T18:47:02.563787+00:00 </i></p>
    
    

    <footer>
        <span style="font-family: Arial, Helvetica, sans-serif;">&#10084;&#65039;</span> <a href="https://chaincode.com" target="_blank" rel="noreferrer" style="text-decoration: none; color: inherit;">Chaincode</a>
    </footer>
</body>

</html>