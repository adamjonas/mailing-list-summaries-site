<!doctype html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="Content-Type" content="text/html; charset=us-ascii">
    <title>Atom Feed Display</title>
    <link rel="stylesheet" href="../../archive_styles.css">
</head>

<body BGCOLOR="#fffffb">
    
    <h1>Standardisation of an unstructured taproot annex</h1>
    <hr class="solid">
    
    <ul>
        
        
            <p><b>Author:</b> Antoine Riard 2023-06-18 20:32:12+00:00
            <br><i>Published on: 2023-06-18T20:32:12+00:00</i></p>

        
        

        
        
        <li>
        <a href="/bitcoin-dev/June_2023/combined_Standardisation-of-an-unstructured-taproot-annex.xml.html"> Combined Summary of all posts in thread </a>
        </li>
        
        <li>
            
                <a href="https://lists.linuxfoundation.org/pipermail/bitcoin-dev/2023-June/021775.html">Click here to read original discussion on the bitcoin-dev mailing list</a>
            
        </li>

    </ul>

    <hr>
    <h3> Summary:</h3>
    <p>The bitcoin developers are discussing the implementation of an opt-in annex for every input, even if it is empty. This would require modifying current Taproot support on the Lightning-side, where all P2TR spends must add an annex and commit to it in the BIP341 signature digest. The upgrade is mandatory for Lightning nodes, as failure to do so would break propagations of their `option_taproot` channel transactions. Another approach suggested is to limit the maximum size/weight of the witness/transaction by introducing it as a TLV record itself. Additionally, the format of TLV records from bips #1381 allows only tlv record 0 - unstructured data that could be used for future extensibility. However, there is a practical objection to making the annex standard under these conditions as the limit of 126 bytes isn't sufficient for some types of vaults. If there are two presigned txes (unvault and emergency), those signatures would already take up 2*64=128 bytes. It is suggested to limit the maximum size of the value to 256 bytes to protect opt-in users.</p>
    <hr>
    <p><i> Updated on: 2023-06-24T01:24:25.233619+00:00 </i></p>
    
    

    <footer>
        <span style="font-family: Arial, Helvetica, sans-serif;">&#10084;&#65039;</span> <a href="https://chaincode.com" target="_blank" rel="noreferrer" style="text-decoration: none; color: inherit;">Chaincode</a>
    </footer>
</body>

</html>