<!doctype html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="Content-Type" content="text/html; charset=us-ascii">
    <title>Atom Feed Display</title>
    <link rel="stylesheet" href="../../archive_styles.css">
</head>

<body BGCOLOR="#fffffb">
    
    <h1>New transaction policies (nVersion=3) for contracting protocols</h1>
    <hr class="solid">
    
    <ul>
        
        
            <p><b>Author:</b> Greg Sanders 2023-06-21 20:57:45+00:00
            <br><i>Published on: 2023-06-21T20:57:45+00:00</i></p>

        
        

        
        
        <li>
        <a href="/bitcoin-dev/June_2023/combined_New-transaction-policies-nVersion-3-for-contracting-protocols.html"> Combined Summary of all posts in thread </a>
        </li>
        
        <li>
            
                <a href="https://lists.linuxfoundation.org/pipermail/bitcoin-dev/2023-June/021780.html">Click here to read original discussion on the bitcoin-dev mailing list</a>
            
        </li>

    </ul>

    <hr>
    <h3> Summary:</h3>
    <p>In a discussion about the Bitcoin network, Greg Sanders talks about the possibility of replacing V2 transactions with V3 transactions and vice versa. He mentions that pinning can occur when sharing a transaction with someone else, especially in coinjoin-like transactions. Sanders suggests a method to un-pin coinjoins with V3 by staging all utxos separately into a timelocked utxo that is immediately spendable. However, he acknowledges that this solution has limitations, such as requiring an additional transaction per participant and less compatibility with other protocols.In another email, Gloria Zhao proposes mempool/transaction relay policies to aid L2/contract protocols. These policies aim to solve the remaining problems of the previously proposed Package Mempool Accept package RBF. Zhao provides an implementation for Bitcoin Core and invites feedback on the proposal. The new policies include additional rules for V3 transactions and modifications to package RBF rules. These rules are designed to provide inherited replaceability signaling, prevent pinning attacks, and limit the size of fee-bumping transactions.The Bitcoin development community is proposing changes to the transaction replacement policy to improve the incentive compatibility of replacement transactions. One new rule states that the minimum feerate of a child transaction should not be lower than the feerates of conflicting transactions and original transactions. Another new rule requires all package transactions with mempool conflicts to be V3, ensuring that only V3 transactions can pay to replace their ancestors' conflicts. These changes aim to address economic rationality and better account for different types of packages.Regarding Lightning Network (LN) usage, commitment transactions should be V3 and have 1 anchor output. They can be signed with low fees and later replaced by higher-feerate transactions. Multiple commitment transactions can be funded by one child transaction through "batched fee-bumping." It is advised not to spend from an unconfirmed V3 transaction due to restrictive descendant limits.The proposal addresses some expected questions and concerns. It states that the new rules fix Rule 3 Pinning, eliminate the need for CPFP, and do not significantly impact privacy in LN. V2 and V3 transactions can replace each other to prevent censorship, but violating the "inherited V3" rule will result in rejection. The proposal encourages feedback and review from the Bitcoin development community.More detailed information on the proposed changes can be found in the doc/policy/version3_transactions.md and doc/policy/packages.md documents included in the pull request.</p>
    <hr>
    <p><i> Updated on: 2023-07-02T02:41:01.346826+00:00 </i></p>
    
    

    <footer>
        <span style="font-family: Arial, Helvetica, sans-serif;">&#10084;&#65039;</span> <a href="https://chaincode.com" target="_blank" rel="noreferrer" style="text-decoration: none; color: inherit;">Chaincode</a>
    </footer>
</body>

</html>