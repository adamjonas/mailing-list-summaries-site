<!doctype html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="Content-Type" content="text/html; charset=us-ascii">
    <title>Atom Feed Display</title>
    <link rel="stylesheet" href="../../archive_styles.css">
</head>

<body BGCOLOR="#fffffb">
    
    <h1>Standardisation of an unstructured taproot annex</h1>
    <hr class="solid">
    
    <ul>
        
        
            <p><b>Author:</b> Antoine Riard 2023-06-18 20:32:12+00:00
            <br><i>Published on: 2023-06-18T20:32:12+00:00</i></p>

        
        

        
        
        <li>
        <a href="/bitcoin-dev/June_2023/combined_Standardisation-of-an-unstructured-taproot-annex.html"> Combined Summary of all posts in thread </a>
        </li>
        
        <li>
            
                <a href="https://lists.linuxfoundation.org/pipermail/bitcoin-dev/2023-June/021775.html">Click here to read original discussion on the bitcoin-dev mailing list</a>
            
        </li>

    </ul>

    <hr>
    <h3> Summary:</h3>
    <p>The discussion on the bitcoin-dev mailing list revolves around the implementation of an opt-in annex and a maximum size limit for value in Bitcoin transactions. The purpose of the opt-in annex is to ensure that every input commits to an annex, even if it is empty, in order to protect existing multi-party protocols. However, this would require modifications to the Taproot support on the Lightning-side, which could potentially break the propagation of `option_taproot` channel transactions if not upgraded.Another approach suggested is to introduce the maximum size/weight of the witness/transaction as a TLV (Type-Length-Value) record itself. This proposal can be found in a GitHub branch (<a href="https://github.com/bitcoin-inquisition/bitcoin/pull/28),">https://github.com/bitcoin-inquisition/bitcoin/pull/28),</a> which also implements the "only allow tlv record 0" with the TLV format from BIP #1381. This approach allows for future extensibility and protects opt-in users by limiting the maximum size of the value to 256 bytes.Joost Jager raises concerns about the current limit of 126 bytes in another GitHub pull request (<a href="https://github.com/bitcoin-inquisition/bitcoin/pull/22),">https://github.com/bitcoin-inquisition/bitcoin/pull/22),</a> stating that it is insufficient for certain types of vaults. He suggests a more restrictive policy that includes the opt-in annex, Tlv format, only allowing tlv record 0 for unstructured data, and a maximum size limit of 256 bytes. However, he points out that the current limit does not provide enough space for multiple presigned transactions and additional vault parameters.Overall, the discussion focuses on finding a solution that balances the need for protection and extensibility while considering practical limitations.</p>
    <hr>
    <p><i> Updated on: 2023-07-04T02:38:52.423952+00:00 </i></p>
    
    

    <footer>
        <span style="font-family: Arial, Helvetica, sans-serif;">&#10084;&#65039;</span> <a href="https://chaincode.com" target="_blank" rel="noreferrer" style="text-decoration: none; color: inherit;">Chaincode</a>
    </footer>
</body>

</html>