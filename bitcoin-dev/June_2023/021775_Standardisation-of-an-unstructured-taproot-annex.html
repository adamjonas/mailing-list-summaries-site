<!doctype html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="Content-Type" content="text/html; charset=us-ascii">
    <title>Atom Feed Display</title>
    <link rel="stylesheet" href="../../archive_styles.css">
</head>

<body BGCOLOR="#fffffb">
    
    <h1>Standardisation of an unstructured taproot annex</h1>
    <hr class="solid">
    
    <ul>
        
        
            <p><b>Author:</b> Antoine Riard 2023-06-18 20:32:12+00:00
            <br><i>Published on: 2023-06-18T20:32:12+00:00</i></p>

        
        

        
        
        <li>
        <a href="/bitcoin-dev/June_2023/combined_Standardisation-of-an-unstructured-taproot-annex.html"> Combined Summary of all posts in thread </a>
        </li>
        
        <li>
            
                <a href="https://lists.linuxfoundation.org/pipermail/bitcoin-dev/2023-June/021775.html">Click here to read original discussion on the bitcoin-dev mailing list</a>
            
        </li>

    </ul>

    <hr>
    <h3> Summary:</h3>
    <p>There is a discussion among participants about certain modifications to the Taproot support on the Lightning-side. One proposal suggests that every input must commit to an annex, even if it is empty, in order to ensure that existing multi-party protocols are not affected. This would require a mandatory upgrade for Lightning nodes, as failure to do so would disrupt the propagation of their 'option_taproot' channel transactions.Another approach being considered is to limit the maximum size/weight of the witness/transaction to 256 bytes. This is intended to protect opt-in users. There is a branch on GitHub that implements this approach along with the "only allow tlv record 0" using the TLV format from BIP #1381.Greg Sanders suggests that the TLV format is a reasonable starting point, as it does not have a significant impact on current users and is straightforward from an accounting perspective. He also mentions the possibility of relaxing the restrictions in the future by using max tx size policy "hints" in an annex field.Joost Jager proposes a set of policies that could be implemented to enable annex-vaults while still protecting opt-in users. These policies include the opt-in annex requirement, the use of the TLV format, allowing only unstructured data in tlv record 0, and limiting the maximum size of the value to 256 bytes. However, Joost points out that the current limit of 126 bytes may not be sufficient for vaults that involve multiple presigned transactions.Overall, the discussion revolves around finding a balance between implementing new features and ensuring the compatibility of existing protocols, as well as protecting the interests of opt-in users.</p>
    <hr>
    <p><i> Updated on: 2023-07-09T02:48:48.308777+00:00 </i></p>
    
    

    <footer>
        <span style="font-family: Arial, Helvetica, sans-serif;">&#10084;&#65039;</span> <a href="https://chaincode.com" target="_blank" rel="noreferrer" style="text-decoration: none; color: inherit;">Chaincode</a>
    </footer>
</body>

</html>