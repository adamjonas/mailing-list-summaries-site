<!doctype html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="Content-Type" content="text/html; charset=us-ascii">
    <title>Atom Feed Display</title>
    <link rel="stylesheet" href="../../archive_styles.css">
</head>

<body BGCOLOR="#fffffb">
    
    <h1>Standardisation of an unstructured taproot annex</h1>
    <hr class="solid">
    
    <ul>
        
        
            <p><b>Author:</b> Antoine Riard 2023-06-19 01:14:10+00:00
            <br><i>Published on: 2023-06-19T01:14:10+00:00</i></p>

        
        

        
        
        <li>
        <a href="/bitcoin-dev/June_2023/combined_Standardisation-of-an-unstructured-taproot-annex.html"> Combined Summary of all posts in thread </a>
        </li>
        
        <li>
            
                <a href="https://lists.linuxfoundation.org/pipermail/bitcoin-dev/2023-June/021776.html">Click here to read original discussion on the bitcoin-dev mailing list</a>
            
        </li>

    </ul>

    <hr>
    <h3> Summary:</h3>
    <p>Antoine Riard is seeking clarification on the concept of opt-in annex and whether it applies to non-deployed protocols or deployed ones like coinjoin/lightning spending P2TR outputs. He mentions that if the opt-in mechanism only applies to non-deployed protocols, then currently deployed protocols can still be opted-in through the script spend path in the context of collaborative added inputs. However, he also acknowledges that the coordination cost of deploying a new policy for these use cases might be prohibitive. Antoine suggests that instead of being encumbered by premature choices, there should be sound and "firewalled" signaling and upgrading mechanisms to deploy new policy rules for new use cases more smoothly.Greg Sanders responds to Antoine's message and requests a citation for the claim regarding Taproot support on the Lightning side. He emphasizes that protocols should not be built on top of undeveloped upgrade hooks and expresses his confusion about the situation.Antoine agrees that it would be ideal not to be encumbered by premature choices but highlights that if these use cases gain economic weight, the coordination cost of deploying a new policy might be high or require long periods. He argues that these use cases should not be considered illegitimate and that base-layer policy should not always have the final say. Antoine uses the example of lightning to illustrate the need for improved signaling and upgrading mechanisms to deploy new policy rules for new use cases effectively.Joost Jager joins the conversation and proposes a restrictive policy for enabling annex-vaults while considering existing multi-party protocols. The proposed policy includes an opt-in annex for every input, a TLV format for future extensibility, allowing only unstructured data records, and limiting the maximum size of the value to 256 bytes to protect opt-in users. Joost also addresses the limitation of the current 126-byte limit and suggests that it is insufficient for vaults with multiple presigned transactions. He seeks feedback on the proposed policy and asks if there are any remaining practical objections to making the annex standard under the listed conditions.The conversation highlights the need for clarification on the opt-in annex mechanism, the potential impact on existing protocols, and the importance of smooth deployment of new policy rules for evolving use cases. The discussion also touches on the limitations of the current size limit and proposes a more accommodating policy for annex-vaults.</p>
    <hr>
    <p><i> Updated on: 2023-07-06T02:45:22.623326+00:00 </i></p>
    
    

    <footer>
        <span style="font-family: Arial, Helvetica, sans-serif;">&#10084;&#65039;</span> <a href="https://chaincode.com" target="_blank" rel="noreferrer" style="text-decoration: none; color: inherit;">Chaincode</a>
    </footer>
</body>

</html>