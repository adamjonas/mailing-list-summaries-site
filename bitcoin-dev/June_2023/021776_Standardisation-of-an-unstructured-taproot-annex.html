<!doctype html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="Content-Type" content="text/html; charset=us-ascii">
    <title>Atom Feed Display</title>
    <link rel="stylesheet" href="../../archive_styles.css">
</head>

<body BGCOLOR="#fffffb">
    
    <h1>Standardisation of an unstructured taproot annex</h1>
    <hr class="solid">
    
    <ul>
        
        
            <p><b>Author:</b> Antoine Riard 2023-06-19 01:14:10+00:00
            <br><i>Published on: 2023-06-19T01:14:10+00:00</i></p>

        
        

        
        
        <li>
        <a href="/bitcoin-dev/June_2023/combined_Standardisation-of-an-unstructured-taproot-annex.html"> Combined Summary of all posts in thread </a>
        </li>
        
        <li>
            
                <a href="https://lists.linuxfoundation.org/pipermail/bitcoin-dev/2023-June/021776.html">Click here to read original discussion on the bitcoin-dev mailing list</a>
            
        </li>

    </ul>

    <hr>
    <h3> Summary:</h3>
    <p>Antoine Riard is seeking clarification on the opt-in mechanism for protocols in the Bitcoin network. He wants to know if it applies to non-deployed protocols, such as pre-signed vaults, or deployed protocols like coinjoin/lightning spending P2TR outputs. He mentions that the witness inflation caused by counterparty script spend paths in certain spending scenarios needs to be addressed. Antoine suggests that if the opt-in mechanism only applies to non-deployed protocols, then currently deployed protocols can still be opted-in to the new annex policy through script spend paths. He also discusses the coordination cost and time required to deploy a new policy for use cases that gain economic weight. Antoine believes that base-layer policy should not always have the final say and emphasizes the need for sound and "firewalled" signaling and upgrading mechanisms that allow for smoother deployment of new policy rules for new use-cases.Greg Sanders responds to Antoine's message and expresses confusion regarding the requirement to modify current Taproot support on the Lightning-side. He requests a citation for further clarification. Greg states that protocols meant for production should not be built on top of undeveloped upgrade hooks and should not be encumbered by premature choices.Antoine acknowledges Greg's point about avoiding premature choices but argues that if certain use-cases gain economic weight, deploying a new policy may become prohibitively costly or time-consuming. He mentions the example of lightning and the ongoing re-work of the mempool to improve lightning operations. Antoine suggests that there should be better mechanisms for signaling and upgrading to deploy new policy rules for new use-cases more smoothly.The conversation continues with additional comments from Joost Jager and Greg Sanders discussing the opt-in annex, TLV format, and maximum size restrictions for the annex. Joost proposes a set of policies that enable annex-vaults while ensuring compatibility with existing multi-party protocols and allowing for future extensibility. He suggests using the TLV format defined in a GitHub pull request and limiting the maximum size of the annex value to 256 bytes to protect opt-in users. However, he notes that the current limit of 126 bytes is not sufficient for certain vaults and proposes increasing it.Overall, the conversation revolves around the opt-in mechanism for protocols in the Bitcoin network and the need for clear policies and mechanisms to ensure smooth deployment of new policy rules while avoiding premature choices and encumbrances. The participants discuss the implications for existing and non-deployed protocols, coordination costs, and the importance of sound signaling and upgrading mechanisms.</p>
    <hr>
    <p><i> Updated on: 2023-06-30T02:32:03.575761+00:00 </i></p>
    
    

    <footer>
        <span style="font-family: Arial, Helvetica, sans-serif;">&#10084;&#65039;</span> <a href="https://chaincode.com" target="_blank" rel="noreferrer" style="text-decoration: none; color: inherit;">Chaincode</a>
    </footer>
</body>

</html>