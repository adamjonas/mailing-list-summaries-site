<!doctype html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="Content-Type" content="text/html; charset=us-ascii">
    <title>Atom Feed Display</title>
    <link rel="stylesheet" href="../../archive_styles.css">
</head>

<body BGCOLOR="#fffffb">
    
    <h1>Standardisation of an unstructured taproot annex</h1>
    <hr class="solid">
    
    <ul>
        
        
            <p><b>Author:</b> Antoine Riard 2023-06-19 01:14:10+00:00
            <br><i>Published on: 2023-06-19T01:14:10+00:00</i></p>

        
        

        
        
        <li>
        <a href="/bitcoin-dev/June_2023/combined_Standardisation-of-an-unstructured-taproot-annex.html"> Combined Summary of all posts in thread </a>
        </li>
        
        <li>
            
                <a href="https://lists.linuxfoundation.org/pipermail/bitcoin-dev/2023-June/021776.html">Click here to read original discussion on the bitcoin-dev mailing list</a>
            
        </li>

    </ul>

    <hr>
    <h3> Summary:</h3>
    <p>Antoine Riard raised a question regarding the opt-in mechanism for protocols in the context of non-deployed and deployed protocols. He mentioned scenarios like pre-signed vaults and coinjoin/lightning spending P2TR outputs, where witness inflation can occur. He suggested committing to an annex to avoid future interferences. Antoine also mentioned the possibility of opting in to the new annex policy through script spend paths for currently deployed protocols. Greg Sanders requested a citation for this information and emphasized that protocols should not be built on undeveloped upgrade hooks. Antoine acknowledged that ideally, they should not be encumbered by premature choices but mentioned that if use-cases gain economic weight, deploying a new policy might be costly or time-consuming. He highlighted the importance of sound signaling and upgrading mechanisms for deploying new policy rules smoothly.Greg Sanders questioned Antoine's statement about modifying current Taproot support on the Lightning-side. He requested a citation for clarification. Greg reiterated his view that protocols should not be built on undeveloped upgrade hooks. Antoine responded by explaining the implications of requiring every input to commit to an annex, particularly for Lightning nodes. He stated that failure to upgrade could break propagations of `option_taproot` channel transactions. Antoine also discussed another approach involving introducing the maximum size/weight of the witness/transaction as a TLV record itself.Joost Jager joined the conversation and proposed a restrictive policy for enabling annex-vaults while remaining in line with previous work. The proposed policy included an opt-in annex, a TLV format as defined in a GitHub pull request, allowing only unstructured data, and limiting the maximum value size to 256 bytes. Joost noted that the existing limit of 126 bytes would not be sufficient for certain vault scenarios. He asked for any practical objections to making the annex standard under these conditions.</p>
    <hr>
    <p><i> Updated on: 2023-07-10T02:45:14.463262+00:00 </i></p>
    
    

    <footer>
        <span style="font-family: Arial, Helvetica, sans-serif;">&#10084;&#65039;</span> <a href="https://chaincode.com" target="_blank" rel="noreferrer" style="text-decoration: none; color: inherit;">Chaincode</a>
    </footer>
</body>

</html>