<!doctype html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="Content-Type" content="text/html; charset=us-ascii">
    <title>Atom Feed Display</title>
    <link rel="stylesheet" href="../../archive_styles.css">
</head>

<body BGCOLOR="#fffffb">
    
    <h1>Standardisation of an unstructured taproot annex</h1>
    <hr class="solid">
    
    <ul>
        
        
            <p><b>Author:</b> Antoine Riard 2023-06-19 01:14:10+00:00
            <br><i>Published on: 2023-06-19T01:14:10+00:00</i></p>

        
        

        
        
        <li>
        <a href="/bitcoin-dev/June_2023/combined_Standardisation-of-an-unstructured-taproot-annex.html"> Combined Summary of all posts in thread </a>
        </li>
        
        <li>
            
                <a href="https://lists.linuxfoundation.org/pipermail/bitcoin-dev/2023-June/021776.html">Click here to read original discussion on the bitcoin-dev mailing list</a>
            
        </li>

    </ul>

    <hr>
    <h3> Summary:</h3>
    <p>In this email conversation, Antoine Riard and Greg Sanders discuss the concept of opt-in annexes and their implications for existing protocols. Antoine raises a question about whether the opt-in mechanism applies to non-deployed protocols or already deployed ones like coinjoin/lightning spending P2TR outputs. He suggests that if the opt-in mechanism is only meant for non-deployed protocols, then existing scripts can still be opted-in through collaborative added inputs. Greg requests a citation to clarify the situation.Antoine acknowledges that ideally, protocols should not be built on undeveloped upgrade hooks. However, he points out that if these use-cases gain economic weight, deploying a new policy might be costly and time-consuming. He believes that legitimate use-cases should not be hindered by base-layer policy and advocates for more efficient signaling and upgrading mechanisms.Greg expresses confusion about Antoine's statement regarding modifying Taproot support on the Lightning-side and requests a citation for clarification. He emphasizes that protocols should not rely on undeveloped upgrade hooks and should not impose premature choices. Antoine agrees that encumbering protocols with premature choices is undesirable but argues that if use-cases gain traction, the coordination cost of deploying new policies might be prohibitive. He cites the example of lightning operations requiring improvements to the mempool and suggests the need for smoother deployment of new policy rules for new use-cases.In another email thread, Joost Jager joins the discussion and proposes a set of policies for opt-in annexes. These include requiring every input to commit to an annex even if it is empty to ensure existing multi-party protocols remain unaffected, using the TLV format for future extensibility, allowing only unstructured data in tlv record 0 for future extensibility, and limiting the maximum size of the value to 256 bytes to protect opt-in users. Joost also highlights the limitations of the current limit of 126 bytes and explains why it is insufficient for certain vaults.Joost asks Greg if he can think of any practical objections to making the annex standard under the conditions listed above. The conversation ends with no response from Greg.Overall, the discussion revolves around the concept of opt-in annexes and their impact on existing and future protocols. Antoine and Joost highlight the need for clear guidelines and efficient upgrading mechanisms to accommodate new use-cases without encumbering existing protocols. Greg raises concerns about building protocols on undeveloped upgrade hooks and requests further clarification.</p>
    <hr>
    <p><i> Updated on: 2023-06-28T02:42:23.026269+00:00 </i></p>
    
    

    <footer>
        <span style="font-family: Arial, Helvetica, sans-serif;">&#10084;&#65039;</span> <a href="https://chaincode.com" target="_blank" rel="noreferrer" style="text-decoration: none; color: inherit;">Chaincode</a>
    </footer>
</body>

</html>