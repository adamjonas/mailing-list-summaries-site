<!doctype html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="Content-Type" content="text/html; charset=us-ascii">
    <title>Atom Feed Display</title>
    <link rel="stylesheet" href="../../archive_styles.css">
</head>

<body BGCOLOR="#fffffb">
    
    <h1>Standardisation of an unstructured taproot annex</h1>
    <hr class="solid">
    
    <ul>
        
        
            <p><b>Author:</b> Greg Sanders 2023-06-18 20:40:53+00:00
            <br><i>Published on: 2023-06-18T20:40:53+00:00</i></p>

        
        

        
        
        <li>
        <a href="/bitcoin-dev/June_2023/combined_Standardisation-of-an-unstructured-taproot-annex.xml.html"> Combined Summary of all posts in thread </a>
        </li>
        
        <li>
            
                <a href="https://lists.linuxfoundation.org/pipermail/bitcoin-dev/2023-June/021774.html">Click here to read original discussion on the bitcoin-dev mailing list</a>
            
        </li>

    </ul>

    <hr>
    <h3> Summary:</h3>
    <p>In this email thread, Greg Sanders asks for clarification from Antoine Riard on his proposal for an 'opt-in annex'. The proposal requires every input to commit to an annex even if it is empty, which would require modifying current Taproot support on the Lightning-side. This mandatory upgrade for Lightning nodes would ensure that existing multi-party protocols remain unaffected. Antoine also suggests limiting the maximum size of the value to 256 bytes to protect opt-in users. However, he notes that there is another approach where the maximum size/weight of the witness/transaction is introduced as a TLV record itself. This approach is implemented in a branch that also implements "only allow tlv record 0" with the TLV format from BIPs #1381. Joost Jager suggests a more restrictive policy that would enable annex-vaults and is in line with previous work done. His proposed policy includes an opt-in annex, Tlv format, only allowing tlv record 0, and limiting the maximum size of the value to 256 bytes. However, the limit of 126 bytes isn't sufficient for these types of vaults as two presigned txes (unvault and emergency) signatures would already take up 2*64=128 bytes. Then you also want to store 32 bytes for the ephemeral key itself, and the remaining bytes could be used for a third presigned tx and/or additional vault parameters.</p>
    <hr>
    <p><i> Updated on: 2023-06-27T03:00:22.608281+00:00 </i></p>
    
    

    <footer>
        <span style="font-family: Arial, Helvetica, sans-serif;">&#10084;&#65039;</span> <a href="https://chaincode.com" target="_blank" rel="noreferrer" style="text-decoration: none; color: inherit;">Chaincode</a>
    </footer>
</body>

</html>