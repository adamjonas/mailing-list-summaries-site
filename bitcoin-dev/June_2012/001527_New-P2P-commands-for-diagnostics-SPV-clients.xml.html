<!doctype html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="Content-Type" content="text/html; charset=us-ascii">
    <title>Atom Feed Display</title>
    <link rel="stylesheet" href="../../archive_styles.css">
</head>

<body BGCOLOR="#fffffb">
    
    <h1>New P2P commands for diagnostics, SPV clients</h1>
    <hr class="solid">
    
    <ul>
        
        
            <p><b>Author:</b> Mike Hearn 2012-06-14 11:52:29
            <br><i>Published on: 2012-06-14T11:52:29+00:00</i></p>

        
        

        
        
        <li>
        <a href="/bitcoin-dev/June_2012/combined_New-P2P-commands-for-diagnostics-SPV-clients.xml.html"> Combined Summary of all posts in thread </a>
        </li>
        
        <li>
            
                <a href="https://lists.linuxfoundation.org/pipermail/bitcoin-dev/2012-June/001527.html">Click here to read original discussion on the bitcoin-dev mailing list</a>
            
        </li>

    </ul>

    <hr>
    <h3> Summary:</h3>
    <p>The two functions 'filterinit' and 'filterload' are used to initialize and input a serialized bloom filter table metadata and data, respectively. These functions can be combined with 'filteradd' to enable special behavior changes for 'mempool' and existing P2P commands. This means that only transactions matching the bloom filter will be announced to the connection and only matching transactions will be sent inside serialized blocks. It is important to specify the format of how these arrive. When a new block is found, instead of 'invgetdatablock', we would see something like 'invgetdatamerkleblock', where a "merkleblock" structure is a header, list of transactions, and list of merkle branches linking them to the root. The 'CMerkleTx' already knows how to serialize this but redundantly includes the block hash, which would not be necessary for a merkleblock message.</p>
    <hr>
    <p><i> Updated on: 2023-06-06T05:00:03.067410+00:00 </i></p>
    
    

    <footer>
        <span style="font-family: Arial, Helvetica, sans-serif;">&#10084;&#65039;</span> <a href="https://chaincode.com" target="_blank" rel="noreferrer" style="text-decoration: none; color: inherit;">Chaincode</a>
    </footer>
</body>

</html>