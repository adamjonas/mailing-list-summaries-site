<!doctype html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="Content-Type" content="text/html; charset=us-ascii">
    <title>Atom Feed Display</title>
    <link rel="stylesheet" href="../../archive_styles.css">
</head>

<body BGCOLOR="#fffffb">
    
    <h1>New P2P commands for diagnostics, SPV clients</h1>
    <hr class="solid">
    
    <ul>
        
        
            <p><b>Author:</b> Matt Corallo 2012-06-15 14:56:52
            <br><i>Published on: 2012-06-15T14:56:52+00:00</i></p>

        
        

        
        
        <li>
        <a href="/bitcoin-dev/June_2012/combined_New-P2P-commands-for-diagnostics-SPV-clients.xml.html"> Combined Summary of all posts in thread </a>
        </li>
        
        <li>
            
                <a href="https://lists.linuxfoundation.org/pipermail/bitcoin-dev/2012-June/001542.html">Click here to read original discussion on the bitcoin-dev mailing list</a>
            
        </li>

    </ul>

    <hr>
    <h3> Summary:</h3>
    <p>In a 2012 email exchange, Bitcoin developer Mike Hearn proposed a three-part change to the format of transactions. The first step would be to add a mempool command and have nodes sync up their mempools on startup. The second step would involve changing the "block" message so that it consists of a header, number of transactions, and vector instead of full transactions. When receiving this type of block, nodes would look for missing transactions in their mempool and request them with getdata. Once all transactions are assembled, the block would be verified as normal. This would speed up block propagation and reduce wasted work for miners.The third step would introduce a new message called getmerkletx, which takes a vector and returns a merkletx message containing a merkle branch missing the root and transaction data itself for each requested transaction. Filtering commands would also be added so that only transaction hashes matching the filter would be listed in block messages. Matt suggested making getmerkletxs vector and responding with a partial merkle tree for those transactions, which Hearn did not think would be too difficult.</p>
    <hr>
    <p><i> Updated on: 2023-05-19T03:41:26.412430+00:00 </i></p>
    
    

    <footer>
        <span style="font-family: Arial, Helvetica, sans-serif;">&#10084;&#65039;</span> <a href="https://chaincode.com" target="_blank" rel="noreferrer" style="text-decoration: none; color: inherit;">Chaincode</a>
    </footer>
</body>

</html>