<!doctype html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="Content-Type" content="text/html; charset=us-ascii">
    <title>Atom Feed Display</title>
    <link rel="stylesheet" href="../../archive_styles.css">
</head>

<body BGCOLOR="#fffffb">
    
    <h1>New P2P commands for diagnostics, SPV clients</h1>
    <hr class="solid">
    
    <ul>
        
        
            <p><b>Author:</b> Mike Hearn 2012-06-16 08:25:48
            <br><i>Published on: 2012-06-16T08:25:48+00:00</i></p>

        
        

        
        
        <li>
        <a href="/bitcoin-dev/June_2012/combined_New-P2P-commands-for-diagnostics-SPV-clients.xml.html"> Combined Summary of all posts in thread </a>
        </li>
        
        <li>
            
                <a href="https://lists.linuxfoundation.org/pipermail/bitcoin-dev/2012-June/001572.html">Click here to read original discussion on the bitcoin-dev mailing list</a>
            
        </li>

    </ul>

    <hr>
    <h3> Summary:</h3>
    <p>The bottleneck for the android Bitcoin Wallet app is rapidly becoming bandwidth and parse time. A discussion among the developers regarding this was held in June 2012 where Amir Taaki mentioned that he doesn't believe that network traffic is the issue here, instead it's disk space usage/blockchain validation time which is causing the problem. They were discussing about adding new P2P commands for diagnostics and SPV clients, and also figuring out a format that can provide users with all the necessary information. Matt made a good point about data duplication, but the group felt that trying to fix it would make things much more complicated. They came up with a three-part change to resolve the issue - first step was to add the mempool command and make nodes sync up their mempools on startup. Second step was that if protocol version >= X, the "block" message consists of a header + num transactions + vectorÂ  instead of the full transactions themselves. The third and final step was to introduce a new message, getmerkletx takes a vector and returns a merkletx message: "merkle branch missing the root + transaction data itself" for each requested transaction. The filtering commands are added, so the block message now only lists transaction hashes that match the filter which can then be requested with getmerkletx.</p>
    <hr>
    <p><i> Updated on: 2023-06-06T05:01:40.854119+00:00 </i></p>
    
    

    <footer>
        <span style="font-family: Arial, Helvetica, sans-serif;">&#10084;&#65039;</span> <a href="https://chaincode.com" target="_blank" rel="noreferrer" style="text-decoration: none; color: inherit;">Chaincode</a>
    </footer>
</body>

</html>