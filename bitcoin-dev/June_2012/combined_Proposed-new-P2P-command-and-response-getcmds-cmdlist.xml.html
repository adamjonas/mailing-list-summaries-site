<!doctype html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="Content-Type" content="text/html; charset=us-ascii">
    <title>Atom Feed Display</title>
    <link rel="stylesheet" href="../../archive_styles.css">
</head>

<body BGCOLOR="#fffffb">
    
    <h1>Proposed new P2P command and response: getcmds, cmdlist <span class="combined-summary">[combined summary]</span></h1>
    <hr class="solid">
    <br><b>Individual post summaries:</b>
    
        <ul>
            
                
                    <li>
                        <a href="/bitcoin-dev/June_2012/001564_Proposed-new-P2P-command-and-response-getcmds-cmdlist.xml.html">Proposed new P2P command and response: getcmds, cmdlist</a>
                        <b>Amir Taaki 2012-06-16 01:34:53</b>
                    </li>
                
                    <li>
                        <a href="/bitcoin-dev/June_2012/001567_Proposed-new-P2P-command-and-response-getcmds-cmdlist.xml.html">Proposed new P2P command and response: getcmds, cmdlist</a>
                        <b>Wladimir 2012-06-16 06:45:00</b>
                    </li>
                
                    <li>
                        <a href="/bitcoin-dev/June_2012/001587_Proposed-new-P2P-command-and-response-getcmds-cmdlist.xml.html">Proposed new P2P command and response: getcmds, cmdlist</a>
                        <b>Jeff Garzik 2012-06-17 15:19:53</b>
                    </li>
                
                    <li>
                        <a href="/bitcoin-dev/June_2012/001588_Proposed-new-P2P-command-and-response-getcmds-cmdlist.xml.html">Proposed new P2P command and response: getcmds, cmdlist</a>
                        <b>Amir Taaki 2012-06-17 16:30:41</b>
                    </li>
                
                    <li>
                        <a href="/bitcoin-dev/June_2012/001576_Proposed-new-P2P-command-and-response-getcmds-cmdlist.xml.html">Proposed new P2P command and response: getcmds, cmdlist</a>
                        <b>Amir Taaki 2012-06-16 09:16:46</b>
                    </li>
                
                    <li>
                        <a href="/bitcoin-dev/June_2012/001577_Proposed-new-P2P-command-and-response-getcmds-cmdlist.xml.html">Proposed new P2P command and response: getcmds, cmdlist</a>
                        <b>Andy Parkins 2012-06-16 09:54:11</b>
                    </li>
                
                    <li>
                        <a href="/bitcoin-dev/June_2012/001588_Proposed-new-P2P-command-and-response-getcmds-cmdlist.xml.html">Proposed new P2P command and response: getcmds, cmdlist</a>
                        <b>Amir Taaki 2012-06-17 16:30:41</b>
                    </li>
                
                    <li>
                        <a href="/bitcoin-dev/June_2012/001563_Proposed-new-P2P-command-and-response-getcmds-cmdlist.xml.html">Proposed new P2P command and response: getcmds, cmdlist</a>
                        <b>Jeff Garzik 2012-06-16 00:13:21</b>
                    </li>
                
                    <li>
                        <a href="/bitcoin-dev/June_2012/001567_Proposed-new-P2P-command-and-response-getcmds-cmdlist.xml.html">Proposed new P2P command and response: getcmds, cmdlist</a>
                        <b>Wladimir 2012-06-16 06:45:00</b>
                    </li>
                
                    <li>
                        <a href="/bitcoin-dev/June_2012/001570_Proposed-new-P2P-command-and-response-getcmds-cmdlist.xml.html">Proposed new P2P command and response: getcmds, cmdlist</a>
                        <b>Andy Parkins 2012-06-16 08:16:24</b>
                    </li>
                
                    <li>
                        <a href="/bitcoin-dev/June_2012/001577_Proposed-new-P2P-command-and-response-getcmds-cmdlist.xml.html">Proposed new P2P command and response: getcmds, cmdlist</a>
                        <b>Andy Parkins 2012-06-16 09:54:11</b>
                    </li>
                
                    <li>
                        <a href="/bitcoin-dev/June_2012/001599_Proposed-new-P2P-command-and-response-getcmds-cmdlist.xml.html">Proposed new P2P command and response: getcmds, cmdlist</a>
                        <b>Mark Friedenbach 2012-06-18 01:27:39</b>
                    </li>
                
                    <li>
                        <a href="/bitcoin-dev/June_2012/001575_Proposed-new-P2P-command-and-response-getcmds-cmdlist.xml.html">Proposed new P2P command and response: getcmds, cmdlist</a>
                        <b>Wladimir 2012-06-16 08:42:21</b>
                    </li>
                
                    <li>
                        <a href="/bitcoin-dev/June_2012/001599_Proposed-new-P2P-command-and-response-getcmds-cmdlist.xml.html">Proposed new P2P command and response: getcmds, cmdlist</a>
                        <b>Mark Friedenbach 2012-06-18 01:27:39</b>
                    </li>
                
                    <li>
                        <a href="/bitcoin-dev/June_2012/001564_Proposed-new-P2P-command-and-response-getcmds-cmdlist.xml.html">Proposed new P2P command and response: getcmds, cmdlist</a>
                        <b>Amir Taaki 2012-06-16 01:34:53</b>
                    </li>
                
                    <li>
                        <a href="/bitcoin-dev/June_2012/001570_Proposed-new-P2P-command-and-response-getcmds-cmdlist.xml.html">Proposed new P2P command and response: getcmds, cmdlist</a>
                        <b>Andy Parkins 2012-06-16 08:16:24</b>
                    </li>
                
                    <li>
                        <a href="/bitcoin-dev/June_2012/001575_Proposed-new-P2P-command-and-response-getcmds-cmdlist.xml.html">Proposed new P2P command and response: getcmds, cmdlist</a>
                        <b>Wladimir 2012-06-16 08:42:21</b>
                    </li>
                
                    <li>
                        <a href="/bitcoin-dev/June_2012/001564_Proposed-new-P2P-command-and-response-getcmds-cmdlist.xml.html">Proposed new P2P command and response: getcmds, cmdlist</a>
                        <b>Amir Taaki 2012-06-16 01:34:53</b>
                    </li>
                
                    <li>
                        <a href="/bitcoin-dev/June_2012/001576_Proposed-new-P2P-command-and-response-getcmds-cmdlist.xml.html">Proposed new P2P command and response: getcmds, cmdlist</a>
                        <b>Amir Taaki 2012-06-16 09:16:46</b>
                    </li>
                
                    <li>
                        <a href="/bitcoin-dev/June_2012/001587_Proposed-new-P2P-command-and-response-getcmds-cmdlist.xml.html">Proposed new P2P command and response: getcmds, cmdlist</a>
                        <b>Jeff Garzik 2012-06-17 15:19:53</b>
                    </li>
                
                    <li>
                        <a href="/bitcoin-dev/June_2012/001588_Proposed-new-P2P-command-and-response-getcmds-cmdlist.xml.html">Proposed new P2P command and response: getcmds, cmdlist</a>
                        <b>Amir Taaki 2012-06-17 16:30:41</b>
                    </li>
                
                    <li>
                        <a href="/bitcoin-dev/June_2012/001563_Proposed-new-P2P-command-and-response-getcmds-cmdlist.xml.html">Proposed new P2P command and response: getcmds, cmdlist</a>
                        <b>Jeff Garzik 2012-06-16 00:13:21</b>
                    </li>
                
                    <li>
                        <a href="/bitcoin-dev/June_2012/001570_Proposed-new-P2P-command-and-response-getcmds-cmdlist.xml.html">Proposed new P2P command and response: getcmds, cmdlist</a>
                        <b>Andy Parkins 2012-06-16 08:16:24</b>
                    </li>
                
                    <li>
                        <a href="/bitcoin-dev/June_2012/001571_Proposed-new-P2P-command-and-response-getcmds-cmdlist.xml.html">Proposed new P2P command and response: getcmds, cmdlist</a>
                        <b>Andy Parkins 2012-06-16 08:17:39</b>
                    </li>
                
                    <li>
                        <a href="/bitcoin-dev/June_2012/001576_Proposed-new-P2P-command-and-response-getcmds-cmdlist.xml.html">Proposed new P2P command and response: getcmds, cmdlist</a>
                        <b>Amir Taaki 2012-06-16 09:16:46</b>
                    </li>
                
                    <li>
                        <a href="/bitcoin-dev/June_2012/001577_Proposed-new-P2P-command-and-response-getcmds-cmdlist.xml.html">Proposed new P2P command and response: getcmds, cmdlist</a>
                        <b>Andy Parkins 2012-06-16 09:54:11</b>
                    </li>
                
                    <li>
                        <a href="/bitcoin-dev/June_2012/001563_Proposed-new-P2P-command-and-response-getcmds-cmdlist.xml.html">Proposed new P2P command and response: getcmds, cmdlist</a>
                        <b>Jeff Garzik 2012-06-16 00:13:21</b>
                    </li>
                
                    <li>
                        <a href="/bitcoin-dev/June_2012/001567_Proposed-new-P2P-command-and-response-getcmds-cmdlist.xml.html">Proposed new P2P command and response: getcmds, cmdlist</a>
                        <b>Wladimir 2012-06-16 06:45:00</b>
                    </li>
                
                    <li>
                        <a href="/bitcoin-dev/June_2012/001571_Proposed-new-P2P-command-and-response-getcmds-cmdlist.xml.html">Proposed new P2P command and response: getcmds, cmdlist</a>
                        <b>Andy Parkins 2012-06-16 08:17:39</b>
                    </li>
                
                    <li>
                        <a href="/bitcoin-dev/June_2012/001587_Proposed-new-P2P-command-and-response-getcmds-cmdlist.xml.html">Proposed new P2P command and response: getcmds, cmdlist</a>
                        <b>Jeff Garzik 2012-06-17 15:19:53</b>
                    </li>
                
                    <li>
                        <a href="/bitcoin-dev/June_2012/001599_Proposed-new-P2P-command-and-response-getcmds-cmdlist.xml.html">Proposed new P2P command and response: getcmds, cmdlist</a>
                        <b>Mark Friedenbach 2012-06-18 01:27:39</b>
                    </li>
                
                    <li>
                        <a href="/bitcoin-dev/June_2012/001571_Proposed-new-P2P-command-and-response-getcmds-cmdlist.xml.html">Proposed new P2P command and response: getcmds, cmdlist</a>
                        <b>Andy Parkins 2012-06-16 08:17:39</b>
                    </li>
                
                    <li>
                        <a href="/bitcoin-dev/June_2012/001575_Proposed-new-P2P-command-and-response-getcmds-cmdlist.xml.html">Proposed new P2P command and response: getcmds, cmdlist</a>
                        <b>Wladimir 2012-06-16 08:42:21</b>
                    </li>
                
            
        </ul>
        
            <a href="https://lists.linuxfoundation.org/pipermail/bitcoin-dev/2012-June/001564.html">Click here to read the original discussion on the bitcoin-dev mailing list</a>
        
        <p><i>Published on: 2012-06-16T01:34:53+00:00</i></p>
        <hr>
        <h3>Summary:</h3>
        <p>Bitcoin's P2P protocol poses challenges to developers maintaining non-Satoshi codebases due to its complexity and lack of documentation on the wiki. The current protocol is filled with magic numbers and versioned binary data structures, making it potentially buggy and insecure. The author suggests that incremental protocol versions with clear requirements could be a better solution than the current extension system.Amir Taaki proposes introspection/command discovery in the first version exchange to avoid assumptions about the network. However, this would require a change in the current version message. Dr. Andy Parkins suggests indicating that "getcmds" is available through one of the service bits instead of changing the message, thus requiring no on-the-wire change.In an email conversation, Andy Parkins and Wladimir discuss the potential introduction of state in Bitcoin and the need for a capabilities command. Wladimir expresses concern over the possibility of a complicated and potentially insecure protocol with the introduction of various clients. He recommends standardizing what a 'thin client' and what a 'thick client' does and offers at a certain version level to make it easier to deprecate certain features later on. While letting nodes know each other's capabilities at connection time would help, he questions the benefits compared to incremental protocol versions with clear requirements. He also recommends implementing a capability system with large granularity rather than command-level and defining the interaction between protocol versions and capabilities.Jeff Garzik proposes a new P2P command and response for enumerating minor features or extensions in the Bitcoin P2P protocol. Another option is to have verack return this information at login, eliminating the need for a separate command/response. Jeff Garzik discusses the present version of Bitcoin’s peer-to-peer (P2P) protocol and calls it a “zoo of complicated and potentially buggy interactions” with scarce, incomplete documentation.Overall, the conversation highlights the challenges faced by developers maintaining non-Satoshi codebases and the need for incremental protocol versions with clear requirements instead of the current extension system. The lack of documentation on the wiki makes it difficult to reference and implement, and the P2P protocol is already filled with magic numbers and arbitrarily versioned binary data structures, making it a potentially buggy and insecure zoo of complicated interactions. The author believes that progress should not be slowed down but hedged against conservatism.</p>
        <hr>
        <p><i>Updated on: 2023-06-06T05:29:08.508101+00:00</i></p>
    

    

    <footer>
        <span style="font-family: Arial, Helvetica, sans-serif;">&#10084;&#65039;</span> <a href="https://chaincode.com" target="_blank" rel="noreferrer" style="text-decoration: none; color: inherit;">Chaincode</a>
    </footer>
</body>

</html>