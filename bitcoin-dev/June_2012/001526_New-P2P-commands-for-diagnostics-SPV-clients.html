<!doctype html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="Content-Type" content="text/html; charset=us-ascii">
    <title>Atom Feed Display</title>
    <link rel="stylesheet" href="../../archive_styles.css">
</head>

<body BGCOLOR="#fffffb">
    
    <h1>New P2P commands for diagnostics, SPV clients</h1>
    <hr class="solid">
    
    <ul>
        
        
            <p><b>Author:</b> Jeff Garzik 2012-06-13 20:46:37
            <br><i>Published on: 2012-06-13T20:46:37+00:00</i></p>

        
        

        
        
        <li>
        <a href="/bitcoin-dev/June_2012/combined_New-P2P-commands-for-diagnostics-SPV-clients.html"> Combined Summary of all posts in thread </a>
        </li>
        
        <li>
            
                <a href="https://lists.linuxfoundation.org/pipermail/bitcoin-dev/2012-June/001526.html">Click here to read original discussion on the bitcoin-dev mailing list</a>
            
        </li>

    </ul>

    <hr>
    <h3> Summary:</h3>
    <p>The IRC discussion covered the additional needs of lightweight clients and proposed new P2P commands with associated behavior changes. The proposed commands include filterinit, filterload, filterclear, filteradd, and mempool. Filterinit initializes a per-connection bloom filter with given parameters. Filterload input serialized bloom filter table metadata and data, while filterclear removes any filtering associated with the current connection. Filteradd adds a single hash to the bloom filter. Mempool lists TX's in remote node's memory pool.Filterload and filteradd enable special behavior changes for mempool and existing P2P commands. Only transactions matching the bloom filter will be announced to the connection, and only matching transactions will be sent inside serialized blocks. A lightweight client would issue 'filterload', sync up with blocks, then use 'mempool' to sync up to current TX's. The 'mempool' command is thought to be useful as a diagnostic, even if a bloom filter is not applied to its output. A bloom filter match would need to notice activity on existing coins (via CTxIn->prevout) and activity on a bitcoin address (via CTxOut).</p>
    <hr>
    <p><i> Updated on: 2023-06-06T05:02:00.152614+00:00 </i></p>
    
    

    <footer>
        <span style="font-family: Arial, Helvetica, sans-serif;">&#10084;&#65039;</span> <a href="https://chaincode.com" target="_blank" rel="noreferrer" style="text-decoration: none; color: inherit;">Chaincode</a>
    </footer>
</body>

</html>