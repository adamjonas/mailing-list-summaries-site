<!doctype html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="Content-Type" content="text/html; charset=us-ascii">
    <title>Atom Feed Display</title>
    <link rel="stylesheet" href="../../archive_styles.css">
</head>

<body BGCOLOR="#fffffb">
    
    <h1>Memory leaks? <span class="combined-summary">[combined summary]</span></h1>
    <hr class="solid">
    <br><b>Individual post summaries:</b>
    
        <ul>
            
                
                    <li>
                        <a href="/bitcoin-dev/Oct_2015/011610_Memory-leaks-.html">Memory leaks?</a>
                        <b>Rusty Russell 2015-10-23 06:41:49+00:00</b>
                    </li>
                
                    <li>
                        <a href="/bitcoin-dev/Oct_2015/011600_Memory-leaks-.html">Memory leaks?</a>
                        <b>Btc Drak 2015-10-22 17:01:53+00:00</b>
                    </li>
                
                    <li>
                        <a href="/bitcoin-dev/Oct_2015/011599_Memory-leaks-.html">Memory leaks?</a>
                        <b>Jonathan Toomim 2015-10-22 16:27:59+00:00</b>
                    </li>
                
                    <li>
                        <a href="/bitcoin-dev/Oct_2015/011598_Memory-leaks-.html">Memory leaks?</a>
                        <b>Multipool Admin 2015-10-22 16:06:51+00:00</b>
                    </li>
                
                    <li>
                        <a href="/bitcoin-dev/Oct_2015/011587_Memory-leaks-.html">Memory leaks?</a>
                        <b>Jonathan Toomim 2015-10-21 17:58:15+00:00</b>
                    </li>
                
                    <li>
                        <a href="/bitcoin-dev/Oct_2015/011578_Memory-leaks-.html">Memory leaks?</a>
                        <b>Ross Bennetts 2015-10-21 07:59:28+00:00</b>
                    </li>
                
                    <li>
                        <a href="/bitcoin-dev/Oct_2015/011574_Memory-leaks-.html">Memory leaks?</a>
                        <b>Tom Zander 2015-10-21 07:29:19+00:00</b>
                    </li>
                
                    <li>
                        <a href="/bitcoin-dev/Oct_2015/011572_Memory-leaks-.html">Memory leaks?</a>
                        <b>Jonathan Toomim 2015-10-21 03:01:16+00:00</b>
                    </li>
                
                    <li>
                        <a href="/bitcoin-dev/Oct_2015/011571_Memory-leaks-.html">Memory leaks?</a>
                        <b>Jonathan Toomim 2015-10-20 12:39:01+00:00</b>
                    </li>
                
                    <li>
                        <a href="/bitcoin-dev/Oct_2015/011569_Memory-leaks-.html">Memory leaks?</a>
                        <b>Mike Hearn 2015-10-20 10:12:12+00:00</b>
                    </li>
                
                    <li>
                        <a href="/bitcoin-dev/Oct_2015/011568_Memory-leaks-.html">Memory leaks?</a>
                        <b>Multipool Admin 2015-10-19 22:24:11+00:00</b>
                    </li>
                
                    <li>
                        <a href="/bitcoin-dev/Oct_2015/011565_Memory-leaks-.html">Memory leaks?</a>
                        <b>Multipool Admin 2015-10-19 19:17:14+00:00</b>
                    </li>
                
                    <li>
                        <a href="/bitcoin-dev/Oct_2015/011560_Memory-leaks-.html">Memory leaks?</a>
                        <b>Jonathan Toomim 2015-10-18 15:59:11+00:00</b>
                    </li>
                
                    <li>
                        <a href="/bitcoin-dev/Oct_2015/011559_Memory-leaks-.html">Memory leaks?</a>
                        <b>admin at multipool.us 2015-10-17 04:37:30+00:00</b>
                    </li>
                
                    <li>
                        <a href="/bitcoin-dev/Oct_2015/011524_Memory-leaks-.html">Memory leaks?</a>
                        <b>odinn 2015-10-14 15:19:33+00:00</b>
                    </li>
                
                    <li>
                        <a href="/bitcoin-dev/Oct_2015/011522_Memory-leaks-.html">Memory leaks?</a>
                        <b>Wladimir J. van der Laan 2015-10-14 09:39:14+00:00</b>
                    </li>
                
                    <li>
                        <a href="/bitcoin-dev/Oct_2015/011520_Memory-leaks-.html">Memory leaks?</a>
                        <b>Mike Hearn 2015-10-14 09:09:40+00:00</b>
                    </li>
                
                    <li>
                        <a href="/bitcoin-dev/Oct_2015/011519_Memory-leaks-.html">Memory leaks?</a>
                        <b>Tom Zander 2015-10-14 07:58:48+00:00</b>
                    </li>
                
                    <li>
                        <a href="/bitcoin-dev/Oct_2015/011518_Memory-leaks-.html">Memory leaks?</a>
                        <b>Pavel Jan√≠k 2015-10-14 07:22:41+00:00</b>
                    </li>
                
                    <li>
                        <a href="/bitcoin-dev/Oct_2015/011517_Memory-leaks-.html">Memory leaks?</a>
                        <b>Dave Scotese 2015-10-14 00:25:29+00:00</b>
                    </li>
                
                    <li>
                        <a href="/bitcoin-dev/Oct_2015/011516_Memory-leaks-.html">Memory leaks?</a>
                        <b>Jonathan Toomim (Toomim Bros) 2015-10-14 00:08:56+00:00</b>
                    </li>
                
                    <li>
                        <a href="/bitcoin-dev/Oct_2015/011515_Memory-leaks-.html">Memory leaks?</a>
                        <b>odinn 2015-10-13 23:59:21+00:00</b>
                    </li>
                
                    <li>
                        <a href="/bitcoin-dev/Oct_2015/011514_Memory-leaks-.html">Memory leaks?</a>
                        <b>Dave Scotese 2015-10-13 23:52:05+00:00</b>
                    </li>
                
                    <li>
                        <a href="/bitcoin-dev/Oct_2015/011513_Memory-leaks-.html">Memory leaks?</a>
                        <b>Jonathan Toomim (Toomim Bros) 2015-10-13 23:14:46+00:00</b>
                    </li>
                
                    <li>
                        <a href="/bitcoin-dev/Oct_2015/011512_Memory-leaks-.html">Memory leaks?</a>
                        <b>odinn 2015-10-13 22:49:37+00:00</b>
                    </li>
                
                    <li>
                        <a href="/bitcoin-dev/Oct_2015/011511_Memory-leaks-.html">Memory leaks?</a>
                        <b>Jonathan Toomim (Toomim Bros) 2015-10-13 21:56:08+00:00</b>
                    </li>
                
            
        </ul>
        
            <a href="https://lists.linuxfoundation.org/pipermail/bitcoin-dev/2015-October/011610.html">Click here to read the original discussion on the bitcoin-dev mailing list</a>
        
        <p><i>Published on: 2015-10-23T06:41:49+00:00</i></p>
        <hr>
        <h3>Summary:</h3>
        <p>On October 13, 2015, a discussion about high memory usage in Bitcoin nodes took place on the bitcoin-dev mailing list. Jonathan Toomim raised the issue of his running bitcoind processes using around 3GB of RAM, even though the mempool was under control. He restarted the process and noticed that the memory usage became more reasonable. Another user reported a similar problem with 35 GB of RSS usage, sparking speculation that CreateNewBlock() and getblocktemplate might be the cause. Tom Zander suggested accurately measuring memory usage on Linux and shared a script for this purpose.The conversation also touched upon the need to investigate possible memory leaks, caches, and fragmentation as potential causes of the high memory usage. Valgrind was mentioned as a possible tool for detecting memory leaks, although it did not provide promising results at the time. The suggestion to run bitcoind in valgrind with the --leak-check=full option for 10 minutes was given. It was also noted that leaks may not be the only explanation, as caches and fragmentation could contribute to the observed memory usage.The issue of high memory usage in Bitcoin nodes was further discussed, with suggestions to mitigate mempool growth by setting the -mintxfee flag. It was mentioned that this would be the default in future versions. Version 0.12.0 was planned to include better mempool management and more precise reporting.The email thread also included discussions about cross-posting confusion and warnings against trolling behavior. Various topics related to memory usage were touched upon, such as accurately measuring memory on Linux, investigating memory leaks, and the potential impact of caches and fragmentation.Overall, the conversation revolved around identifying the cause of high memory usage in Bitcoin nodes, exploring possible solutions, and sharing insights and experiences related to memory management in the Bitcoin ecosystem.In addition to the above discussion, there were other instances where users experienced high memory usage in running bitcoind processes, even though the mempool was under control. Restarting the processes resulted in a significant drop in memory usage. The issue seemed to occur with both Bitcoin Core 0.10.1 and Bitcoin XT 0.11B, leading to speculation about a memory leak in the minrelaytxfee code path. Users observed that their running bitcoind processes were using over 3 GB of RAM despite the mempool being under control. Accurate reporting of memory pool usage in newer versions of bitcoind reflects real memory usage.One user named odinn reported excessive memory consumption on three machines running Debian and p2pool, with two running XT and one running Core. They mentioned the resident set size of bitcoind and requested information on mempool size and total bitcoind resident set size from other users.The anomalous scaling of memory usage in bitcoin was also noted, along with concerns about the unlikely transaction size of 15 kB per transaction and an increase in the size of an unidentified file. There were requests for information on the memory usage of Task Manager for the bitcoin process.The discussions highlighted the need to investigate memory leaks, caches, and fragmentation as potential causes of high memory usage. The minrelaytxfee code path was identified as a possible source of the memory leak.</p>
        <hr>
        <p><i>Updated on: 2023-08-01T16:36:18.332240+00:00</i></p>
    

    

    <footer>
        <span style="font-family: Arial, Helvetica, sans-serif;">&#10084;&#65039;</span> <a href="https://chaincode.com" target="_blank" rel="noreferrer" style="text-decoration: none; color: inherit;">Chaincode</a>
    </footer>
</body>

</html>