<!doctype html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="Content-Type" content="text/html; charset=us-ascii">
    <title>Atom Feed Display</title>
    <link rel="stylesheet" href="../../archive_styles.css">
</head>

<body BGCOLOR="#fffffb">
    
    <h1>Memory leaks?</h1>
    <hr class="solid">
    
    <ul>
        
        
            <p><b>Author:</b> Jonathan Toomim 2015-10-20 12:39:01
            <br><i>Published on: 2015-10-20T12:39:01+00:00</i></p>

        
        

        
        
        <li>
        <a href="/bitcoin-dev/Oct_2015/combined_Memory-leaks-.xml.html"> Combined Summary of all posts in thread </a>
        </li>
        
        <li>
            
                <a href="https://lists.linuxfoundation.org/pipermail/bitcoin-dev/2015-October/011571.html">Click here to read original discussion on the bitcoin-dev mailing list</a>
            
        </li>

    </ul>

    <hr>
    <h3> Summary:</h3>
    <p>The email thread discusses the issue of multi-GB memory usage in Bitcoin nodes. The problem is suspected to be related to CreateNewBlock() and getblocktemplate, although the exact cause is unclear. One user reported 35 GB of RSS usage. The mempool growth can be mitigated by setting `-mintxfee`. Valgrind did not reveal anything super promising, but was suggested as a possible next step. One user ran valgrind while sending gbt RPCs. Another user reported that valgrind found 200 kB to 600 kB of pblocktemplate, which is declared as a static pointer. Two bitcoind processes running on the same machine were also compared, with one serving getblocktemplate every 5-6 seconds and the other not. The serving node had a higher RSS than the non-serving node.</p>
    <hr>
    <p><i> Updated on: 2023-06-11T00:09:10.858087+00:00 </i></p>
    
    

    <footer>
        <span style="font-family: Arial, Helvetica, sans-serif;">&#10084;&#65039;</span> <a href="https://chaincode.com" target="_blank" rel="noreferrer" style="text-decoration: none; color: inherit;">Chaincode</a>
    </footer>
</body>

</html>