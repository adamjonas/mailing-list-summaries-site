<!doctype html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="Content-Type" content="text/html; charset=us-ascii">
    <title>Atom Feed Display</title>
    <link rel="stylesheet" href="../../archive_styles.css">
</head>

<body BGCOLOR="#fffffb">
    
    <h1>The new obfuscation patch &amp; GetStats <span class="combined-summary">[combined summary]</span></h1>
    <hr class="solid">
    <br><b>Individual post summaries:</b>
    
        <ul>
            
                
                    <li>
                        <a href="/bitcoin-dev/Oct_2015/011479_The-new-obfuscation-patch-GetStats.html">The new obfuscation patch &amp; GetStats</a>
                        <b>Daniel Kraft 2015-10-08 05:14:50+00:00</b>
                    </li>
                
                    <li>
                        <a href="/bitcoin-dev/Oct_2015/011477_The-new-obfuscation-patch-GetStats.html">The new obfuscation patch &amp; GetStats</a>
                        <b>James O&#39;Beirne 2015-10-08 00:29:25+00:00</b>
                    </li>
                
                    <li>
                        <a href="/bitcoin-dev/Oct_2015/011476_The-new-obfuscation-patch-GetStats.html">The new obfuscation patch &amp; GetStats</a>
                        <b>James O&#39;Beirne 2015-10-07 23:32:03+00:00</b>
                    </li>
                
                    <li>
                        <a href="/bitcoin-dev/Oct_2015/011474_The-new-obfuscation-patch-GetStats.html">The new obfuscation patch &amp; GetStats</a>
                        <b>Daniel Kraft 2015-10-07 17:25:06+00:00</b>
                    </li>
                
            
        </ul>
        
            <a href="https://lists.linuxfoundation.org/pipermail/bitcoin-dev/2015-October/011479.html">Click here to read the original discussion on the bitcoin-dev mailing list</a>
        
        <p><i>Published on: 2015-10-08T05:14:50+00:00</i></p>
        <hr>
        <h3>Summary:</h3>
        <p>James O'Beirne has confirmed a bug in the recently merged "obfuscation" patch for Bitcoin's CLevelDBWrapper. The bug involves obfuscating the content of the "chainstate" LevelDB by XOR'ing it against a random key. While CLevelDBWrapper's Read/Write methods handle most use cases, there is a question regarding whether iterating over the database should also be handled. In particular, it has been suggested that the obfuscation key should be applied during iteration in CCoinsViewDB::GetStats. James has filed a fix for the issue on GitHub at <a href="https://github.com/bitcoin/bitcoin/pull/6777">https://github.com/bitcoin/bitcoin/pull/6777</a>. To prevent any future regressions, James will also be writing tests. Daniel, who reported the bug, expressed gratitude for the quick fix and had planned to submit a patch if the issue turned out to be an oversight. It is worth noting that Daniel's signature block includes links to his website, OpenPGP key, and Namecoin ID.The author of a message is seeking clarification about the recently merged "obfuscation" patch for Bitcoin's CLevelDBWrapper. The patch obfuscates the "chainstate" LevelDB by XOR'ing it with a random key. The author wonders if the obfuscation should also be applied during iteration over the database. Specifically, they question whether the obfuscation key should be applied before line 119 in txdb.cpp during iteration in CCoinsViewDB::GetStats. They are unsure if this was an oversight or if there is a specific reason why the obfuscation key does not need to be applied during iteration. The author is reaching out to the community for help before opening a Github ticket.</p>
        <hr>
        <p><i>Updated on: 2023-08-01T16:34:18.258525+00:00</i></p>
    

    

    <footer>
        <span style="font-family: Arial, Helvetica, sans-serif;">&#10084;&#65039;</span> <a href="https://chaincode.com" target="_blank" rel="noreferrer" style="text-decoration: none; color: inherit;">Chaincode</a>
    </footer>
</body>

</html>