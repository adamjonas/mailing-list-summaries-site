<!doctype html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="Content-Type" content="text/html; charset=us-ascii">
    <title>Atom Feed Display</title>
    <link rel="stylesheet" href="../../archive_styles.css">
</head>

<body BGCOLOR="#fffffb">
    
    <h1>BIP70 message delivery reliability</h1>
    <hr class="solid">
    
    <ul>
        
        
            <p><b>Author:</b> Roy Badami 2014-01-30 12:20:16
            <br><i>Published on: 2014-01-30T12:20:16+00:00</i></p>

        
        

        
        
        <li>
        <a href="/bitcoin-dev/Jan_2014/combined_BIP70-message-delivery-reliability.html"> Combined Summary of all posts in thread </a>
        </li>
        
        <li>
            
                <a href="https://lists.linuxfoundation.org/pipermail/bitcoin-dev/2014-January/004259.html">Click here to read original discussion on the bitcoin-dev mailing list</a>
            
        </li>

    </ul>

    <hr>
    <h3> Summary:</h3>
    <p>In an email exchange between Chuck, Pieter Wuille, and Mike Hearn, they discussed the way transactions are committed to wallets in bitcoinj. Mike explained that the tx is only committed if the server accepts the Payment message and acknowledges it, so if there's a failure submitting or some kind of internal server error, the UI would show that the payment failed. Pieter agreed that this was one right way to do it, but it wasn't what was suggested or required by the specification or what bitcoin core master currently implements. Chuck added that if the merchant received the Payment message and then went silent, the user should retry delivery, but could quite likely pay and never get an ACK. He suggested invalidating all transactions in the Payment message by broadcasting a send-to-self transaction as soon as possible to avoid an indeterminate wallet balance. Otherwise, the user might see an apparently failed attempt to pay, leaving their wallet balance unchanged, followed by a spontaneous decrement many hours later.</p>
    <hr>
    <p><i> Updated on: 2023-06-08T02:10:23.823234+00:00 </i></p>
    
    

    <footer>
        <span style="font-family: Arial, Helvetica, sans-serif;">&#10084;&#65039;</span> <a href="https://chaincode.com" target="_blank" rel="noreferrer" style="text-decoration: none; color: inherit;">Chaincode</a>
    </footer>
</body>

</html>