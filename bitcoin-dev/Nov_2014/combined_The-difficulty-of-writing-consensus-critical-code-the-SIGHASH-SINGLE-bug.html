<!doctype html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="Content-Type" content="text/html; charset=us-ascii">
    <title>Atom Feed Display</title>
    <link rel="stylesheet" href="../../archive_styles.css">
</head>

<body BGCOLOR="#fffffb">
    
    <h1>The difficulty of writing consensus critical code: the SIGHASH_SINGLE bug <span class="combined-summary">[combined summary]</span></h1>
    <hr class="solid">
    <br><b>Individual post summaries:</b>
    
        <ul>
            
                
                    <li>
                        <a href="/bitcoin-dev/Nov_2014/006915_The-difficulty-of-writing-consensus-critical-code-the-SIGHASH-SINGLE-bug.html">The difficulty of writing consensus critical code: the SIGHASH_SINGLE bug</a>
                        <b>Jean-Pierre Rupp 2014-11-15 04:43:43+00:00</b>
                    </li>
                
                    <li>
                        <a href="/bitcoin-dev/Nov_2014/006896_The-difficulty-of-writing-consensus-critical-code-the-SIGHASH-SINGLE-bug.html">The difficulty of writing consensus critical code: the SIGHASH_SINGLE bug</a>
                        <b>Mike Hearn 2014-11-07 16:52:20+00:00</b>
                    </li>
                
                    <li>
                        <a href="/bitcoin-dev/Nov_2014/006895_The-difficulty-of-writing-consensus-critical-code-the-SIGHASH-SINGLE-bug.html">The difficulty of writing consensus critical code: the SIGHASH_SINGLE bug</a>
                        <b>Wladimir 2014-11-07 12:01:03+00:00</b>
                    </li>
                
                    <li>
                        <a href="/bitcoin-dev/Nov_2014/006894_The-difficulty-of-writing-consensus-critical-code-the-SIGHASH-SINGLE-bug.html">The difficulty of writing consensus critical code: the SIGHASH_SINGLE bug</a>
                        <b>Peter Todd 2014-11-07 11:47:19+00:00</b>
                    </li>
                
                    <li>
                        <a href="/bitcoin-dev/Nov_2014/006893_The-difficulty-of-writing-consensus-critical-code-the-SIGHASH-SINGLE-bug.html">The difficulty of writing consensus critical code: the SIGHASH_SINGLE bug</a>
                        <b>Clément Elbaz 2014-11-07 11:30:22+00:00</b>
                    </li>
                
                    <li>
                        <a href="/bitcoin-dev/Nov_2014/006892_The-difficulty-of-writing-consensus-critical-code-the-SIGHASH-SINGLE-bug.html">The difficulty of writing consensus critical code: the SIGHASH_SINGLE bug</a>
                        <b>Peter Todd 2014-11-07 08:48:10+00:00</b>
                    </li>
                
                    <li>
                        <a href="/bitcoin-dev/Nov_2014/006891_The-difficulty-of-writing-consensus-critical-code-the-SIGHASH-SINGLE-bug.html">The difficulty of writing consensus critical code: the SIGHASH_SINGLE bug</a>
                        <b>Tamas Blummer 2014-11-07 08:07:47+00:00</b>
                    </li>
                
                    <li>
                        <a href="/bitcoin-dev/Nov_2014/006890_The-difficulty-of-writing-consensus-critical-code-the-SIGHASH-SINGLE-bug.html">The difficulty of writing consensus critical code: the SIGHASH_SINGLE bug</a>
                        <b>Gregory Maxwell 2014-11-07 02:04:57+00:00</b>
                    </li>
                
                    <li>
                        <a href="/bitcoin-dev/Nov_2014/006889_The-difficulty-of-writing-consensus-critical-code-the-SIGHASH-SINGLE-bug.html">The difficulty of writing consensus critical code: the SIGHASH_SINGLE bug</a>
                        <b>Peter Todd 2014-11-07 00:03:10+00:00</b>
                    </li>
                
                    <li>
                        <a href="/bitcoin-dev/Nov_2014/006887_The-difficulty-of-writing-consensus-critical-code-the-SIGHASH-SINGLE-bug.html">The difficulty of writing consensus critical code: the SIGHASH_SINGLE bug</a>
                        <b>Justus Ranvier 2014-11-06 23:36:55+00:00</b>
                    </li>
                
                    <li>
                        <a href="/bitcoin-dev/Nov_2014/006886_The-difficulty-of-writing-consensus-critical-code-the-SIGHASH-SINGLE-bug.html">The difficulty of writing consensus critical code: the SIGHASH_SINGLE bug</a>
                        <b>Peter Todd 2014-11-06 23:26:49+00:00</b>
                    </li>
                
                    <li>
                        <a href="/bitcoin-dev/Nov_2014/006885_The-difficulty-of-writing-consensus-critical-code-the-SIGHASH-SINGLE-bug.html">The difficulty of writing consensus critical code: the SIGHASH_SINGLE bug</a>
                        <b>Peter Todd 2014-11-06 23:19:50+00:00</b>
                    </li>
                
                    <li>
                        <a href="/bitcoin-dev/Nov_2014/006884_The-difficulty-of-writing-consensus-critical-code-the-SIGHASH-SINGLE-bug.html">The difficulty of writing consensus critical code: the SIGHASH_SINGLE bug</a>
                        <b>Peter Todd 2014-11-06 23:12:25+00:00</b>
                    </li>
                
                    <li>
                        <a href="/bitcoin-dev/Nov_2014/006883_The-difficulty-of-writing-consensus-critical-code-the-SIGHASH-SINGLE-bug.html">The difficulty of writing consensus critical code: the SIGHASH_SINGLE bug</a>
                        <b>Justus Ranvier 2014-11-06 22:48:54+00:00</b>
                    </li>
                
                    <li>
                        <a href="/bitcoin-dev/Nov_2014/006882_The-difficulty-of-writing-consensus-critical-code-the-SIGHASH-SINGLE-bug.html">The difficulty of writing consensus critical code: the SIGHASH_SINGLE bug</a>
                        <b>Jeff Garzik 2014-11-06 22:11:52+00:00</b>
                    </li>
                
                    <li>
                        <a href="/bitcoin-dev/Nov_2014/006881_The-difficulty-of-writing-consensus-critical-code-the-SIGHASH-SINGLE-bug.html">The difficulty of writing consensus critical code: the SIGHASH_SINGLE bug</a>
                        <b>Matt Corallo 2014-11-06 22:05:54+00:00</b>
                    </li>
                
                    <li>
                        <a href="/bitcoin-dev/Nov_2014/006880_The-difficulty-of-writing-consensus-critical-code-the-SIGHASH-SINGLE-bug.html">The difficulty of writing consensus critical code: the SIGHASH_SINGLE bug</a>
                        <b>Tamas Blummer 2014-11-06 21:58:04+00:00</b>
                    </li>
                
                    <li>
                        <a href="/bitcoin-dev/Nov_2014/006878_The-difficulty-of-writing-consensus-critical-code-the-SIGHASH-SINGLE-bug.html">The difficulty of writing consensus critical code: the SIGHASH_SINGLE bug</a>
                        <b>Peter Todd 2014-11-06 21:32:15+00:00</b>
                    </li>
                
            
        </ul>
        
            <a href="https://lists.linuxfoundation.org/pipermail/bitcoin-dev/2014-November/006915.html">Click here to read the original discussion on the bitcoin-dev mailing list</a>
        
        <p><i>Published on: 2014-11-15T04:43:43+00:00</i></p>
        <hr>
        <h3>Summary:</h3>
        <p>Jean-Pierre Rupp from Haskoin advocates for a hard fork to fix consensus bugs in the Bitcoin protocol. He believes that bugs should not be tolerated and that the protocol should be clearly documented. Rupp suggests thoroughly documenting and repairing consensus bugs on a separate branch, which would eventually lead to a scheduled hard fork. This approach would eliminate known bugs and establish a process for addressing future bugs. The hard fork would primarily impact mining pools, while most bitcoin transactions would remain unaffected. Rupp argues that convincing mining pools to upgrade their software well in advance should not be difficult.Justus Ranvier also emphasizes the importance of fixing bugs in Bitcoin due to its extra consensus requirements. Clément Elbaz suggested separating the Bitcoin consensus code into a project similar to the Linux Kernel. This idea has already been put into motion with the creation of a stand-alone script verification library, which will eventually become part of a larger project called the Bitcoin Kernel. The Bitcoin Kernel would contain only the minimum code necessary for consensus and leave the implementation of other aspects to applications built with it.In an email conversation, Tamas Blummer asked Peter Todd about the possibility of forking the consensus code. Todd responded that the consensus code is essentially frozen, and any changes made are due to mistakes rather than intentional modifications. However, he mentioned two soft-fork proposals, BIP62 and CHECKLOCKTIMEVERIFY, which are being considered. Todd highlights the challenges of making changes in an environment where multiple implementations use the same consensus-critical code.Peter Todd explains that hard-forking upgrades are not regularly done in protocols, even when there are no consensus problems. He argues that scheduling and planning necessary upgrades to fix bugs in the Bitcoin protocol is preferable to waiting for a crisis. Todd questions who benefits from not fixing bugs and provides a link to a video on email encryption for online privacy.Justus Ranvier criticizes the way Bitcoin Core handles bugs and argues for scheduling upgrades to fix bugs in the protocol. He suggests forking Bitcoin Core to avoid centralized control and ensure multiple forks maintain strong consensus. Peter Todd disagrees with regular hard-fork upgrades and emphasizes the rarity of flag days in engineering.In a discussion on Bitcoin development, various developers express their opinions on soft forks and hard forks. Jeff Garzik suggests adding CHECKLOCKTIMEVERIFY and discusses the risks and benefits of both types of forks. Matt Corallo explains the necessity of BIP62 for basic contracts and atomic swaps but also highlights its limitations. The discussion emphasizes the difficulty of writing bug-for-bug compatible code and the importance of consensus-compatible implementations derived from Bitcoin Core.In light of the bugs present in Bitcoin's consensus code, some propose freezing the code and conducting a thorough study to address these issues. Blockstream has been actively discussing this approach as an alternative to soft-fork-ready versioning, which they find unsatisfactory. It is crucial to note that bug-for-bug compatibility in Bitcoin's consensus code is critical and needs to be addressed. The exploitation of bugs like the SIGHASH_SINGLE bug and the CHECKSIG* opcode evaluation bug can result in forks and block rejections. Ensuring the consistency of the encoding of CScript() is also important to maintain the integrity of the network.</p>
        <hr>
        <p><i>Updated on: 2023-08-01T10:38:25.868985+00:00</i></p>
    

    

    <footer>
        <span style="font-family: Arial, Helvetica, sans-serif;">&#10084;&#65039;</span> <a href="https://chaincode.com" target="_blank" rel="noreferrer" style="text-decoration: none; color: inherit;">Chaincode</a>
    </footer>
</body>

</html>