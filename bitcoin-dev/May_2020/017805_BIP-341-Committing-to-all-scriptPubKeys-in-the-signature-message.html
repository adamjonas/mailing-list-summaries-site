<!doctype html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="Content-Type" content="text/html; charset=us-ascii">
    <title>Atom Feed Display</title>
    <link rel="stylesheet" href="../../archive_styles.css">
</head>

<body BGCOLOR="#fffffb">
    
    <h1>BIP-341: Committing to all scriptPubKeys in the signature message</h1>
    <hr class="solid">
    
    <ul>
        
        
            <p><b>Author:</b> Jeremy 2020-05-01 06:57:09
            <br><i>Published on: 2020-05-01T06:57:09+00:00</i></p>

        
        

        
        
        <li>
        <a href="/bitcoin-dev/May_2020/combined_BIP-341-Committing-to-all-scriptPubKeys-in-the-signature-message.html"> Combined Summary of all posts in thread </a>
        </li>
        
        <li>
            
                <a href="https://lists.linuxfoundation.org/pipermail/bitcoin-dev/2020-May/017805.html">Click here to read original discussion on the bitcoin-dev mailing list</a>
            
        </li>

    </ul>

    <hr>
    <h3> Summary:</h3>
    <p>In a Bitcoin development discussion, Andrew Kozlik proposed that the signature message of BIP-0341 should commit to the scriptPubKeys of all transaction inputs. He explained that in situations such as CoinJoin, a wallet needs to determine if an input belongs to the wallet or not to calculate the actual amount being spent by the user. Without a mechanism for this determination, an adversary can trick the wallet into displaying incorrect information and potentially stealing user funds. Andrew suggested that if the signature message committed to the scriptPubKeys of all transaction inputs, it would simplify the process for lightweight air-gapped wallets and hardware wallets by only requiring the acquisition of the scriptPubKey of the output being spent rather than the entire previous transaction. Jeremy Rubin responded that SIGHASH_ALL would sign the COutPoints of all inputs, making it unnecessary to sign any additional data. Additionally, he suggested that as a metadata protocol, all input transactions could be provided to check the scriptPubKeys.</p>
    <hr>
    <p><i> Updated on: 2023-06-14T01:05:34.726166+00:00 </i></p>
    
    

    <footer>
        <span style="font-family: Arial, Helvetica, sans-serif;">&#10084;&#65039;</span> <a href="https://chaincode.com" target="_blank" rel="noreferrer" style="text-decoration: none; color: inherit;">Chaincode</a>
    </footer>
</body>

</html>