<!doctype html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="Content-Type" content="text/html; charset=us-ascii">
    <title>Atom Feed Display</title>
    <link rel="stylesheet" href="../../archive_styles.css">
</head>

<body BGCOLOR="#fffffb">
    
    <h1>OP_DIFFICULTY to enable difficulty hedges (bets) without an oracle and 3rd party.</h1>
    <hr class="solid">
    
    <ul>
        
        
            <p><b>Author:</b> Nathan Cook 2019-05-23 20:07:30
            <br><i>Published on: 2019-05-23T20:07:30+00:00</i></p>

        
        

        
        
        <li>
        <a href="/bitcoin-dev/May_2019/combined_OP-DIFFICULTY-to-enable-difficulty-hedges-bets-without-an-oracle-and-3rd-party-.xml.html"> Combined Summary of all posts in thread </a>
        </li>
        
        <li>
            
                <a href="https://lists.linuxfoundation.org/pipermail/bitcoin-dev/2019-May/016961.html">Click here to read original discussion on the bitcoin-dev mailing list</a>
            
        </li>

    </ul>

    <hr>
    <h3> Summary:</h3>
    <p>Tamas Blummer has proposed a new opcode, OP_DIFFICULTY, that would put onto the stack the value of difficulty for the block the transaction is included into. He suggests using a transaction that uses nLocktime denominated in block height, such that it is valid after the difficulty adjusted block in the future. The output script may then decide comparing that value with a strike which key can spend it. The input of the transaction would be a multi-sig escrow of those who entered the bet. The winner would broadcast. The proposal is aimed at serving significant economic interest of Bitcoin economy and is compatible with Bitcoin's aim not to introduce 3rd party to do so. Tamas plans to draft a BIP for this. Difficulty change has profound impact on miner's production thereby introducing the biggest risk while considering an investment. Commodity markets offer futures and options to hedge risks on traditional trading venues. However, some might soon list difficulty futures. OP_CHECKBLOCKATHEIGHT was suggested by Nathan Cook as a solution to compare the block hash's numeric value to the desired (uncompressed) difficulty directly, using a 256-bit version of OP_LESSTHAN. Tamas points out that the opcode would not help as it fetches block hash and not the content of the header. Block hash can suggest much higher difficulty than what is in effect, so OP_CHECKBLOCKATHEIGHT would not work to decide if difficulty is above the level of the bet. To compare two compressed difficulties directly, more bit masking is required to separate the exponent and mantissa.</p>
    <hr>
    <p><i> Updated on: 2023-06-13T19:06:02.197711+00:00 </i></p>
    
    

    <footer>
        <span style="font-family: Arial, Helvetica, sans-serif;">&#10084;&#65039;</span> <a href="https://chaincode.com" target="_blank" rel="noreferrer" style="text-decoration: none; color: inherit;">Chaincode</a>
    </footer>
</body>

</html>