<!doctype html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="Content-Type" content="text/html; charset=us-ascii">
    <title>Atom Feed Display</title>
    <link rel="stylesheet" href="../../archive_styles.css">
</head>

<body BGCOLOR="#fffffb">
    
    <h1>OP_DIFFICULTY to enable difficulty hedges (bets) without an oracle and 3rd party.</h1>
    <hr class="solid">
    
    <ul>
        
        
            <p><b>Author:</b> Pieter Wuille 2019-05-23 19:45:37
            <br><i>Published on: 2019-05-23T19:45:37+00:00</i></p>

        
        

        
        
        <li>
        <a href="/bitcoin-dev/May_2019/combined_OP-DIFFICULTY-to-enable-difficulty-hedges-bets-without-an-oracle-and-3rd-party-.xml.html"> Combined Summary of all posts in thread </a>
        </li>
        
        <li>
            
                <a href="https://lists.linuxfoundation.org/pipermail/bitcoin-dev/2019-May/016958.html">Click here to read original discussion on the bitcoin-dev mailing list</a>
            
        </li>

    </ul>

    <hr>
    <h3> Summary:</h3>
    <p>In a recent message on bitcoin-dev, Tamas Blummer discussed the impact of difficulty changes on miners' production and how it creates the biggest risk when considering investment. He suggested that Bitcoin could do much better than traditional trading venues that offer futures and options to hedge risks in commodity markets. A possible solution would be a transaction that uses nLocktime denominated in block height, which is valid after the difficulty-adjusted block in the future. To implement this, a new OP_DIFFICULTY opcode would put onto stack the value of difficulty for the block the transaction is included in. However, if the difficulty can be directly observed by the script language, there would be complications in implementing mempools and reasoning about the validity of unconfirmed transactions. To solve this problem, similar constructions are needed for observing block difficulty as for observing block time/height. One way to achieve this is to have an opcode that "posts" an assertion (e.g. "difficulty at block height X is at least Y") as a side effect of execution instead of putting the difficulty on the stack. Alternatively, the assertion could be part of the transaction structure, and an opcode could observe the difficulty assertion inside script. The supported assertions should also be restricted in such a way that they are true within a particular block and any descendant, removing the complexity of reasoning about validity. Pieter Wuille, who wrote the message, does not have a strong opinion on the usefulness of having difficulty-dependent transactions/scripts.</p>
    <hr>
    <p><i> Updated on: 2023-05-20T20:31:30.625862+00:00 </i></p>
    
    

    <footer>
        <span style="font-family: Arial, Helvetica, sans-serif;">&#10084;&#65039;</span> <a href="https://chaincode.com" target="_blank" rel="noreferrer" style="text-decoration: none; color: inherit;">Chaincode</a>
    </footer>
</body>

</html>