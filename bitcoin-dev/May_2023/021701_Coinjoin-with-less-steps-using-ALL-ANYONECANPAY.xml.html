<!doctype html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="Content-Type" content="text/html; charset=us-ascii">
    <title>Atom Feed Display</title>
    <link rel="stylesheet" href="../../archive_styles.css">
</head>

<body BGCOLOR="#fffffb">
    
    <h1>Coinjoin with less steps using ALL|ANYONECANPAY</h1>
    <hr class="solid">
    
    <ul>
        
        
            <p><b>Author:</b> Lucas Ontivero 2023-05-23 12:17:23
            <br><i>Published on: 2023-05-23T12:17:23+00:00</i></p>

        
        

        
        
        <li>
        <a href="/bitcoin-dev/May_2023/combined_Coinjoin-with-less-steps-using-ALL-ANYONECANPAY.xml.html"> Combined Summary of all posts in thread </a>
        </li>
        
        <li>
            
                <a href="https://lists.linuxfoundation.org/pipermail/bitcoin-dev/2023-May/021701.html">Click here to read original discussion on the bitcoin-dev mailing list</a>
            
        </li>

    </ul>

    <hr>
    <h3> Summary:</h3>
    <p>A proposal was made in a Bitcoin Developers discussion group regarding coinjoin implementations and the order in which inputs are registered. It was suggested that registering inputs first could make denial of service (DoS) attacks more expensive, as an attacker would need more utxos to maintain the attack. However, it was pointed out that using ALL|ANYONECANPAY could have drawbacks, such as not being able to verify beforehand that the other inputs are the desired inputs or allowing inputs from sanctioned addresses. The code for verifying psbt on the client side in ln-vortex was provided as an example. The original poster then presented a proof of concept using ALL|ANYONECANPAY to reduce steps in coinjoin, which involved one user creating a signed PSBT with one input and all registered outputs, while other participants added their inputs to the PSBT before finalizing and broadcasting the transaction. The Tx and snippet can be found in the post. The poster plans to use this method in joinstr if there are no major drawbacks and it can be implemented by other coinjoin implementations.</p>
    <hr>
    <p><i> Updated on: 2023-06-16T18:37:38.021145+00:00 </i></p>
    
    

    <footer>
        <span style="font-family: Arial, Helvetica, sans-serif;">&#10084;&#65039;</span> <a href="https://chaincode.com" target="_blank" rel="noreferrer" style="text-decoration: none; color: inherit;">Chaincode</a>
    </footer>
</body>

</html>