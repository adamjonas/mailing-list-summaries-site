<!doctype html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="Content-Type" content="text/html; charset=us-ascii">
    <title>Atom Feed Display</title>
    <link rel="stylesheet" href="../../archive_styles.css">
</head>

<body BGCOLOR="#fffffb">
    
    <h1>Proposal: Extended serialization format for BIP-32</h1>
    <hr class="solid">
    
    <ul>
        
        
            <p><b>Author:</b> shiva sitamraju 2017-09-09 14:08:21
            <br><i>Published on: 2017-09-09T14:08:21+00:00</i></p>

        
        

        
        
        <li>
        <a href="/bitcoin-dev/Sept_2017/combined_Proposal-Extended-serialization-format-for-BIP-32.xml.html"> Combined Summary of all posts in thread </a>
        </li>
        
        <li>
            
                <a href="https://lists.linuxfoundation.org/pipermail/bitcoin-dev/2017-September/014966.html">Click here to read original discussion on the bitcoin-dev mailing list</a>
            
        </li>

    </ul>

    <hr>
    <h3> Summary:</h3>
    <p>The email thread on the Bitcoin-dev mailing list starts with a proposal to add an extended serialization format for BIP-32 wallets. The proposal suggests adding a new byte field, OutputType, for wallets that do not follow BIP43. However, Thomas Voegtlin points out that this value should be user-visible, which is why he used version bytes in his initial proposal.Voegtlin argues that if an extra byte field is added and then encoded using base58 or bech32 encoding, the value will no longer be visible to users. He experimented with an invisible flag for more than six months for the initial implementation of SegWit xpub/xprv in Electrum. However, he now believes that it is better to make the flag user-visible because users who create wallets with multisig scripts need to combine several master public keys. All these master public keys should be of the same type, so exposing users to master keys and letting them manipulate them would be beneficial. It would ensure that all cosigners agree on the script type that will be used to derive addresses. On the other hand, if users are not exposed to these keys, there might not be a need for a serialization format.The group agrees to use Thomas' proposal of {x,y,z} instead of adding more bytes to the already big enough version field in bip32. There is also a discussion on having a different version for P2WPKH or P2WSH versus (P2WPKH or P2WSH) nested in P2SH, and whether they would have the same output bitcoin address and under the same account. Another email discusses the issue of fast Merkle Trees and how to prevent attacks by requiring a 'delinearization' step that proves knowledge of information necessary to complete each part of the script. There is a proposed attack that requires finding a collision between padding-SHA256(innocuous) and fast-SHA256(double-SHA256(malign) || r2), and the group discusses possible solutions to prevent such attacks, including using a different IV for hash tree updates.</p>
    <hr>
    <p><i> Updated on: 2023-06-12T18:37:24.327803+00:00 </i></p>
    
    

    <footer>
        <span style="font-family: Arial, Helvetica, sans-serif;">&#10084;&#65039;</span> <a href="https://chaincode.com" target="_blank" rel="noreferrer" style="text-decoration: none; color: inherit;">Chaincode</a>
    </footer>
</body>

</html>