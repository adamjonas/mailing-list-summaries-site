<!doctype html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="Content-Type" content="text/html; charset=us-ascii">
    <title>Atom Feed Display</title>
    <link rel="stylesheet" href="../../archive_styles.css">
</head>

<body BGCOLOR="#fffffb">
    
    <h1>cleanstack alt stack &amp; softfork improvements (Was: Merkle branch verification &amp; tail-call semantics for generalized MAST)</h1>
    <hr class="solid">
    
    <ul>
        
        
            <p><b>Author:</b> Sergio Demian Lerner 2017-09-22 21:54:39
            <br><i>Published on: 2017-09-22T21:54:39+00:00</i></p>

        
        

        
        
        <li>
        <a href="/bitcoin-dev/Sept_2017/combined_cleanstack-alt-stack-softfork-improvements-Was-Merkle-branch-verification-tail-call-semantics-for-generalized-MAST-.html"> Combined Summary of all posts in thread </a>
        </li>
        
        <li>
            
                <a href="https://lists.linuxfoundation.org/pipermail/bitcoin-dev/2017-September/015042.html">Click here to read original discussion on the bitcoin-dev mailing list</a>
            
        </li>

    </ul>

    <hr>
    <h3> Summary:</h3>
    <p>When there is an increase in variable size of only a few bytes, three possibilities arise. The first option is to allow signatures to be zero padded to reach the maximum size and abandon strict DER encoding. The second option is to allow spare witness stack elements to pad the size to match the maximum size and remove the cleanstack rule. However, this option can be tricky because empty stack elements must be counted as 1 byte. The third option is for signers to loop the generation of signatures until the signature generated is of its maximum size. In response to Mark Friedenbachâ€™s question, it is generally known within a few bytes what the witness size will be right before signing. It takes some contriving to come up with a scheme where one party has variable-length signatures of their choosing. Sergio Demian Lerner points out that generally before signing a transaction, one does not know the signature size, which may be variable; one can only estimate the maximum size.</p>
    <hr>
    <p><i> Updated on: 2023-06-12T18:57:08.285980+00:00 </i></p>
    
    

    <footer>
        <span style="font-family: Arial, Helvetica, sans-serif;">&#10084;&#65039;</span> <a href="https://chaincode.com" target="_blank" rel="noreferrer" style="text-decoration: none; color: inherit;">Chaincode</a>
    </footer>
</body>

</html>