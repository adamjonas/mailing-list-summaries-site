<!doctype html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="Content-Type" content="text/html; charset=us-ascii">
    <title>Atom Feed Display</title>
    <link rel="stylesheet" href="../../archive_styles.css">
</head>

<body BGCOLOR="#fffffb">
    
    <h1>cleanstack alt stack &amp; softfork improvements (Was: Merkle branch verification &amp; tail-call semantics for	generalized MAST)</h1>
    <hr class="solid">
    
    <ul>
        
        
            <p><b>Author:</b> Luke Dashjr 2017-09-19 03:09:08
            <br><i>Published on: 2017-09-19T03:09:08+00:00</i></p>

        
        

        
        
        <li>
        <a href="/bitcoin-dev/Sept_2017/combined_cleanstack-alt-stack-softfork-improvements-Was-Merkle-branch-verification-tail-call-semantics-for-generalized-MAST-.html"> Combined Summary of all posts in thread </a>
        </li>
        
        <li>
            
                <a href="https://lists.linuxfoundation.org/pipermail/bitcoin-dev/2017-September/015024.html">Click here to read original discussion on the bitcoin-dev mailing list</a>
            
        </li>

    </ul>

    <hr>
    <h3> Summary:</h3>
    <p>During a discussion session, it was suggested that tail-call semantics could still be maintained if the alt stack is used for transferring arguments to the policy script. A question was raised if this was a bug in the cleanstack rule. The participants also discussed the idea of replacing all NOPs and unallocated opcodes with a new OP_RETURNTRUE implementation in future versions of Script. This would immediately exit the program, perhaps performing some semantic checks on the remainder of the script, with a successful outcome. The benefit of this approach is that it allows softforking in any new opcode, not only the -VERIFY opcode variants that have been introduced. Old nodes would always succeed immediately upon encountering an undefined opcode, allowing the new opcode to do anything from that point onward. This approach is similar to CVE-2010-5141, but since signatures are no longer scripts themselves, it shouldn't be exploitable.</p>
    <hr>
    <p><i> Updated on: 2023-05-20T03:57:13.395127+00:00 </i></p>
    
    

    <footer>
        <span style="font-family: Arial, Helvetica, sans-serif;">&#10084;&#65039;</span> <a href="https://chaincode.com" target="_blank" rel="noreferrer" style="text-decoration: none; color: inherit;">Chaincode</a>
    </footer>
</body>

</html>