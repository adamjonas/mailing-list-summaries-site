<!doctype html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="Content-Type" content="text/html; charset=us-ascii">
    <title>Atom Feed Display</title>
    <link rel="stylesheet" href="../../archive_styles.css">
</head>

<body BGCOLOR="#fffffb">
    
    <h1>Merkle branch verification &amp; tail-call semantics for generalized MAST</h1>
    <hr class="solid">
    
    <ul>
        
        
            <p><b>Author:</b> Mark Friedenbach 2017-09-19 00:46:30
            <br><i>Published on: 2017-09-19T00:46:30+00:00</i></p>

        
        

        
        
        <li>
        <a href="/bitcoin-dev/Sept_2017/combined_Merkle-branch-verification-tail-call-semantics-for-generalized-MAST.xml.html"> Combined Summary of all posts in thread </a>
        </li>
        
        <li>
            
                <a href="https://lists.linuxfoundation.org/pipermail/bitcoin-dev/2017-September/015022.html">Click here to read original discussion on the bitcoin-dev mailing list</a>
            
        </li>

    </ul>

    <hr>
    <h3> Summary:</h3>
    <p>Mark Friedenbach presented the MAST proposal to the mailing list on September 6th. The outcome of the discussion held during the in-person CoreDev meetup in San Francisco was summarized by Mark in an email. An overview of the BIPs was presented to familiarize the audience with what they are attempting to accomplish and how they do so. During the discussion, it was suggested that there should be different opcodes for single vs multi-element MBV for the sake of script analysis. However, it was countered that static analyzability is maintained if the script encodes the number of elements as an integer push to the top of the stack immediately before the opcode. Mark was assigned the task of investigating an ideal serialization format for a multi-element proof, which is the only thing holding back a multi-element MBV proposal.It was pointed out that the non-clean-stack tail-call semantics are not compatible with segwit's consensus-enforcement of the clean stack rule. After the main discussion session, it was observed that tail-call semantics could still be maintained if the alt stack is used for transferring arguments to the policy script. The observation was made that single-layer tail-call semantics can be thought of as really being P2SH with user-specified hashing. Using script versioning to deploy a MAST template allows for saving 32 bytes of witness per input, as the root hash is contained directly in the output being spent. However, the downside is losing the permissionless innovation that comes with a programmable hashing mechanism. The discussion generally drifted into a wider discussion about script version upgrades and related issues.This feedback led to some minor tweaks to the proposal, as well as the major feature request of a multi-element MERKLE-BLOCK-VERIFY opcode which requires a little bit more effort to accomplish. Mark will report back to the list again when that work is done.</p>
    <hr>
    <p><i> Updated on: 2023-06-12T18:19:40.453867+00:00 </i></p>
    
    

    <footer>
        <span style="font-family: Arial, Helvetica, sans-serif;">&#10084;&#65039;</span> <a href="https://chaincode.com" target="_blank" rel="noreferrer" style="text-decoration: none; color: inherit;">Chaincode</a>
    </footer>
</body>

</html>