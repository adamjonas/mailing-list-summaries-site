<!doctype html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="Content-Type" content="text/html; charset=us-ascii">
    <title>Atom Feed Display</title>
    <link rel="stylesheet" href="../../archive_styles.css">
</head>

<body BGCOLOR="#fffffb">
    
    <h1>cleanstack alt stack &amp; softfork improvements (Was: Merkle branch verification &amp; tail-call semantics for	generalized MAST)</h1>
    <hr class="solid">
    
    <ul>
        
        
            <p><b>Author:</b> Luke Dashjr 2017-09-21 04:11:49
            <br><i>Published on: 2017-09-21T04:11:49+00:00</i></p>

        
        

        
        
        <li>
        <a href="/bitcoin-dev/Sept_2017/combined_cleanstack-alt-stack-softfork-improvements-Was-Merkle-branch-verification-tail-call-semantics-for-generalized-MAST-.xml.html"> Combined Summary of all posts in thread </a>
        </li>
        
        <li>
            
                <a href="https://lists.linuxfoundation.org/pipermail/bitcoin-dev/2017-September/015032.html">Click here to read original discussion on the bitcoin-dev mailing list</a>
            
        </li>

    </ul>

    <hr>
    <h3> Summary:</h3>
    <p>In a message on the Bitcoin development mailing list, Johnson Lau discussed how OP_RETURNTRUE does not work well with signature aggregation. Signature aggregation combines (pubkey, message) pairs in a transaction and verifies them with one signature. However, for old nodes, the script terminates at OP_RETURNTRUE, and it will not collect the (pubkey, message) pair. Lau suggests that if they use a softfork to transform OP_RETURNTRUE into OP_17, new nodes will collect the (pubkey, message) pair and try to aggregate with other pairs, resulting in a hardfork. Luke Dashjr responded that this is a problem for signature aggregation to address, not a problem for OP_RETURNTRUE. Dashjr suggested that signature aggregation could be set up upfront and have the Script verify inclusion of keys in the aggregation. Another approach, according to Dashjr, would be to create any op code with an OP_NOP. For example, if they want OP_MUL, they could have OP_MULVERIFY, which verifies if the 3rd stack item is the product of the top 2 stack items.</p>
    <hr>
    <p><i> Updated on: 2023-06-12T18:55:53.040658+00:00 </i></p>
    
    

    <footer>
        <span style="font-family: Arial, Helvetica, sans-serif;">&#10084;&#65039;</span> <a href="https://chaincode.com" target="_blank" rel="noreferrer" style="text-decoration: none; color: inherit;">Chaincode</a>
    </footer>
</body>

</html>