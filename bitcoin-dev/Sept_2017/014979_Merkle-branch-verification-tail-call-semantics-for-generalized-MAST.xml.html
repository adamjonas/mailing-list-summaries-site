<!doctype html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="Content-Type" content="text/html; charset=us-ascii">
    <title>Atom Feed Display</title>
    <link rel="stylesheet" href="../../archive_styles.css">
</head>

<body BGCOLOR="#fffffb">
    
    <h1>Merkle branch verification &amp; tail-call semantics for generalized MAST</h1>
    <hr class="solid">
    
    <ul>
        
        
            <p><b>Author:</b> Mark Friedenbach 2017-09-12 02:03:42
            <br><i>Published on: 2017-09-12T02:03:42+00:00</i></p>

        
        

        
        
        <li>
        <a href="/bitcoin-dev/Sept_2017/combined_Merkle-branch-verification-tail-call-semantics-for-generalized-MAST.xml.html"> Combined Summary of all posts in thread </a>
        </li>
        
        <li>
            
                <a href="https://lists.linuxfoundation.org/pipermail/bitcoin-dev/2017-September/014979.html">Click here to read original discussion on the bitcoin-dev mailing list</a>
            
        </li>

    </ul>

    <hr>
    <h3> Summary:</h3>
    <p>The email thread contains discussions regarding tail-call execution semantics, unclosed stack, SigOp counting, and witness script versioning. The email chain starts with an apology for delay in response due to fighting a cold. A participant at the in-person CoreDev meetup pointed out the issue with unclean stacks. A simple fix would be to allow tail-recursion to occur if the stack is not clean or if there is a single item on the stack, and the alt-stack is not empty. The writer disagrees with the design requirement of SigOp counting as it is flawed and limits the number of CHECKSIGs potentially encountered in script execution, even in an unexecuted branch. Additionally, other resources used by scripts that should be globally limited, such as hash operations, are not accounted for at this time. Instead, the writer suggests having the witness commit to the maximum resources consumed by validation of the spend of the coin, to relay this data with the transaction and include it in the SigHash, and to use the committed maximum for block validation. Witness script versioning is fully compatible with P2SH and BIP173, so existing wallets will have no hurdle to pay to BIP114. The minimal BIP114 could be really simple, like just hiding scripts in a hash. There are also discussions about the complexity of the code, and whether there is a repo containing the latest implementation of BIP 114.</p>
    <hr>
    <p><i> Updated on: 2023-06-12T18:22:25.562814+00:00 </i></p>
    
    

    <footer>
        <span style="font-family: Arial, Helvetica, sans-serif;">&#10084;&#65039;</span> <a href="https://chaincode.com" target="_blank" rel="noreferrer" style="text-decoration: none; color: inherit;">Chaincode</a>
    </footer>
</body>

</html>