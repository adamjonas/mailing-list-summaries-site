<!doctype html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="Content-Type" content="text/html; charset=us-ascii">
    <title>Atom Feed Display</title>
    <link rel="stylesheet" href="../../archive_styles.css">
</head>

<body BGCOLOR="#fffffb">
    
    <h1>OP_CODESEPARATOR Re: BIP Proposal: The Great Consensus Cleanup</h1>
    <hr class="solid">
    
    <ul>
        
        
            <p><b>Author:</b> Russell O&#39;Connor 2019-03-08 15:57:25
            <br><i>Published on: 2019-03-08T15:57:25+00:00</i></p>

        
        

        
        
        <li>
        <a href="/bitcoin-dev/March_2019/combined_OP-CODESEPARATOR-Re-BIP-Proposal-The-Great-Consensus-Cleanup.xml.html"> Combined Summary of all posts in thread </a>
        </li>
        
        <li>
            
                <a href="https://lists.linuxfoundation.org/pipermail/bitcoin-dev/2019-March/016732.html">Click here to read original discussion on the bitcoin-dev mailing list</a>
            
        </li>

    </ul>

    <hr>
    <h3> Summary:</h3>
    <p>In an email conversation between Matt Corallo and Russell O'Connor, the topic of OP_CODESEPARATOR in non-BIP 143 scripts failing script validation was discussed. It was noted that while OP_CODESEPARATOR is the only mechanism available for users to sign a particular branch they are authorizing for within scripts, it does not appear to be practically usable except for one example in TumbleBit. Russell O'Connor argued that because of P2SH, it is not acceptable to risk people's money by activating a soft-fork that would result in funds being permanently lost. He proposed an alternative solution whereby the execution of OP_CODESEPARATOR increases the transaction's weight or there is a limit on the maximum number of OP_CODESEPARATORs allowed per script. Matt Corallo disagreed with this proposal and suggested that any such limit could render some moderately-large transactions unspendable and that OP_CODESEPARATOR in non-segwit scripts represents a significant vulnerability in Bitcoin today. He also proposed a soft fork rule that an input's weight is increased by an amount equal to the number of OP_CODESEPARATORs executed times the sum of the weight of the UTXO being spent and 40 bytes, the weight of a stripped input, which he believes would completely address the vulnerabilities caused by OP_CODESEPARATOR.</p>
    <hr>
    <p><i> Updated on: 2023-06-13T17:29:38.869418+00:00 </i></p>
    
    

    <footer>
        <span style="font-family: Arial, Helvetica, sans-serif;">&#10084;&#65039;</span> <a href="https://chaincode.com" target="_blank" rel="noreferrer" style="text-decoration: none; color: inherit;">Chaincode</a>
    </footer>
</body>

</html>