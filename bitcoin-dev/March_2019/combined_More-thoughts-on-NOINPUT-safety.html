<!doctype html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="Content-Type" content="text/html; charset=us-ascii">
    <title>Atom Feed Display</title>
    <link rel="stylesheet" href="../../archive_styles.css">
</head>

<body BGCOLOR="#fffffb">
    
    <h1>More thoughts on NOINPUT safety <span class="combined-summary">[combined summary]</span></h1>
    <hr class="solid">
    <br><b>Individual post summaries:</b>
    
        <ul>
            
                
                    <li>
                        <a href="/bitcoin-dev/March_2019/016788_More-thoughts-on-NOINPUT-safety.html">More thoughts on NOINPUT safety</a>
                        <b>Rusty Russell 2019-03-20 00:22:05</b>
                    </li>
                
                    <li>
                        <a href="/bitcoin-dev/March_2019/016799_More-thoughts-on-NOINPUT-safety.html">More thoughts on NOINPUT safety</a>
                        <b>Anthony Towns 2019-03-22 02:58:46</b>
                    </li>
                
                    <li>
                        <a href="/bitcoin-dev/March_2019/016770_More-thoughts-on-NOINPUT-safety.html">More thoughts on NOINPUT safety</a>
                        <b>Anthony Towns 2019-03-13 11:10:50</b>
                    </li>
                
                    <li>
                        <a href="/bitcoin-dev/March_2019/016780_More-thoughts-on-NOINPUT-safety.html">More thoughts on NOINPUT safety</a>
                        <b>Christian Decker 2019-03-14 12:00:56</b>
                    </li>
                
                    <li>
                        <a href="/bitcoin-dev/March_2019/016791_More-thoughts-on-NOINPUT-safety.html">More thoughts on NOINPUT safety</a>
                        <b>ZmnSCPxj 2019-03-20 07:38:22</b>
                    </li>
                
                    <li>
                        <a href="/bitcoin-dev/March_2019/016792_More-thoughts-on-NOINPUT-safety.html">More thoughts on NOINPUT safety</a>
                        <b>ZmnSCPxj 2019-03-20 08:07:00</b>
                    </li>
                
                    <li>
                        <a href="/bitcoin-dev/March_2019/016768_More-thoughts-on-NOINPUT-safety.html">More thoughts on NOINPUT safety</a>
                        <b>ZmnSCPxj 2019-03-13 06:41:47</b>
                    </li>
                
                    <li>
                        <a href="/bitcoin-dev/March_2019/016778_More-thoughts-on-NOINPUT-safety.html">More thoughts on NOINPUT safety</a>
                        <b>ZmnSCPxj 2019-03-14 07:55:20</b>
                    </li>
                
                    <li>
                        <a href="/bitcoin-dev/March_2019/016788_More-thoughts-on-NOINPUT-safety.html">More thoughts on NOINPUT safety</a>
                        <b>Rusty Russell 2019-03-20 00:22:05</b>
                    </li>
                
                    <li>
                        <a href="/bitcoin-dev/March_2019/016798_More-thoughts-on-NOINPUT-safety.html">More thoughts on NOINPUT safety</a>
                        <b>ZmnSCPxj 2019-03-22 01:59:14</b>
                    </li>
                
                    <li>
                        <a href="/bitcoin-dev/March_2019/016800_More-thoughts-on-NOINPUT-safety.html">More thoughts on NOINPUT safety</a>
                        <b>Johnson Lau 2019-03-22 04:23:28</b>
                    </li>
                
                    <li>
                        <a href="/bitcoin-dev/March_2019/016803_More-thoughts-on-NOINPUT-safety.html">More thoughts on NOINPUT safety</a>
                        <b>ZmnSCPxj 2019-03-22 07:46:28</b>
                    </li>
                
                    <li>
                        <a href="/bitcoin-dev/March_2019/016768_More-thoughts-on-NOINPUT-safety.html">More thoughts on NOINPUT safety</a>
                        <b>ZmnSCPxj 2019-03-13 06:41:47</b>
                    </li>
                
                    <li>
                        <a href="/bitcoin-dev/March_2019/016778_More-thoughts-on-NOINPUT-safety.html">More thoughts on NOINPUT safety</a>
                        <b>ZmnSCPxj 2019-03-14 07:55:20</b>
                    </li>
                
                    <li>
                        <a href="/bitcoin-dev/March_2019/016766_More-thoughts-on-NOINPUT-safety.html">More thoughts on NOINPUT safety</a>
                        <b>Anthony Towns 2019-03-13 01:41:43</b>
                    </li>
                
                    <li>
                        <a href="/bitcoin-dev/March_2019/016776_More-thoughts-on-NOINPUT-safety.html">More thoughts on NOINPUT safety</a>
                        <b>ZmnSCPxj 2019-03-14 05:22:59</b>
                    </li>
                
                    <li>
                        <a href="/bitcoin-dev/March_2019/016777_More-thoughts-on-NOINPUT-safety.html">More thoughts on NOINPUT safety</a>
                        <b>Anthony Towns 2019-03-14 07:24:56</b>
                    </li>
                
                    <li>
                        <a href="/bitcoin-dev/March_2019/016790_More-thoughts-on-NOINPUT-safety.html">More thoughts on NOINPUT safety</a>
                        <b>Rusty Russell 2019-03-20 03:33:55</b>
                    </li>
                
                    <li>
                        <a href="/bitcoin-dev/March_2019/016793_More-thoughts-on-NOINPUT-safety.html">More thoughts on NOINPUT safety</a>
                        <b>Johnson Lau 2019-03-21 08:37:54</b>
                    </li>
                
                    <li>
                        <a href="/bitcoin-dev/March_2019/016795_More-thoughts-on-NOINPUT-safety.html">More thoughts on NOINPUT safety</a>
                        <b>ZmnSCPxj 2019-03-21 10:05:09</b>
                    </li>
                
                    <li>
                        <a href="/bitcoin-dev/March_2019/016798_More-thoughts-on-NOINPUT-safety.html">More thoughts on NOINPUT safety</a>
                        <b>ZmnSCPxj 2019-03-22 01:59:14</b>
                    </li>
                
                    <li>
                        <a href="/bitcoin-dev/March_2019/016803_More-thoughts-on-NOINPUT-safety.html">More thoughts on NOINPUT safety</a>
                        <b>ZmnSCPxj 2019-03-22 07:46:28</b>
                    </li>
                
                    <li>
                        <a href="/bitcoin-dev/March_2019/016788_More-thoughts-on-NOINPUT-safety.html">More thoughts on NOINPUT safety</a>
                        <b>Rusty Russell 2019-03-20 00:22:05</b>
                    </li>
                
                    <li>
                        <a href="/bitcoin-dev/March_2019/016794_More-thoughts-on-NOINPUT-safety.html">More thoughts on NOINPUT safety</a>
                        <b>Anthony Towns 2019-03-21 09:06:14</b>
                    </li>
                
                    <li>
                        <a href="/bitcoin-dev/March_2019/016795_More-thoughts-on-NOINPUT-safety.html">More thoughts on NOINPUT safety</a>
                        <b>ZmnSCPxj 2019-03-21 10:05:09</b>
                    </li>
                
                    <li>
                        <a href="/bitcoin-dev/March_2019/016796_More-thoughts-on-NOINPUT-safety.html">More thoughts on NOINPUT safety</a>
                        <b>Anthony Towns 2019-03-21 11:55:22</b>
                    </li>
                
                    <li>
                        <a href="/bitcoin-dev/March_2019/016798_More-thoughts-on-NOINPUT-safety.html">More thoughts on NOINPUT safety</a>
                        <b>ZmnSCPxj 2019-03-22 01:59:14</b>
                    </li>
                
                    <li>
                        <a href="/bitcoin-dev/March_2019/016777_More-thoughts-on-NOINPUT-safety.html">More thoughts on NOINPUT safety</a>
                        <b>Anthony Towns 2019-03-14 07:24:56</b>
                    </li>
                
                    <li>
                        <a href="/bitcoin-dev/March_2019/016780_More-thoughts-on-NOINPUT-safety.html">More thoughts on NOINPUT safety</a>
                        <b>Christian Decker 2019-03-14 12:00:56</b>
                    </li>
                
                    <li>
                        <a href="/bitcoin-dev/March_2019/016791_More-thoughts-on-NOINPUT-safety.html">More thoughts on NOINPUT safety</a>
                        <b>ZmnSCPxj 2019-03-20 07:38:22</b>
                    </li>
                
                    <li>
                        <a href="/bitcoin-dev/March_2019/016792_More-thoughts-on-NOINPUT-safety.html">More thoughts on NOINPUT safety</a>
                        <b>ZmnSCPxj 2019-03-20 08:07:00</b>
                    </li>
                
                    <li>
                        <a href="/bitcoin-dev/March_2019/016794_More-thoughts-on-NOINPUT-safety.html">More thoughts on NOINPUT safety</a>
                        <b>Anthony Towns 2019-03-21 09:06:14</b>
                    </li>
                
                    <li>
                        <a href="/bitcoin-dev/March_2019/016799_More-thoughts-on-NOINPUT-safety.html">More thoughts on NOINPUT safety</a>
                        <b>Anthony Towns 2019-03-22 02:58:46</b>
                    </li>
                
                    <li>
                        <a href="/bitcoin-dev/March_2019/016776_More-thoughts-on-NOINPUT-safety.html">More thoughts on NOINPUT safety</a>
                        <b>ZmnSCPxj 2019-03-14 05:22:59</b>
                    </li>
                
                    <li>
                        <a href="/bitcoin-dev/March_2019/016780_More-thoughts-on-NOINPUT-safety.html">More thoughts on NOINPUT safety</a>
                        <b>Christian Decker 2019-03-14 12:00:56</b>
                    </li>
                
                    <li>
                        <a href="/bitcoin-dev/March_2019/016791_More-thoughts-on-NOINPUT-safety.html">More thoughts on NOINPUT safety</a>
                        <b>ZmnSCPxj 2019-03-20 07:38:22</b>
                    </li>
                
                    <li>
                        <a href="/bitcoin-dev/March_2019/016792_More-thoughts-on-NOINPUT-safety.html">More thoughts on NOINPUT safety</a>
                        <b>ZmnSCPxj 2019-03-20 08:07:00</b>
                    </li>
                
                    <li>
                        <a href="/bitcoin-dev/March_2019/016794_More-thoughts-on-NOINPUT-safety.html">More thoughts on NOINPUT safety</a>
                        <b>Anthony Towns 2019-03-21 09:06:14</b>
                    </li>
                
                    <li>
                        <a href="/bitcoin-dev/March_2019/016796_More-thoughts-on-NOINPUT-safety.html">More thoughts on NOINPUT safety</a>
                        <b>Anthony Towns 2019-03-21 11:55:22</b>
                    </li>
                
                    <li>
                        <a href="/bitcoin-dev/March_2019/016800_More-thoughts-on-NOINPUT-safety.html">More thoughts on NOINPUT safety</a>
                        <b>Johnson Lau 2019-03-22 04:23:28</b>
                    </li>
                
                    <li>
                        <a href="/bitcoin-dev/March_2019/016768_More-thoughts-on-NOINPUT-safety.html">More thoughts on NOINPUT safety</a>
                        <b>ZmnSCPxj 2019-03-13 06:41:47</b>
                    </li>
                
                    <li>
                        <a href="/bitcoin-dev/March_2019/016778_More-thoughts-on-NOINPUT-safety.html">More thoughts on NOINPUT safety</a>
                        <b>ZmnSCPxj 2019-03-14 07:55:20</b>
                    </li>
                
                    <li>
                        <a href="/bitcoin-dev/March_2019/016766_More-thoughts-on-NOINPUT-safety.html">More thoughts on NOINPUT safety</a>
                        <b>Anthony Towns 2019-03-13 01:41:43</b>
                    </li>
                
                    <li>
                        <a href="/bitcoin-dev/March_2019/016770_More-thoughts-on-NOINPUT-safety.html">More thoughts on NOINPUT safety</a>
                        <b>Anthony Towns 2019-03-13 11:10:50</b>
                    </li>
                
                    <li>
                        <a href="/bitcoin-dev/March_2019/016776_More-thoughts-on-NOINPUT-safety.html">More thoughts on NOINPUT safety</a>
                        <b>ZmnSCPxj 2019-03-14 05:22:59</b>
                    </li>
                
                    <li>
                        <a href="/bitcoin-dev/March_2019/016790_More-thoughts-on-NOINPUT-safety.html">More thoughts on NOINPUT safety</a>
                        <b>Rusty Russell 2019-03-20 03:33:55</b>
                    </li>
                
                    <li>
                        <a href="/bitcoin-dev/March_2019/016793_More-thoughts-on-NOINPUT-safety.html">More thoughts on NOINPUT safety</a>
                        <b>Johnson Lau 2019-03-21 08:37:54</b>
                    </li>
                
                    <li>
                        <a href="/bitcoin-dev/March_2019/016799_More-thoughts-on-NOINPUT-safety.html">More thoughts on NOINPUT safety</a>
                        <b>Anthony Towns 2019-03-22 02:58:46</b>
                    </li>
                
                    <li>
                        <a href="/bitcoin-dev/March_2019/016800_More-thoughts-on-NOINPUT-safety.html">More thoughts on NOINPUT safety</a>
                        <b>Johnson Lau 2019-03-22 04:23:28</b>
                    </li>
                
                    <li>
                        <a href="/bitcoin-dev/March_2019/016803_More-thoughts-on-NOINPUT-safety.html">More thoughts on NOINPUT safety</a>
                        <b>ZmnSCPxj 2019-03-22 07:46:28</b>
                    </li>
                
                    <li>
                        <a href="/bitcoin-dev/March_2019/016790_More-thoughts-on-NOINPUT-safety.html">More thoughts on NOINPUT safety</a>
                        <b>Rusty Russell 2019-03-20 03:33:55</b>
                    </li>
                
                    <li>
                        <a href="/bitcoin-dev/March_2019/016793_More-thoughts-on-NOINPUT-safety.html">More thoughts on NOINPUT safety</a>
                        <b>Johnson Lau 2019-03-21 08:37:54</b>
                    </li>
                
                    <li>
                        <a href="/bitcoin-dev/March_2019/016795_More-thoughts-on-NOINPUT-safety.html">More thoughts on NOINPUT safety</a>
                        <b>ZmnSCPxj 2019-03-21 10:05:09</b>
                    </li>
                
                    <li>
                        <a href="/bitcoin-dev/March_2019/016796_More-thoughts-on-NOINPUT-safety.html">More thoughts on NOINPUT safety</a>
                        <b>Anthony Towns 2019-03-21 11:55:22</b>
                    </li>
                
                    <li>
                        <a href="/bitcoin-dev/March_2019/016766_More-thoughts-on-NOINPUT-safety.html">More thoughts on NOINPUT safety</a>
                        <b>Anthony Towns 2019-03-13 01:41:43</b>
                    </li>
                
                    <li>
                        <a href="/bitcoin-dev/March_2019/016770_More-thoughts-on-NOINPUT-safety.html">More thoughts on NOINPUT safety</a>
                        <b>Anthony Towns 2019-03-13 11:10:50</b>
                    </li>
                
                    <li>
                        <a href="/bitcoin-dev/March_2019/016777_More-thoughts-on-NOINPUT-safety.html">More thoughts on NOINPUT safety</a>
                        <b>Anthony Towns 2019-03-14 07:24:56</b>
                    </li>
                
            
        </ul>
        
            <a href="https://lists.linuxfoundation.org/pipermail/bitcoin-dev/2019-March/016788.html">Click here to read the original discussion on the bitcoin-dev mailing list</a>
        
        <p><i>Published on: 2019-03-20T00:22:05+00:00</i></p>
        <hr>
        <h3>Summary:</h3>
        <p>The Lightning-dev and Bitcoin-dev mailing lists have been discussing various concerns related to the implementation of NOINPUT in Taproot. The use of output tagging as "taproot plus" has been proposed, which would allow for normal taproot address functionalities as well as noinput sigs. However, this method may compromise privacy. Discussions have also centered around enforcing CheckLockTimeVerify (CLTV) when updating transactions, with suggestions including using OP_CODESEPARATOR to distinguish between update and settlement transactions or always requiring locktime. There are also concerns about the potential for third-party malleability and replayable NOINPUT signatures. Solutions proposed include using OP_MASK to address unexpected script changes and requiring a non-NOINPUT signature to prevent naive users from losing funds due to replays. Additionally, there have been discussions on simplifying the Bitcoin script for Taproot and splitting channels into sub-channels for high-activity LN payments and rare-activity DLC bets.In the Lightning-dev mailing list, ZmnSCPxj proposed a "must have a non-SIGHASH_NOINPUT" rule to address the reuse scenario with eltoo watchtowers. However, questions were raised about how the watchtower can create such a signature and the safety measures necessary for NOINPUT. A recent email exchange between ZmnSCPxj and AJ Towns discussed the process of signing in Bitcoin's Script language for Taproot. The discussion revolved around how to enforce CLTV when updating transactions. Additionally, there was a discussion on the requirement of OP_CSV in the settlement branch of the update transaction outputs. It was suggested that it might be possible to do this with OP_CODESEPARATOR, but we do need the OP_CSV in the settlement branch. Anthony Towns proposed the idea of tagged outputs, which he calls "taproot plus," that would allow for more flexibility in transactions. However, this raises concerns about how to bind update 3 to the funding tx output if it is not tagged. One solution proposed is to keep each update in multiple separate states, one bound to the funding tx output and another signed with noinput. Another alternative is to add a trigger transaction that would need to be published in a unilateral case, but that would increase the on-chain footprint.The email also suggests a way to improve the security of the eltoo channel in Bitcoin by requiring every script to have a valid signature that commits to the input, which would prevent cheating. However, this approach is more costly than a key path spend, as it requires revealing the taproot point and two keys, and has some script overhead. Alternatively, the email suggests adding a "kickoff" transaction that spends the eltoo setup transaction and outputs to an ordinary 2-of-2, with the rest of the protocol anchored on top of the kickoff.In recent discussions on the Lightning-dev and bitcoin-dev mailing lists, developers have raised concerns about the use of NOINPUT in Taproot key path spending. The implementation of NOINPUT reintroduces the possibility of third-party malleability to transactions, which could cause problems for those doing NOINPUT signatures. Two fundamental ways through which NOINPUT could cause problems are applying a signature to an unexpectedly different script and someone else sending money to the same address and reusing the prior signature without consent. To prevent this, suggestions include using OP_MASK, tagging addresses that can be spent via NOINPUT, requiring every script to have a valid signature committing to the input tx, or dropping NOINPUT from normal taproot key path spending.Developers are also discussing eltoo, a new proposal for improving the functionality of off-chain payment channels. The goal is to make the process look no different from an ordinary "pay to public key" spend. Discussion has centered around the script format for implementing eltoo with NOINPUT and how to enforce CheckLockTimeVerify (CLTV) when updating transactions. Suggestions include using OP_CODESEPARATOR to distinguish between update transactions and settlement transactions, always requiring locktime, and having update transactions set their timelock while settlement transactions set an absolute or relative timelock via sequence and commit to the script code.The Lightning-dev mailing list is discussing eltoo, a proposal for improving the functionality of off-chain payment channels. The process for setting up an eltoo channel using partial signatures and NOINPUT signatures was outlined with the goal of making the process look no different from an ordinary "pay to public key" spend. The thread also discusses the idea of adding a "kickoff" transaction that spends the eltoo setup transaction. The use of tagged outputs as "taproot plus" was also discussed, which could potentially allow for normal taproot address functionalities as well as noinput sigs. However, in a unilateral case, all update transactions need to be tagged in case they are spent by a later update with a NOINPUT sig, compromising privacy. In a cooperative case, output tagging is not needed. The discussion also touched on using scriptless scripts for HTLCs, which would</p>
        <hr>
        <p><i>Updated on: 2023-06-13T17:45:37.218203+00:00</i></p>
    

    

    <footer>
        <span style="font-family: Arial, Helvetica, sans-serif;">&#10084;&#65039;</span> <a href="https://chaincode.com" target="_blank" rel="noreferrer" style="text-decoration: none; color: inherit;">Chaincode</a>
    </footer>
</body>

</html>