<!doctype html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="Content-Type" content="text/html; charset=us-ascii">
    <title>Atom Feed Display</title>
    <link rel="stylesheet" href="../../archive_styles.css">
</head>

<body BGCOLOR="#fffffb">
    
    <h1>CAddrMan: Stochastic IP address manager</h1>
    <hr class="solid">
    
    <ul>
        
        
            <p><b>Author:</b> Michael Hendricks 2012-01-30 16:53:27
            <br><i>Published on: 2012-01-30T16:53:27+00:00</i></p>

        
        

        
        
        <li>
        <a href="/bitcoin-dev/Jan_2012/combined_CAddrMan-Stochastic-IP-address-manager.html"> Combined Summary of all posts in thread </a>
        </li>
        
        <li>
            
                <a href="https://lists.linuxfoundation.org/pipermail/bitcoin-dev/2012-January/001104.html">Click here to read original discussion on the bitcoin-dev mailing list</a>
            
        </li>

    </ul>

    <hr>
    <h3> Summary:</h3>
    <p>Pieter Wuille, a developer for the Satoshi bitcoin client, has been considering moving to IPv6 support in the future. However, the current way IP addresses are being managed is not efficient as all addresses ever seen are being kept both on-disk and in-memory, leading to multi-megabyte addr.dat files. After discussing with Gregory Maxwell and others, Pieter decided to write a specialized address manager that only keeps a limited number of addresses, indexes them in-memory, and occasionally dumps them to disk. This architecture is an improvement over what they have now. The new design includes two tables, one for addresses they've had connections with and one for untried/new addresses. Both tables are separated into several limited-size buckets providing protection against sybil attacks. Addresses in the first table are placed in one of only a few buckets chosen based on the address range (/16 for IPv4), while addresses in the second table are placed into one of a few buckets chosen based on the address range the information came from, instead of the address itself. The new design seems resilient to many attacks, but a Sybil attack coming from a large botnet can still fill all buckets in both tables.</p>
    <hr>
    <p><i> Updated on: 2023-06-05T02:13:31.584102+00:00 </i></p>
    
    

    <footer>
        <span style="font-family: Arial, Helvetica, sans-serif;">&#10084;&#65039;</span> <a href="https://chaincode.com" target="_blank" rel="noreferrer" style="text-decoration: none; color: inherit;">Chaincode</a>
    </footer>
</body>

</html>