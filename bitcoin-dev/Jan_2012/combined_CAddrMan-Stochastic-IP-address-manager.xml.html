<!doctype html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="Content-Type" content="text/html; charset=us-ascii">
    <title>Atom Feed Display</title>
    <link rel="stylesheet" href="../../archive_styles.css">
</head>

<body BGCOLOR="#fffffb">
    
    <h1>CAddrMan: Stochastic IP address manager <span class="combined-summary">[combined summary]</span></h1>
    <hr class="solid">
    <br><b>Individual post summaries:</b>
    
    <ul>
        
        
        <li>
        <a href="/bitcoin-dev/Jan_2012/001100_CAddrMan-Stochastic-IP-address-manager.xml.html">CAddrMan: Stochastic IP address manager</a>
        <b>Pieter Wuille 2012-01-30 02:31:02</b>
        </li>
        
        <li>
        <a href="/bitcoin-dev/Jan_2012/001118_CAddrMan-Stochastic-IP-address-manager.xml.html">CAddrMan: Stochastic IP address manager</a>
        <b>Gregory Maxwell 2012-01-31 07:17:07</b>
        </li>
        
        <li>
        <a href="/bitcoin-dev/Jan_2012/001115_CAddrMan-Stochastic-IP-address-manager.xml.html">CAddrMan: Stochastic IP address manager</a>
        <b>Gregory Maxwell 2012-01-31 02:57:31</b>
        </li>
        

        
    </ul>
    
        <a href="https://lists.linuxfoundation.org/pipermail/bitcoin-dev/2012-January/001100.html">Click here to read original discussion on the bitcoin-dev mailing list</a>
    
    <p><i>Published on: 2012-01-30T02:31:02+00:00</i></p>
    <hr>
    <h3> Summary:</h3>
    <p>The Satoshi bitcoin client plans to move to IPv6 support, but the existing management of IP addresses is not suitable. Currently, all addresses ever seen are kept on-disk and in-memory, which results in multi-megabyte addr.dat files that take seconds to load. To address this issue, a specialized address manager was developed based on a new principle. The new system only keeps a limited number of addresses and indexes them in-memory. It only occasionally dumps them to disk, which can lead to the risk of Sybil attacks where an attacker poisons the entire address cache with addresses they control. Therefore, to protect against this, two tables were created. One table keeps addresses the client had connections with, while the other maintains untried/new addresses. Each table is separated into several limited-size buckets. All crucial decisions in the implementation are randomized with biases to improve efficiency, and selection of buckets is based on a cryptographic hash using a secret key that deterministically randomizes behavior. However, despite being available in pull request 787, the implementation still needs testing and improvement. As for Sybil attacks, adding trusted nodes or a few unlikely-to-cooperate nodes is a more secure remedy than increasing the number of outbound connections. Additionally, the IRC bootstrapping mechanism may be removed or left deactivated as a fallback that users can turn on. Removing it would remove a fair bit of code and stop reports that various ISPs tag Bitcoin as malware. However, keeping IRC around but turned off may be less risky because if the new address manager has unexpected bad behavior, IRC is what may keep things going. Nonetheless, IRC also needs fixing to avoid pro-partitioning behavior. Nodes sit in a single channel forever, and nodes recently seen on IRC are highly promoted in the peer selection. A new implementation of IRC.cpp has been tested and improved, but it has not been submitted as a pull request yet.</p>
    <hr>
    <p><i> Updated on: 2023-05-19T01:05:46.009607+00:00 </i></p>
    

    

    <footer>
        <span style="font-family: Arial, Helvetica, sans-serif;">&#10084;&#65039;</span> <a href="https://chaincode.com" target="_blank" rel="noreferrer" style="text-decoration: none; color: inherit;">Chaincode</a>
    </footer>
</body>

</html>