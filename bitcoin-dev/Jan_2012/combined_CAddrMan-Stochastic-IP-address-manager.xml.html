<!doctype html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="Content-Type" content="text/html; charset=us-ascii">
    <title>Atom Feed Display</title>
    <link rel="stylesheet" href="../../archive_styles.css">
</head>

<body BGCOLOR="#fffffb">
    
    <h1>CAddrMan: Stochastic IP address manager <span class="combined-summary">[combined summary]</span></h1>
    <hr class="solid">
    <br><b>Individual post summaries:</b>
    
    <ul>
        
        
        <li>
        <a href="/bitcoin-dev/Jan_2012/001100_CAddrMan-Stochastic-IP-address-manager.xml.html">CAddrMan: Stochastic IP address manager</a>
        <b>Pieter Wuille 2012-01-30 02:31:02</b>
        </li>
        
        <li>
        <a href="/bitcoin-dev/Jan_2012/001118_CAddrMan-Stochastic-IP-address-manager.xml.html">CAddrMan: Stochastic IP address manager</a>
        <b>Gregory Maxwell 2012-01-31 07:17:07</b>
        </li>
        
        <li>
        <a href="/bitcoin-dev/Jan_2012/001115_CAddrMan-Stochastic-IP-address-manager.xml.html">CAddrMan: Stochastic IP address manager</a>
        <b>Gregory Maxwell 2012-01-31 02:57:31</b>
        </li>
        

        
    </ul>
    
        <a href="https://lists.linuxfoundation.org/pipermail/bitcoin-dev/2012-January/001100.html">Click here to read original discussion on the bitcoin-dev mailing list</a>
    
    <p><i>Published on: 2012-01-30T02:31:02+00:00</i></p>
    <hr>
    <h3> Summary:</h3>
    <p>The Satoshi bitcoin client is looking to move to IPv6 support in the future. The current IP address management system, which keeps all addresses ever seen on-disk and in-memory and sorts them based on last-seen time, has become impossible as some users have multi-megabyte files that take seconds to load. To solve this problem, a new specialized address manager was created that only kept a limited number of addresses, indexed and kept in-memory and occasionally dumped to disk. However, this leads to a weakness where attackers can poison the entire address cache with addresses they control, especially in the context of IPv6 where more possible addresses exist. To protect against this, two tables were created: one for addresses that had actual connections and another for untried/new addresses. Both tables are separated into several limited-size buckets, providing a level of protection against Sybil attacks. All crucial decisions are randomized with biases to improve efficiency, and the selection of buckets is based on a cryptographic hash using a secret key to deterministically randomize behavior. While there is certainly need for testing and room for improvements, constructive criticism, suggestions, and improvements are welcomed. One solution for those concerned about Sybil attacks is to add a few trusted nodes or a few unlikely-to-cooperate nodes to kill isolation attacks dead. This method is much more scalable than increasing outbound connections. Another issue addressed is IRC bootstrapping mechanism. It's being considered to remove it because it would remove a fair bit of code, and we'd stop getting reports that various ISPs tag bitcoin as malware. It's important to have more mechanisms besides DNS and hardcoded seednodes because these mechanisms are subject to blocking without IRC. Announcing new nodes is an area where our mechanisms are inadequate without IRC. IRC also has some stupid behavior that is highly pro-partitioning.</p>
    <hr>
    <p><i> Updated on: 2023-05-18T22:59:21.989824+00:00 </i></p>
    

    

    <footer>
        <span style="font-family: Arial, Helvetica, sans-serif;">&#10084;&#65039;</span> <a href="https://chaincode.com" target="_blank" rel="noreferrer" style="text-decoration: none; color: inherit;">Chaincode</a>
    </footer>
</body>

</html>