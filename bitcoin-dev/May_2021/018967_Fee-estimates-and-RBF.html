<!doctype html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="Content-Type" content="text/html; charset=us-ascii">
    <title>Atom Feed Display</title>
    <link rel="stylesheet" href="../../archive_styles.css">
</head>

<body BGCOLOR="#fffffb">
    
    <h1>Fee estimates and RBF</h1>
    <hr class="solid">
    
    <ul>
        
        
            <p><b>Author:</b> ZmnSCPxj 2021-05-18 13:10:12
            <br><i>Published on: 2021-05-18T13:10:12+00:00</i></p>

        
        

        
        
        <li>
        <a href="/bitcoin-dev/May_2021/combined_Fee-estimates-and-RBF.html"> Combined Summary of all posts in thread </a>
        </li>
        
        <li>
            
                <a href="https://lists.linuxfoundation.org/pipermail/bitcoin-dev/2021-May/018967.html">Click here to read original discussion on the bitcoin-dev mailing list</a>
            
        </li>

    </ul>

    <hr>
    <h3> Summary:</h3>
    <p>In the context provided, there is a discussion about implementing RBF (Replace-By-Fee) in financial code. The problem with using RBF lies in exception handling as it involves testing and handling reorgs. If you use a fixed feerate and broadcast-and-forget, you don't have to handle exceptions, but that means not using RBF at all. Testing the handling of reorgs is crucial because it may use an older version of an RBFed transaction rather than a newer one, which would require recreating follow-up transactions. Since this is financial code, thorough testing is necessary, and code with many branches due to the handling of possible exceptions is difficult to cover completely in testing.C-lightning supposedly supports RBF, but there are potential edge cases where it might mishandle a replaced transaction and lose track of onchain funds. Supporting "we can spend unconfirmed change outputs" and "we can change the feerate of unconfirmed transactions" simultaneously is challenging because the latter changes the txid and therefore the UTXO id of the change output spent by use of the previous feature.</p>
    <hr>
    <p><i> Updated on: 2023-06-14T20:36:50.331114+00:00 </i></p>
    
    

    <footer>
        <span style="font-family: Arial, Helvetica, sans-serif;">&#10084;&#65039;</span> <a href="https://chaincode.com" target="_blank" rel="noreferrer" style="text-decoration: none; color: inherit;">Chaincode</a>
    </footer>
</body>

</html>