<!doctype html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="Content-Type" content="text/html; charset=us-ascii">
    <title>Atom Feed Display</title>
    <link rel="stylesheet" href="../../archive_styles.css">
</head>

<body BGCOLOR="#fffffb">
    
    <h1>Consensus-enforced transaction replacement via sequence numbers <span class="combined-summary">[combined summary]</span></h1>
    <hr class="solid">
    <br><b>Individual post summaries:</b>
    
        <ul>
            
                
                    <li>
                        <a href="/bitcoin-dev/May_2015/008317_Consensus-enforced-transaction-replacement-via-sequence-numbers.xml.html">Consensus-enforced transaction replacement via sequence numbers</a>
                        <b>Mark Friedenbach 2015-05-28 14:59:13</b>
                    </li>
                
                    <li>
                        <a href="/bitcoin-dev/May_2015/008321_Consensus-enforced-transaction-replacement-via-sequence-numbers.xml.html">Consensus-enforced transaction replacement via sequence numbers</a>
                        <b>Tier Nolan 2015-05-28 15:57:15</b>
                    </li>
                
                    <li>
                        <a href="/bitcoin-dev/May_2015/008289_Consensus-enforced-transaction-replacement-via-sequence-numbers.xml.html">Consensus-enforced transaction replacement via sequence numbers</a>
                        <b>Telephone Lemien 2015-05-27 08:04:09</b>
                    </li>
                
                    <li>
                        <a href="/bitcoin-dev/May_2015/008290_Consensus-enforced-transaction-replacement-via-sequence-numbers.xml.html">Consensus-enforced transaction replacement via sequence numbers</a>
                        <b>Gregory Maxwell 2015-05-27 08:18:52</b>
                    </li>
                
                    <li>
                        <a href="/bitcoin-dev/May_2015/008293_Consensus-enforced-transaction-replacement-via-sequence-numbers.xml.html">Consensus-enforced transaction replacement via sequence numbers</a>
                        <b>Mike Hearn 2015-05-27 10:11:26</b>
                    </li>
                
                    <li>
                        <a href="/bitcoin-dev/May_2015/008299_Consensus-enforced-transaction-replacement-via-sequence-numbers.xml.html">Consensus-enforced transaction replacement via sequence numbers</a>
                        <b>Mark Friedenbach 2015-05-27 15:26:52</b>
                    </li>
                
                    <li>
                        <a href="/bitcoin-dev/May_2015/008301_Consensus-enforced-transaction-replacement-via-sequence-numbers.xml.html">Consensus-enforced transaction replacement via sequence numbers</a>
                        <b>Mike Hearn 2015-05-27 17:39:29</b>
                    </li>
                
                    <li>
                        <a href="/bitcoin-dev/May_2015/008315_Consensus-enforced-transaction-replacement-via-sequence-numbers.xml.html">Consensus-enforced transaction replacement via sequence numbers</a>
                        <b>Peter Todd 2015-05-28 12:04:34</b>
                    </li>
                
                    <li>
                        <a href="/bitcoin-dev/May_2015/008288_Consensus-enforced-transaction-replacement-via-sequence-numbers.xml.html">Consensus-enforced transaction replacement via sequence numbers</a>
                        <b>Peter Todd 2015-05-27 07:47:13</b>
                    </li>
                
                    <li>
                        <a href="/bitcoin-dev/May_2015/008290_Consensus-enforced-transaction-replacement-via-sequence-numbers.xml.html">Consensus-enforced transaction replacement via sequence numbers</a>
                        <b>Gregory Maxwell 2015-05-27 08:18:52</b>
                    </li>
                
                    <li>
                        <a href="/bitcoin-dev/May_2015/008299_Consensus-enforced-transaction-replacement-via-sequence-numbers.xml.html">Consensus-enforced transaction replacement via sequence numbers</a>
                        <b>Mark Friedenbach 2015-05-27 15:26:52</b>
                    </li>
                
                    <li>
                        <a href="/bitcoin-dev/May_2015/008301_Consensus-enforced-transaction-replacement-via-sequence-numbers.xml.html">Consensus-enforced transaction replacement via sequence numbers</a>
                        <b>Mike Hearn 2015-05-27 17:39:29</b>
                    </li>
                
                    <li>
                        <a href="/bitcoin-dev/May_2015/008311_Consensus-enforced-transaction-replacement-via-sequence-numbers.xml.html">Consensus-enforced transaction replacement via sequence numbers</a>
                        <b>Mark Friedenbach 2015-05-28 09:56:36</b>
                    </li>
                
                    <li>
                        <a href="/bitcoin-dev/May_2015/008319_Consensus-enforced-transaction-replacement-via-sequence-numbers.xml.html">Consensus-enforced transaction replacement via sequence numbers</a>
                        <b>Mark Friedenbach 2015-05-28 15:38:43</b>
                    </li>
                
                    <li>
                        <a href="/bitcoin-dev/May_2015/008322_Consensus-enforced-transaction-replacement-via-sequence-numbers.xml.html">Consensus-enforced transaction replacement via sequence numbers</a>
                        <b>s7r 2015-05-28 16:22:46</b>
                    </li>
                
                    <li>
                        <a href="/bitcoin-dev/May_2015/008288_Consensus-enforced-transaction-replacement-via-sequence-numbers.xml.html">Consensus-enforced transaction replacement via sequence numbers</a>
                        <b>Peter Todd 2015-05-27 07:47:13</b>
                    </li>
                
                    <li>
                        <a href="/bitcoin-dev/May_2015/008292_Consensus-enforced-transaction-replacement-via-sequence-numbers.xml.html">Consensus-enforced transaction replacement via sequence numbers</a>
                        <b>Tier Nolan 2015-05-27 10:00:16</b>
                    </li>
                
                    <li>
                        <a href="/bitcoin-dev/May_2015/008297_Consensus-enforced-transaction-replacement-via-sequence-numbers.xml.html">Consensus-enforced transaction replacement via sequence numbers</a>
                        <b>Peter Todd 2015-05-27 10:58:05</b>
                    </li>
                
                    <li>
                        <a href="/bitcoin-dev/May_2015/008300_Consensus-enforced-transaction-replacement-via-sequence-numbers.xml.html">Consensus-enforced transaction replacement via sequence numbers</a>
                        <b>Jorge Timón 2015-05-27 17:07:24</b>
                    </li>
                
                    <li>
                        <a href="/bitcoin-dev/May_2015/008301_Consensus-enforced-transaction-replacement-via-sequence-numbers.xml.html">Consensus-enforced transaction replacement via sequence numbers</a>
                        <b>Mike Hearn 2015-05-27 17:39:29</b>
                    </li>
                
                    <li>
                        <a href="/bitcoin-dev/May_2015/008312_Consensus-enforced-transaction-replacement-via-sequence-numbers.xml.html">Consensus-enforced transaction replacement via sequence numbers</a>
                        <b>Mike Hearn 2015-05-28 10:23:48</b>
                    </li>
                
                    <li>
                        <a href="/bitcoin-dev/May_2015/008313_Consensus-enforced-transaction-replacement-via-sequence-numbers.xml.html">Consensus-enforced transaction replacement via sequence numbers</a>
                        <b>Tier Nolan 2015-05-28 10:30:18</b>
                    </li>
                
                    <li>
                        <a href="/bitcoin-dev/May_2015/008322_Consensus-enforced-transaction-replacement-via-sequence-numbers.xml.html">Consensus-enforced transaction replacement via sequence numbers</a>
                        <b>s7r 2015-05-28 16:22:46</b>
                    </li>
                
                    <li>
                        <a href="/bitcoin-dev/June_2015/008541_Consensus-enforced-transaction-replacement-via-sequence-numbers.xml.html">Consensus-enforced transaction replacement via sequence numbers</a>
                        <b>Rusty Russell 2015-06-10 02:40:38</b>
                    </li>
                
                    <li>
                        <a href="/bitcoin-dev/May_2015/008316_Consensus-enforced-transaction-replacement-via-sequence-numbers.xml.html">Consensus-enforced transaction replacement via sequence numbers</a>
                        <b>Tier Nolan 2015-05-28 13:35:57</b>
                    </li>
                
                    <li>
                        <a href="/bitcoin-dev/May_2015/008283_Consensus-enforced-transaction-replacement-via-sequence-numbers.xml.html">Consensus-enforced transaction replacement via sequence numbers</a>
                        <b>Mark Friedenbach 2015-05-27 01:50:29</b>
                    </li>
                
                    <li>
                        <a href="/bitcoin-dev/May_2015/008288_Consensus-enforced-transaction-replacement-via-sequence-numbers.xml.html">Consensus-enforced transaction replacement via sequence numbers</a>
                        <b>Peter Todd 2015-05-27 07:47:13</b>
                    </li>
                
                    <li>
                        <a href="/bitcoin-dev/May_2015/008300_Consensus-enforced-transaction-replacement-via-sequence-numbers.xml.html">Consensus-enforced transaction replacement via sequence numbers</a>
                        <b>Jorge Timón 2015-05-27 17:07:24</b>
                    </li>
                
                    <li>
                        <a href="/bitcoin-dev/May_2015/008311_Consensus-enforced-transaction-replacement-via-sequence-numbers.xml.html">Consensus-enforced transaction replacement via sequence numbers</a>
                        <b>Mark Friedenbach 2015-05-28 09:56:36</b>
                    </li>
                
                    <li>
                        <a href="/bitcoin-dev/May_2015/008312_Consensus-enforced-transaction-replacement-via-sequence-numbers.xml.html">Consensus-enforced transaction replacement via sequence numbers</a>
                        <b>Mike Hearn 2015-05-28 10:23:48</b>
                    </li>
                
                    <li>
                        <a href="/bitcoin-dev/May_2015/008313_Consensus-enforced-transaction-replacement-via-sequence-numbers.xml.html">Consensus-enforced transaction replacement via sequence numbers</a>
                        <b>Tier Nolan 2015-05-28 10:30:18</b>
                    </li>
                
                    <li>
                        <a href="/bitcoin-dev/June_2015/008541_Consensus-enforced-transaction-replacement-via-sequence-numbers.xml.html">Consensus-enforced transaction replacement via sequence numbers</a>
                        <b>Rusty Russell 2015-06-10 02:40:38</b>
                    </li>
                
                    <li>
                        <a href="/bitcoin-dev/May_2015/008317_Consensus-enforced-transaction-replacement-via-sequence-numbers.xml.html">Consensus-enforced transaction replacement via sequence numbers</a>
                        <b>Mark Friedenbach 2015-05-28 14:59:13</b>
                    </li>
                
                    <li>
                        <a href="/bitcoin-dev/May_2015/008321_Consensus-enforced-transaction-replacement-via-sequence-numbers.xml.html">Consensus-enforced transaction replacement via sequence numbers</a>
                        <b>Tier Nolan 2015-05-28 15:57:15</b>
                    </li>
                
                    <li>
                        <a href="/bitcoin-dev/May_2015/008283_Consensus-enforced-transaction-replacement-via-sequence-numbers.xml.html">Consensus-enforced transaction replacement via sequence numbers</a>
                        <b>Mark Friedenbach 2015-05-27 01:50:29</b>
                    </li>
                
                    <li>
                        <a href="/bitcoin-dev/May_2015/008292_Consensus-enforced-transaction-replacement-via-sequence-numbers.xml.html">Consensus-enforced transaction replacement via sequence numbers</a>
                        <b>Tier Nolan 2015-05-27 10:00:16</b>
                    </li>
                
                    <li>
                        <a href="/bitcoin-dev/May_2015/008293_Consensus-enforced-transaction-replacement-via-sequence-numbers.xml.html">Consensus-enforced transaction replacement via sequence numbers</a>
                        <b>Mike Hearn 2015-05-27 10:11:26</b>
                    </li>
                
                    <li>
                        <a href="/bitcoin-dev/May_2015/008297_Consensus-enforced-transaction-replacement-via-sequence-numbers.xml.html">Consensus-enforced transaction replacement via sequence numbers</a>
                        <b>Peter Todd 2015-05-27 10:58:05</b>
                    </li>
                
                    <li>
                        <a href="/bitcoin-dev/May_2015/008312_Consensus-enforced-transaction-replacement-via-sequence-numbers.xml.html">Consensus-enforced transaction replacement via sequence numbers</a>
                        <b>Mike Hearn 2015-05-28 10:23:48</b>
                    </li>
                
                    <li>
                        <a href="/bitcoin-dev/May_2015/008313_Consensus-enforced-transaction-replacement-via-sequence-numbers.xml.html">Consensus-enforced transaction replacement via sequence numbers</a>
                        <b>Tier Nolan 2015-05-28 10:30:18</b>
                    </li>
                
                    <li>
                        <a href="/bitcoin-dev/May_2015/008315_Consensus-enforced-transaction-replacement-via-sequence-numbers.xml.html">Consensus-enforced transaction replacement via sequence numbers</a>
                        <b>Peter Todd 2015-05-28 12:04:34</b>
                    </li>
                
                    <li>
                        <a href="/bitcoin-dev/May_2015/008289_Consensus-enforced-transaction-replacement-via-sequence-numbers.xml.html">Consensus-enforced transaction replacement via sequence numbers</a>
                        <b>Telephone Lemien 2015-05-27 08:04:09</b>
                    </li>
                
                    <li>
                        <a href="/bitcoin-dev/May_2015/008290_Consensus-enforced-transaction-replacement-via-sequence-numbers.xml.html">Consensus-enforced transaction replacement via sequence numbers</a>
                        <b>Gregory Maxwell 2015-05-27 08:18:52</b>
                    </li>
                
                    <li>
                        <a href="/bitcoin-dev/May_2015/008299_Consensus-enforced-transaction-replacement-via-sequence-numbers.xml.html">Consensus-enforced transaction replacement via sequence numbers</a>
                        <b>Mark Friedenbach 2015-05-27 15:26:52</b>
                    </li>
                
                    <li>
                        <a href="/bitcoin-dev/May_2015/008311_Consensus-enforced-transaction-replacement-via-sequence-numbers.xml.html">Consensus-enforced transaction replacement via sequence numbers</a>
                        <b>Mark Friedenbach 2015-05-28 09:56:36</b>
                    </li>
                
                    <li>
                        <a href="/bitcoin-dev/May_2015/008315_Consensus-enforced-transaction-replacement-via-sequence-numbers.xml.html">Consensus-enforced transaction replacement via sequence numbers</a>
                        <b>Peter Todd 2015-05-28 12:04:34</b>
                    </li>
                
                    <li>
                        <a href="/bitcoin-dev/May_2015/008317_Consensus-enforced-transaction-replacement-via-sequence-numbers.xml.html">Consensus-enforced transaction replacement via sequence numbers</a>
                        <b>Mark Friedenbach 2015-05-28 14:59:13</b>
                    </li>
                
                    <li>
                        <a href="/bitcoin-dev/May_2015/008318_Consensus-enforced-transaction-replacement-via-sequence-numbers.xml.html">Consensus-enforced transaction replacement via sequence numbers</a>
                        <b>Tier Nolan 2015-05-28 15:18:05</b>
                    </li>
                
                    <li>
                        <a href="/bitcoin-dev/May_2015/008321_Consensus-enforced-transaction-replacement-via-sequence-numbers.xml.html">Consensus-enforced transaction replacement via sequence numbers</a>
                        <b>Tier Nolan 2015-05-28 15:57:15</b>
                    </li>
                
                    <li>
                        <a href="/bitcoin-dev/June_2015/008541_Consensus-enforced-transaction-replacement-via-sequence-numbers.xml.html">Consensus-enforced transaction replacement via sequence numbers</a>
                        <b>Rusty Russell 2015-06-10 02:40:38</b>
                    </li>
                
                    <li>
                        <a href="/bitcoin-dev/May_2015/008316_Consensus-enforced-transaction-replacement-via-sequence-numbers.xml.html">Consensus-enforced transaction replacement via sequence numbers</a>
                        <b>Tier Nolan 2015-05-28 13:35:57</b>
                    </li>
                
                    <li>
                        <a href="/bitcoin-dev/May_2015/008318_Consensus-enforced-transaction-replacement-via-sequence-numbers.xml.html">Consensus-enforced transaction replacement via sequence numbers</a>
                        <b>Tier Nolan 2015-05-28 15:18:05</b>
                    </li>
                
                    <li>
                        <a href="/bitcoin-dev/May_2015/008327_Consensus-enforced-transaction-replacement-via-sequence-numbers.xml.html">Consensus-enforced transaction replacement via sequence numbers</a>
                        <b>Tier Nolan 2015-05-28 17:21:34</b>
                    </li>
                
                    <li>
                        <a href="/bitcoin-dev/May_2015/008289_Consensus-enforced-transaction-replacement-via-sequence-numbers.xml.html">Consensus-enforced transaction replacement via sequence numbers</a>
                        <b>Telephone Lemien 2015-05-27 08:04:09</b>
                    </li>
                
                    <li>
                        <a href="/bitcoin-dev/May_2015/008300_Consensus-enforced-transaction-replacement-via-sequence-numbers.xml.html">Consensus-enforced transaction replacement via sequence numbers</a>
                        <b>Jorge Timón 2015-05-27 17:07:24</b>
                    </li>
                
                    <li>
                        <a href="/bitcoin-dev/May_2015/008292_Consensus-enforced-transaction-replacement-via-sequence-numbers.xml.html">Consensus-enforced transaction replacement via sequence numbers</a>
                        <b>Tier Nolan 2015-05-27 10:00:16</b>
                    </li>
                
                    <li>
                        <a href="/bitcoin-dev/May_2015/008297_Consensus-enforced-transaction-replacement-via-sequence-numbers.xml.html">Consensus-enforced transaction replacement via sequence numbers</a>
                        <b>Peter Todd 2015-05-27 10:58:05</b>
                    </li>
                
                    <li>
                        <a href="/bitcoin-dev/May_2015/008318_Consensus-enforced-transaction-replacement-via-sequence-numbers.xml.html">Consensus-enforced transaction replacement via sequence numbers</a>
                        <b>Tier Nolan 2015-05-28 15:18:05</b>
                    </li>
                
                    <li>
                        <a href="/bitcoin-dev/May_2015/008319_Consensus-enforced-transaction-replacement-via-sequence-numbers.xml.html">Consensus-enforced transaction replacement via sequence numbers</a>
                        <b>Mark Friedenbach 2015-05-28 15:38:43</b>
                    </li>
                
                    <li>
                        <a href="/bitcoin-dev/May_2015/008322_Consensus-enforced-transaction-replacement-via-sequence-numbers.xml.html">Consensus-enforced transaction replacement via sequence numbers</a>
                        <b>s7r 2015-05-28 16:22:46</b>
                    </li>
                
                    <li>
                        <a href="/bitcoin-dev/May_2015/008327_Consensus-enforced-transaction-replacement-via-sequence-numbers.xml.html">Consensus-enforced transaction replacement via sequence numbers</a>
                        <b>Tier Nolan 2015-05-28 17:21:34</b>
                    </li>
                
                    <li>
                        <a href="/bitcoin-dev/May_2015/008316_Consensus-enforced-transaction-replacement-via-sequence-numbers.xml.html">Consensus-enforced transaction replacement via sequence numbers</a>
                        <b>Tier Nolan 2015-05-28 13:35:57</b>
                    </li>
                
                    <li>
                        <a href="/bitcoin-dev/May_2015/008319_Consensus-enforced-transaction-replacement-via-sequence-numbers.xml.html">Consensus-enforced transaction replacement via sequence numbers</a>
                        <b>Mark Friedenbach 2015-05-28 15:38:43</b>
                    </li>
                
                    <li>
                        <a href="/bitcoin-dev/May_2015/008327_Consensus-enforced-transaction-replacement-via-sequence-numbers.xml.html">Consensus-enforced transaction replacement via sequence numbers</a>
                        <b>Tier Nolan 2015-05-28 17:21:34</b>
                    </li>
                
                    <li>
                        <a href="/bitcoin-dev/May_2015/008283_Consensus-enforced-transaction-replacement-via-sequence-numbers.xml.html">Consensus-enforced transaction replacement via sequence numbers</a>
                        <b>Mark Friedenbach 2015-05-27 01:50:29</b>
                    </li>
                
                    <li>
                        <a href="/bitcoin-dev/May_2015/008293_Consensus-enforced-transaction-replacement-via-sequence-numbers.xml.html">Consensus-enforced transaction replacement via sequence numbers</a>
                        <b>Mike Hearn 2015-05-27 10:11:26</b>
                    </li>
                
            
        </ul>
        
            <a href="https://lists.linuxfoundation.org/pipermail/bitcoin-dev/2015-May/008317.html">Click here to read the original discussion on the bitcoin-dev mailing list</a>
        
        <p><i>Published on: 2015-05-28T14:59:13+00:00</i></p>
        <hr>
        <h3>Summary:</h3>
        <p>The Bitcoin-development mailing list is the site of several discussions surrounding the proposed change to the 4-byte field in Bitcoin transactions. The change would allow for relative locktime verification and could be block count-based without counting very high. Tier Nolan and Peter Todd debate whether the change should be treated as a feature flag or a version change. A proposed Fast Channel Close protocol allows for Alice to create a transaction (TXA) and send it to Bob, who signs it and sends it back to Alice. If the channel is closed, Alice is the only one who can take the coins back after a relative locktime of 150 blocks. Bob is not able to do this. However, if Alice sends some money to Bob, he has 150 blocks to sign the transaction that pays him the most money and broadcast it, after which Alice gets the remainder of the deposit. The proposal eliminates the need for a defined end date for the channel, allowing either party to close the channel whenever they want, but with some risks involved.The email exchange between Mark Friedenbach and other parties discusses the next version of a software being developed and the possibility of altering the txid through serialization, which would cause a hard fork change. However, the proposed change is deemed backwards compatible and therefore a soft fork. Additionally, it is suggested that some bytes could be kept for other uses, with the top 2 bytes ignored for relative locktime verify. Finally, the question is raised if there are any use-cases that require a RLTV of more than 8191 blocks delay that cannot be covered by the absolute version.Other conversations touch on the implementation of CHECKLOCKTIMEVERIFY, the functional difference between relative nLockTime and decreasing absolute nLockTime in payment channels, and the potential benefits of the proposed change to the 4-byte field. They also discuss the scenario of a single direction channel from Alice to Bob, where Alice funds the channel and can take back her coins after a relative locktime of 150 blocks while Bob is unable to do so. To protect Bob, a refund transaction is created with a scriptPubKey that allows Alice and Bob to spend the output without delay with both signatures. However, if Bob refuses to sign the final transaction when Alice decides to close the channel, she can just broadcast the refund transaction and get the channel deposit 150 blocks later if he doesn't act. It is also mentioned that channels do not provide protection against fraud where Bob can claim his slice of the output without delivering services to Alice.Sequence numbers were originally created as a means of transaction replacement for multi-party transaction construction, such as micropayment channels. However, the lack of enforcement of the rule that miners include the most recent transaction in their blocks makes it impossible to rely on a transaction replacement policy. This issue can be resolved by giving sequence numbers new consensus-enforced semantics as a relative lock-time.The proposed change to the Bitcoin transaction is deemed backwards compatible and therefore a soft fork. The participants discuss different ways of using the bytes for other purposes, but conclude that there is not much room for this due to time-based relative locktimes and long-lived channels.The email conversation discusses the possibility of changing the semantics of a field in a Bitcoin transaction. The participants discuss various ways of using the bytes for other purposes, such as setting the top 2 bytes to anything or activating a rule if the MSB of the bottom 2 bytes is set. They also consider whether there are any use-cases that require a relative locktime verify of more than 8191 blocks delay that cannot be covered by the absolute version.The email also explains how to apply a locktime path to a transaction using OP_CHECKLOCKTIMEVERIFY. It mentions that channels do not provide protection against fraud where Bob can claim his slice of the output without delivering services to Alice.</p>
        <hr>
        <p><i>Updated on: 2023-06-09T21:43:15.212697+00:00</i></p>
    

    

    <footer>
        <span style="font-family: Arial, Helvetica, sans-serif;">&#10084;&#65039;</span> <a href="https://chaincode.com" target="_blank" rel="noreferrer" style="text-decoration: none; color: inherit;">Chaincode</a>
    </footer>
</body>

</html>