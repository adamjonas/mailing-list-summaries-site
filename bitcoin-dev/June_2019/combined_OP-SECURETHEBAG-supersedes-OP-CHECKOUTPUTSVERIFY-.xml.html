<!doctype html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="Content-Type" content="text/html; charset=us-ascii">
    <title>Atom Feed Display</title>
    <link rel="stylesheet" href="../../archive_styles.css">
</head>

<body BGCOLOR="#fffffb">
    
    <h1>OP_SECURETHEBAG (supersedes OP_CHECKOUTPUTSVERIFY) <span class="combined-summary">[combined summary]</span></h1>
    <hr class="solid">
    <br><b>Individual post summaries:</b>
    
        <ul>
            
                
                    <li>
                        <a href="/bitcoin-dev/June_2019/017036_OP-SECURETHEBAG-supersedes-OP-CHECKOUTPUTSVERIFY-.xml.html">OP_SECURETHEBAG (supersedes OP_CHECKOUTPUTSVERIFY)</a>
                        <b>Anthony Towns 2019-06-20 22:05:52</b>
                    </li>
                
                    <li>
                        <a href="/bitcoin-dev/June_2019/017006_OP-SECURETHEBAG-supersedes-OP-CHECKOUTPUTSVERIFY-.xml.html">OP_SECURETHEBAG (supersedes OP_CHECKOUTPUTSVERIFY)</a>
                        <b>Anthony Towns 2019-06-05 09:30:39</b>
                    </li>
                
            
        </ul>
        
            <a href="https://lists.linuxfoundation.org/pipermail/bitcoin-dev/2019-June/017036.html">Click here to read the original discussion on the bitcoin-dev mailing list</a>
        
        <p><i>Published on: 2019-06-20T22:05:52+00:00</i></p>
        <hr>
        <h3>Summary:</h3>
        <p>A proposal for simulating OP_SECURETHEBAG with an ANYPREVOUT (NOINPUT) sighash is discussed in this context. The proposed method involves calculating an ANYPREVOUT sighash for SIGHASH_ANYPREVOUTANYSCRIPT | SIGHASH_ALL, and making the script "CHECKSIG". This method loses the ability to commit to the number of inputs or restrict the nsequence of other inputs, and requires a bigger script. However, both scripts are automatically satisfied when revealed with the correct set of outputs and do not need any additional witness data. The possibility of constructing "X" via script instead of hardcoding a value is also discussed. Furthermore, it is mentioned that OP_CHECKOUTPUTSHASHVERIFY is retracted in favor of OP_SECURETHEBAG. To make it fit in with the existing opcode naming, it is suggested to call it "OP_CHECKTXDIGESTVERIFY" and pull a 33-byte value from the stack, consisting of a sha256 hash and a sighash-byte. A new sighash value corresponding to the set of info to be included in the hash can be added. However, there doesn't seem to be any reason to complicate the spec to ensure the digest is precommitted as part of the opcode.</p>
        <hr>
        <p><i>Updated on: 2023-05-20T20:37:13.820027+00:00</i></p>
    

    

    <footer>
        <span style="font-family: Arial, Helvetica, sans-serif;">&#10084;&#65039;</span> <a href="https://chaincode.com" target="_blank" rel="noreferrer" style="text-decoration: none; color: inherit;">Chaincode</a>
    </footer>
</body>

</html>