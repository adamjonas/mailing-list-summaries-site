<!doctype html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="Content-Type" content="text/html; charset=us-ascii">
    <title>Atom Feed Display</title>
    <link rel="stylesheet" href="../../archive_styles.css">
</head>

<body BGCOLOR="#fffffb">
    
    <h1>BIP 38 NFC normalisation issue</h1>
    <hr class="solid">
    
    <ul>
        
        
            <p><b>Author:</b> Jeff Garzik 2014-07-15 15:17:04
            <br><i>Published on: 2014-07-15T15:17:04+00:00</i></p>

        
        

        
        
        <li>
        <a href="/bitcoin-dev/July_2014/combined_BIP-38-NFC-normalisation-issue.html"> Combined Summary of all posts in thread </a>
        </li>
        
        <li>
            
                <a href="https://lists.linuxfoundation.org/pipermail/bitcoin-dev/2014-July/006248.html">Click here to read original discussion on the bitcoin-dev mailing list</a>
            
        </li>

    </ul>

    <hr>
    <h3> Summary:</h3>
    <p>The context discusses the normalisation of string inputs for Bitcoin wallet encryption. Unicode guarantees that null-terminated strings still work, with U+0000 terminating a unicode (or C) string. The byte count of a string can be determined using strlen(), while the character count can be determined using mbstowcs(). While whitespace can be problematic and control characters should be filtered, emoticons are difficult to filter without resorting to substandard approaches such as character blacklists. A test vector was added to the implementation of BIP 38 (password protected private keys) in bitcoinj. However, the third test vector may not be valid, as it gives a hex version of what the NFC normalised version of the input string should be, but this does not match the results of the Java unicode normaliser. Given that "pile of poo" is not a character any sane user would put into a passphrase, it is suggested that the value of this test vector be questioned. Proposed action is to remove this test vector as it does not represent any real world usage of the spec, or if verification of NFC normalisation is desperately needed, a different, more realistic test string should be used.</p>
    <hr>
    <p><i> Updated on: 2023-06-09T00:59:19.518434+00:00 </i></p>
    
    

    <footer>
        <span style="font-family: Arial, Helvetica, sans-serif;">&#10084;&#65039;</span> <a href="https://chaincode.com" target="_blank" rel="noreferrer" style="text-decoration: none; color: inherit;">Chaincode</a>
    </footer>
</body>

</html>