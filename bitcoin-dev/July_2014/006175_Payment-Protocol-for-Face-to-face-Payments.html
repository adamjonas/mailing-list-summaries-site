<!doctype html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="Content-Type" content="text/html; charset=us-ascii">
    <title>Atom Feed Display</title>
    <link rel="stylesheet" href="../../archive_styles.css">
</head>

<body BGCOLOR="#fffffb">
    
    <h1>Payment Protocol for Face-to-face Payments</h1>
    <hr class="solid">
    
    <ul>
        
        
            <p><b>Author:</b> Andreas Schildbach 2014-07-01 15:39:42
            <br><i>Published on: 2014-07-01T15:39:42+00:00</i></p>

        
        

        
        
        <li>
        <a href="/bitcoin-dev/July_2014/combined_Payment-Protocol-for-Face-to-face-Payments.html"> Combined Summary of all posts in thread </a>
        </li>
        
        <li>
            
                <a href="https://lists.linuxfoundation.org/pipermail/bitcoin-dev/2014-July/006175.html">Click here to read original discussion on the bitcoin-dev mailing list</a>
            
        </li>

    </ul>

    <hr>
    <h3> Summary:</h3>
    <p>In a discussion thread on the Bitcoin development mailing list, Andreas Schildbach advocates for a simple array parameter name for r[] which could be encoded as rs= ("plural" of r) instead of r%5B1%5D=. He is fine with either multiple r= params or exactly one r= plus zero to many r[]= params. He thinks it is a violation of the (current) spec to choke on more than one r= parameters, but bitcoinj is currently implemented that way. However, r= should also allow all other protocols, exactly like any of the r[]= params. Michael Wozniak notes that multiple parameters are currently undefined and suggests that the client take the first, last, or ignore it completely if there are multiple of any parameter. The Electrum implementation checks for any duplicate parameters and treats the entire URI as invalid if duplicate parameters exist, following the parameter pollution suggestions.Alex Kotenko responds by saying that while processing of multiple "r" parameters is uncertain, the array solution is somewhat better and the array parameter name is "r%5B1%5D=". If particular implementation understands the array construct, it will use it, otherwise, it will ignore the "r%5B1%5D=" and use only usual "r=". This doesn't work though for cases where particular implementation understands array construct but doesn't work well with repeating parameters since it will see two repeating "r" - an array and a string. If they add a completely new parameter to solve this, they will need to make it an array straight away to address upcoming issues with accommodating other protocols. They would modify existing BIP72 to strictly define "r=" as "http(s)" â€‹only parameter, while all other protocols (bluetooth, WiFi Direct, ultrasound, chirp etc) should go to the new array parameter.</p>
    <hr>
    <p><i> Updated on: 2023-06-08T01:07:29.322408+00:00 </i></p>
    
    

    <footer>
        <span style="font-family: Arial, Helvetica, sans-serif;">&#10084;&#65039;</span> <a href="https://chaincode.com" target="_blank" rel="noreferrer" style="text-decoration: none; color: inherit;">Chaincode</a>
    </footer>
</body>

</html>