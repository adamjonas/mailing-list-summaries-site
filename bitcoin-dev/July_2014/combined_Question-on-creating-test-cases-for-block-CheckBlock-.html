<!doctype html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="Content-Type" content="text/html; charset=us-ascii">
    <title>Atom Feed Display</title>
    <link rel="stylesheet" href="../../archive_styles.css">
</head>

<body BGCOLOR="#fffffb">
    
    <h1>Question on creating test cases for block.CheckBlock() <span class="combined-summary">[combined summary]</span></h1>
    <hr class="solid">
    <br><b>Individual post summaries:</b>
    
        <ul>
            
                
                    <li>
                        <a href="/bitcoin-dev/July_2014/006334_Question-on-creating-test-cases-for-block-CheckBlock-.html">Question on creating test cases for block.CheckBlock()</a>
                        <b>Mike Hearn 2014-07-22 11:13:50+00:00</b>
                    </li>
                
                    <li>
                        <a href="/bitcoin-dev/July_2014/006331_Question-on-creating-test-cases-for-block-CheckBlock-.html">Question on creating test cases for block.CheckBlock()</a>
                        <b>Sergio Lerner 2014-07-21 17:30:34+00:00</b>
                    </li>
                
            
        </ul>
        
            <a href="https://lists.linuxfoundation.org/pipermail/bitcoin-dev/2014-July/006334.html">Click here to read the original discussion on the bitcoin-dev mailing list</a>
        
        <p><i>Published on: 2014-07-22T11:13:50+00:00</i></p>
        <hr>
        <h3>Summary:</h3>
        <p>The author is currently working on a BIP that requires modifications to the block acceptance rules. They have two options for testing this BIP: mining blocks on the testnet or creating test cases for Bitcoin Core. The author specifically wants to create test cases for the block.CheckBlock() function by verifying 100 dynamically generated blocks.However, there are some uncertainties regarding the state of the blockchain when executing a test case. It is unclear which network (regtest, testnet3, or mainnet) the test case is configured for and what blocks are present in the blockchain. Upon investigation, the author discovered that the checkblock_tests.cpp file is the only test case available for CheckBlock(). However, this test case assumes that the mainnet is configured. To overcome this limitation, the author needs to utilize regtest, which will allow them to create blocks with a difficulty of 1.Currently, there is no infrastructure for writing blockchain unit tests. To address this issue, the pull tester has been extended as a solution. The pull tester is an app called BitcoindComparisonTool, based on bitcoinj, that builds a regtest chain and submits it to a local regtest node. This tool enables testing of reorgs and various rules by communicating with the node solely via P2P.While the pull tester provides a potential solution, there is still room for improvement. The code requires cleaning up, as copy/paste coding is prevalent. Additionally, the ease of verifying a BIP via P2P plays a crucial role in determining its feasibility.</p>
        <hr>
        <p><i>Updated on: 2023-08-01T09:55:56.466003+00:00</i></p>
    

    

    <footer>
        <span style="font-family: Arial, Helvetica, sans-serif;">&#10084;&#65039;</span> <a href="https://chaincode.com" target="_blank" rel="noreferrer" style="text-decoration: none; color: inherit;">Chaincode</a>
    </footer>
</body>

</html>