<!doctype html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="Content-Type" content="text/html; charset=us-ascii">
    <title>Atom Feed Display</title>
    <link rel="stylesheet" href="../../archive_styles.css">
</head>

<body BGCOLOR="#fffffb">
    
    <h1>Compact Block Relay BIP <span class="combined-summary">[combined summary]</span></h1>
    <hr class="solid">
    <br><b>Individual post summaries:</b>
    
        <ul>
            
                
                    <li>
                        <a href="/bitcoin-dev/May_2016/012625_Compact-Block-Relay-BIP.xml.html">Compact Block Relay BIP</a>
                        <b>Gregory Maxwell 2016-05-03 05:02:28</b>
                    </li>
                
                    <li>
                        <a href="/bitcoin-dev/May_2016/012638_Compact-Block-Relay-BIP.xml.html">Compact Block Relay BIP</a>
                        <b>Tom Zander 2016-05-09 09:35:32</b>
                    </li>
                
                    <li>
                        <a href="/bitcoin-dev/May_2016/012639_Compact-Block-Relay-BIP.xml.html">Compact Block Relay BIP</a>
                        <b>Gregory Maxwell 2016-05-09 10:43:02</b>
                    </li>
                
                    <li>
                        <a href="/bitcoin-dev/May_2016/012647_Compact-Block-Relay-BIP.xml.html">Compact Block Relay BIP</a>
                        <b>Peter R 2016-05-09 23:37:00</b>
                    </li>
                
                    <li>
                        <a href="/bitcoin-dev/May_2016/012649_Compact-Block-Relay-BIP.xml.html">Compact Block Relay BIP</a>
                        <b>Peter R 2016-05-10 01:42:45</b>
                    </li>
                
                    <li>
                        <a href="/bitcoin-dev/May_2016/012719_Compact-Block-Relay-BIP.xml.html">Compact Block Relay BIP</a>
                        <b>Matt Corallo 2016-05-18 01:49:10</b>
                    </li>
                
                    <li>
                        <a href="/bitcoin-dev/May_2016/012627_Compact-Block-Relay-BIP.xml.html">Compact Block Relay BIP</a>
                        <b>Matt Corallo 2016-05-06 03:09:14</b>
                    </li>
                
                    <li>
                        <a href="/bitcoin-dev/May_2016/012632_Compact-Block-Relay-BIP.xml.html">Compact Block Relay BIP</a>
                        <b>Nicolas Dorier 2016-05-08 10:25:49</b>
                    </li>
                
                    <li>
                        <a href="/bitcoin-dev/May_2016/012647_Compact-Block-Relay-BIP.xml.html">Compact Block Relay BIP</a>
                        <b>Peter R 2016-05-09 23:37:00</b>
                    </li>
                
                    <li>
                        <a href="/bitcoin-dev/May_2016/012648_Compact-Block-Relay-BIP.xml.html">Compact Block Relay BIP</a>
                        <b>Gregory Maxwell 2016-05-10 02:12:03</b>
                    </li>
                
                    <li>
                        <a href="/bitcoin-dev/May_2016/012650_Compact-Block-Relay-BIP.xml.html">Compact Block Relay BIP</a>
                        <b>Rusty Russell 2016-05-10 05:28:19</b>
                    </li>
                
                    <li>
                        <a href="/bitcoin-dev/May_2016/012660_Compact-Block-Relay-BIP.xml.html">Compact Block Relay BIP</a>
                        <b>Rusty Russell 2016-05-10 21:23:55</b>
                    </li>
                
                    <li>
                        <a href="/bitcoin-dev/May_2016/012661_Compact-Block-Relay-BIP.xml.html">Compact Block Relay BIP</a>
                        <b>Matt Corallo 2016-05-11 01:12:32</b>
                    </li>
                
                    <li>
                        <a href="/bitcoin-dev/May_2016/012645_Compact-Block-Relay-BIP.xml.html">Compact Block Relay BIP</a>
                        <b>Pieter Wuille 2016-05-09 17:06:06</b>
                    </li>
                
                    <li>
                        <a href="/bitcoin-dev/May_2016/012648_Compact-Block-Relay-BIP.xml.html">Compact Block Relay BIP</a>
                        <b>Gregory Maxwell 2016-05-10 02:12:03</b>
                    </li>
                
                    <li>
                        <a href="/bitcoin-dev/May_2016/012624_Compact-Block-Relay-BIP.xml.html">Compact Block Relay BIP</a>
                        <b>Matt Corallo 2016-05-02 22:13:22</b>
                    </li>
                
                    <li>
                        <a href="/bitcoin-dev/May_2016/012629_Compact-Block-Relay-BIP.xml.html">Compact Block Relay BIP</a>
                        <b>Johnathan Corgan 2016-05-08 00:40:25</b>
                    </li>
                
                    <li>
                        <a href="/bitcoin-dev/May_2016/012630_Compact-Block-Relay-BIP.xml.html">Compact Block Relay BIP</a>
                        <b>Matt Corallo 2016-05-08 03:24:22</b>
                    </li>
                
                    <li>
                        <a href="/bitcoin-dev/May_2016/012638_Compact-Block-Relay-BIP.xml.html">Compact Block Relay BIP</a>
                        <b>Tom Zander 2016-05-09 09:35:32</b>
                    </li>
                
                    <li>
                        <a href="/bitcoin-dev/May_2016/012639_Compact-Block-Relay-BIP.xml.html">Compact Block Relay BIP</a>
                        <b>Gregory Maxwell 2016-05-09 10:43:02</b>
                    </li>
                
                    <li>
                        <a href="/bitcoin-dev/May_2016/012644_Compact-Block-Relay-BIP.xml.html">Compact Block Relay BIP</a>
                        <b>Bryan Bishop 2016-05-09 14:04:20</b>
                    </li>
                
                    <li>
                        <a href="/bitcoin-dev/May_2016/012645_Compact-Block-Relay-BIP.xml.html">Compact Block Relay BIP</a>
                        <b>Pieter Wuille 2016-05-09 17:06:06</b>
                    </li>
                
                    <li>
                        <a href="/bitcoin-dev/May_2016/012719_Compact-Block-Relay-BIP.xml.html">Compact Block Relay BIP</a>
                        <b>Matt Corallo 2016-05-18 01:49:10</b>
                    </li>
                
                    <li>
                        <a href="/bitcoin-dev/May_2016/012651_Compact-Block-Relay-BIP.xml.html">Compact Block Relay BIP</a>
                        <b>Gregory Maxwell 2016-05-10 10:07:27</b>
                    </li>
                
                    <li>
                        <a href="/bitcoin-dev/May_2016/012624_Compact-Block-Relay-BIP.xml.html">Compact Block Relay BIP</a>
                        <b>Matt Corallo 2016-05-02 22:13:22</b>
                    </li>
                
                    <li>
                        <a href="/bitcoin-dev/May_2016/012629_Compact-Block-Relay-BIP.xml.html">Compact Block Relay BIP</a>
                        <b>Johnathan Corgan 2016-05-08 00:40:25</b>
                    </li>
                
                    <li>
                        <a href="/bitcoin-dev/May_2016/012630_Compact-Block-Relay-BIP.xml.html">Compact Block Relay BIP</a>
                        <b>Matt Corallo 2016-05-08 03:24:22</b>
                    </li>
                
                    <li>
                        <a href="/bitcoin-dev/May_2016/012632_Compact-Block-Relay-BIP.xml.html">Compact Block Relay BIP</a>
                        <b>Nicolas Dorier 2016-05-08 10:25:49</b>
                    </li>
                
                    <li>
                        <a href="/bitcoin-dev/May_2016/012643_Compact-Block-Relay-BIP.xml.html">Compact Block Relay BIP</a>
                        <b>Tom 2016-05-09 13:57:10</b>
                    </li>
                
                    <li>
                        <a href="/bitcoin-dev/May_2016/012644_Compact-Block-Relay-BIP.xml.html">Compact Block Relay BIP</a>
                        <b>Bryan Bishop 2016-05-09 14:04:20</b>
                    </li>
                
                    <li>
                        <a href="/bitcoin-dev/May_2016/012650_Compact-Block-Relay-BIP.xml.html">Compact Block Relay BIP</a>
                        <b>Rusty Russell 2016-05-10 05:28:19</b>
                    </li>
                
                    <li>
                        <a href="/bitcoin-dev/May_2016/012719_Compact-Block-Relay-BIP.xml.html">Compact Block Relay BIP</a>
                        <b>Matt Corallo 2016-05-18 01:49:10</b>
                    </li>
                
                    <li>
                        <a href="/bitcoin-dev/May_2016/012624_Compact-Block-Relay-BIP.xml.html">Compact Block Relay BIP</a>
                        <b>Matt Corallo 2016-05-02 22:13:22</b>
                    </li>
                
                    <li>
                        <a href="/bitcoin-dev/May_2016/012627_Compact-Block-Relay-BIP.xml.html">Compact Block Relay BIP</a>
                        <b>Matt Corallo 2016-05-06 03:09:14</b>
                    </li>
                
                    <li>
                        <a href="/bitcoin-dev/May_2016/012629_Compact-Block-Relay-BIP.xml.html">Compact Block Relay BIP</a>
                        <b>Johnathan Corgan 2016-05-08 00:40:25</b>
                    </li>
                
                    <li>
                        <a href="/bitcoin-dev/May_2016/012638_Compact-Block-Relay-BIP.xml.html">Compact Block Relay BIP</a>
                        <b>Tom Zander 2016-05-09 09:35:32</b>
                    </li>
                
                    <li>
                        <a href="/bitcoin-dev/May_2016/012639_Compact-Block-Relay-BIP.xml.html">Compact Block Relay BIP</a>
                        <b>Gregory Maxwell 2016-05-09 10:43:02</b>
                    </li>
                
                    <li>
                        <a href="/bitcoin-dev/May_2016/012641_Compact-Block-Relay-BIP.xml.html">Compact Block Relay BIP</a>
                        <b>Tom 2016-05-09 11:32:59</b>
                    </li>
                
                    <li>
                        <a href="/bitcoin-dev/May_2016/012643_Compact-Block-Relay-BIP.xml.html">Compact Block Relay BIP</a>
                        <b>Tom 2016-05-09 13:57:10</b>
                    </li>
                
                    <li>
                        <a href="/bitcoin-dev/May_2016/012646_Compact-Block-Relay-BIP.xml.html">Compact Block Relay BIP</a>
                        <b>Peter R 2016-05-09 18:34:47</b>
                    </li>
                
                    <li>
                        <a href="/bitcoin-dev/May_2016/012660_Compact-Block-Relay-BIP.xml.html">Compact Block Relay BIP</a>
                        <b>Rusty Russell 2016-05-10 21:23:55</b>
                    </li>
                
                    <li>
                        <a href="/bitcoin-dev/May_2016/012661_Compact-Block-Relay-BIP.xml.html">Compact Block Relay BIP</a>
                        <b>Matt Corallo 2016-05-11 01:12:32</b>
                    </li>
                
                    <li>
                        <a href="/bitcoin-dev/May_2016/012627_Compact-Block-Relay-BIP.xml.html">Compact Block Relay BIP</a>
                        <b>Matt Corallo 2016-05-06 03:09:14</b>
                    </li>
                
                    <li>
                        <a href="/bitcoin-dev/May_2016/012641_Compact-Block-Relay-BIP.xml.html">Compact Block Relay BIP</a>
                        <b>Tom 2016-05-09 11:32:59</b>
                    </li>
                
                    <li>
                        <a href="/bitcoin-dev/May_2016/012642_Compact-Block-Relay-BIP.xml.html">Compact Block Relay BIP</a>
                        <b>Peter Todd 2016-05-09 13:40:55</b>
                    </li>
                
                    <li>
                        <a href="/bitcoin-dev/May_2016/012645_Compact-Block-Relay-BIP.xml.html">Compact Block Relay BIP</a>
                        <b>Pieter Wuille 2016-05-09 17:06:06</b>
                    </li>
                
                    <li>
                        <a href="/bitcoin-dev/May_2016/012646_Compact-Block-Relay-BIP.xml.html">Compact Block Relay BIP</a>
                        <b>Peter R 2016-05-09 18:34:47</b>
                    </li>
                
                    <li>
                        <a href="/bitcoin-dev/May_2016/012648_Compact-Block-Relay-BIP.xml.html">Compact Block Relay BIP</a>
                        <b>Gregory Maxwell 2016-05-10 02:12:03</b>
                    </li>
                
                    <li>
                        <a href="/bitcoin-dev/May_2016/012651_Compact-Block-Relay-BIP.xml.html">Compact Block Relay BIP</a>
                        <b>Gregory Maxwell 2016-05-10 10:07:27</b>
                    </li>
                
                    <li>
                        <a href="/bitcoin-dev/May_2016/012660_Compact-Block-Relay-BIP.xml.html">Compact Block Relay BIP</a>
                        <b>Rusty Russell 2016-05-10 21:23:55</b>
                    </li>
                
                    <li>
                        <a href="/bitcoin-dev/May_2016/012661_Compact-Block-Relay-BIP.xml.html">Compact Block Relay BIP</a>
                        <b>Matt Corallo 2016-05-11 01:12:32</b>
                    </li>
                
                    <li>
                        <a href="/bitcoin-dev/May_2016/012625_Compact-Block-Relay-BIP.xml.html">Compact Block Relay BIP</a>
                        <b>Gregory Maxwell 2016-05-03 05:02:28</b>
                    </li>
                
                    <li>
                        <a href="/bitcoin-dev/May_2016/012641_Compact-Block-Relay-BIP.xml.html">Compact Block Relay BIP</a>
                        <b>Tom 2016-05-09 11:32:59</b>
                    </li>
                
                    <li>
                        <a href="/bitcoin-dev/May_2016/012642_Compact-Block-Relay-BIP.xml.html">Compact Block Relay BIP</a>
                        <b>Peter Todd 2016-05-09 13:40:55</b>
                    </li>
                
                    <li>
                        <a href="/bitcoin-dev/May_2016/012643_Compact-Block-Relay-BIP.xml.html">Compact Block Relay BIP</a>
                        <b>Tom 2016-05-09 13:57:10</b>
                    </li>
                
                    <li>
                        <a href="/bitcoin-dev/May_2016/012646_Compact-Block-Relay-BIP.xml.html">Compact Block Relay BIP</a>
                        <b>Peter R 2016-05-09 18:34:47</b>
                    </li>
                
                    <li>
                        <a href="/bitcoin-dev/May_2016/012649_Compact-Block-Relay-BIP.xml.html">Compact Block Relay BIP</a>
                        <b>Peter R 2016-05-10 01:42:45</b>
                    </li>
                
                    <li>
                        <a href="/bitcoin-dev/May_2016/012625_Compact-Block-Relay-BIP.xml.html">Compact Block Relay BIP</a>
                        <b>Gregory Maxwell 2016-05-03 05:02:28</b>
                    </li>
                
                    <li>
                        <a href="/bitcoin-dev/May_2016/012630_Compact-Block-Relay-BIP.xml.html">Compact Block Relay BIP</a>
                        <b>Matt Corallo 2016-05-08 03:24:22</b>
                    </li>
                
                    <li>
                        <a href="/bitcoin-dev/May_2016/012632_Compact-Block-Relay-BIP.xml.html">Compact Block Relay BIP</a>
                        <b>Nicolas Dorier 2016-05-08 10:25:49</b>
                    </li>
                
                    <li>
                        <a href="/bitcoin-dev/May_2016/012642_Compact-Block-Relay-BIP.xml.html">Compact Block Relay BIP</a>
                        <b>Peter Todd 2016-05-09 13:40:55</b>
                    </li>
                
                    <li>
                        <a href="/bitcoin-dev/May_2016/012644_Compact-Block-Relay-BIP.xml.html">Compact Block Relay BIP</a>
                        <b>Bryan Bishop 2016-05-09 14:04:20</b>
                    </li>
                
                    <li>
                        <a href="/bitcoin-dev/May_2016/012647_Compact-Block-Relay-BIP.xml.html">Compact Block Relay BIP</a>
                        <b>Peter R 2016-05-09 23:37:00</b>
                    </li>
                
                    <li>
                        <a href="/bitcoin-dev/May_2016/012649_Compact-Block-Relay-BIP.xml.html">Compact Block Relay BIP</a>
                        <b>Peter R 2016-05-10 01:42:45</b>
                    </li>
                
                    <li>
                        <a href="/bitcoin-dev/May_2016/012650_Compact-Block-Relay-BIP.xml.html">Compact Block Relay BIP</a>
                        <b>Rusty Russell 2016-05-10 05:28:19</b>
                    </li>
                
                    <li>
                        <a href="/bitcoin-dev/May_2016/012651_Compact-Block-Relay-BIP.xml.html">Compact Block Relay BIP</a>
                        <b>Gregory Maxwell 2016-05-10 10:07:27</b>
                    </li>
                
            
        </ul>
        
            <a href="https://lists.linuxfoundation.org/pipermail/bitcoin-dev/2016-May/012625.html">Click here to read the original discussion on the bitcoin-dev mailing list</a>
        
        <p><i>Published on: 2016-05-03T05:02:28+00:00</i></p>
        <hr>
        <h3>Summary:</h3>
        <p>Bitcoin developers have proposed a new compact block relay system to address block propagation issues in Bitcoin's network. The proposal aims to limit on wire bytes during block relay, making Bitcoin nodes' data more manageable, reducing their bandwidth requirements and speeding up transmission between them. Short transaction IDs are used to represent a transaction without sending a full 256-bit hash. Under the proposed system, miners would only send a unique identifier for each transaction - called a "short ID" - along with a list of excluded transactions. The receiving node would then use the short IDs to request the full transaction information from the sender if it didn't already have it.In May 2016, Matt Corallo designed a BIP-formatted design spec for compact block relay, which introduces a new inv type called MSG_CMPCT_BLOCK and several new protocol messages including sendcmpct, cmpctblock, getblocktxn, and blocktxn. Gregory Maxwell reports over 96% reduction in block-bytes sent and greatly reduced bandwidth spikes. Tom Zander raised concerns about the networking effects of selecting the best node to set the announce bit for block propagation. However, testing on actual nodes in the network showed that blocks are normally requested from one of the last three peers they were requested from 70% of the time, which increases robustness and reduces latency.Rusty Russell suggested using variable-length bit encodings to reduce the size of transmitted data and suggested avoiding the use of nonces. The savings from going from 20kb to 3kb were deemed not interesting enough to justify. Expectations were that set reconciliation would be deployed later to fix relay efficiency where the savings would be much larger, and infrastructure would be put in place to define another compactblock mode that used it.There were debates and discussions related to improving the efficiency and reliability of the Bitcoin network through various technical solutions on the bitcoin-dev mailing list. Gregory Maxwell and Tom Zander debated over the compact block relay. They discussed the use of service bits and variable length encoding in Bitcoin Core. Peter R questioned the efficiency of identifying a collision in a set of transactions. In order to improve the network's speed and efficiency, Bitcoin developers are working on developing a new compact block relay system. Rusty Russell discussed using variable-length bit encodings to transmit blocks. He proposed using the shortest encoding that is unique to each node, including those in the mempool, which would reduce the size of transmission by about 1/5 of the current size and could fit into two or three TCP packets. Set reconciliation was suggested as being much more efficient for reducing block size than packing or twiddling. It was estimated to reduce block size by 90%, but the savings were not deemed significant enough to justify.A possible attack on the Bitcoin network was discussed in May 2016, involving finding a collision between two transactions. Peter suggested keeping a sorted list of hashes for each transaction generated and using binary search to check that list for a collision for each new transaction randomly generated. This operation could probably be reduced to N lg N complexity, which is doable for N ~2^32.Overall, there were debates and discussions related to improving the efficiency and reliability of the Bitcoin network through various technical solutions.</p>
        <hr>
        <p><i>Updated on: 2023-06-11T04:53:51.041428+00:00</i></p>
    

    

    <footer>
        <span style="font-family: Arial, Helvetica, sans-serif;">&#10084;&#65039;</span> <a href="https://chaincode.com" target="_blank" rel="noreferrer" style="text-decoration: none; color: inherit;">Chaincode</a>
    </footer>
</body>

</html>