<!doctype html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="Content-Type" content="text/html; charset=us-ascii">
    <title>Atom Feed Display</title>
    <link rel="stylesheet" href="../../archive_styles.css">
</head>

<body BGCOLOR="#fffffb">
    
    <h1>[was BIP OP_CHECKTEMPLATEVERIFY] Fee Bumping Operation</h1>
    <hr class="solid">
    
    <ul>
        
        
            <p><b>Author:</b> Jeremy 2020-06-08 06:43:39
            <br><i>Published on: 2020-06-08T06:43:39+00:00</i></p>

        
        

        
        
        <li>
        <a href="/bitcoin-dev/June_2020/combined_-was-BIP-OP-CHECKTEMPLATEVERIFY-Fee-Bumping-Operation.html"> Combined Summary of all posts in thread </a>
        </li>
        
        <li>
            
                <a href="https://lists.linuxfoundation.org/pipermail/bitcoin-dev/2020-June/017938.html">Click here to read original discussion on the bitcoin-dev mailing list</a>
            
        </li>

    </ul>

    <hr>
    <h3> Summary:</h3>
    <p>A potential solution to application-DoS (pinning and other attacks) in the mempool beyond CTV is a "Pay for Neighbor" transaction where a transaction can specify that it wants to pay the fee for another transaction(s). This would create a 'ghost child' transaction that cannot be mined unless its 'ghost parents' are confirmed, too. This method is essentially CPFP but guarantees that the link being examined is always exactly one hop away, which gets rid of most of the CPFP graph traversal issues. However, the extant CPFP logic is somewhat brittle and doesn't work as expected. To make fee bumping work nicely, it may require removing CPFP entirely, although nothing concrete has been determined yet. A Fee Bump transaction can name a list of TXIDs or one TXID that implies all ancestors of that transaction that it wishes to be included in a block with. It must be included in that block and may have no unconfirmed ancestors nor any children. Transactions in the mempool may set a flag that opts out of CPFP for descendants/blocks any descendants. Channel protocols should set this bit to prevent pinning and then use the Fee Bump to add fees to whatever transactions need to go through. Additionally, there is a suggestion to use the annex or anyone-can-spend output for this purpose. If done right, a coinswap protocol could also be layered with the fee-bumping transactions change so that there is a privacy benefit at the same time. While this idea originally required a hardfork, it could potentially be made into a soft fork past-taproot by putting the txids of 'ghost parents' into taproot annex. However, creating a new index of all past transactions for consensus would be problematic and cannot be done.</p>
    <hr>
    <p><i> Updated on: 2023-05-20T23:23:21.535699+00:00 </i></p>
    
    

    <footer>
        <span style="font-family: Arial, Helvetica, sans-serif;">&#10084;&#65039;</span> <a href="https://chaincode.com" target="_blank" rel="noreferrer" style="text-decoration: none; color: inherit;">Chaincode</a>
    </footer>
</body>

</html>