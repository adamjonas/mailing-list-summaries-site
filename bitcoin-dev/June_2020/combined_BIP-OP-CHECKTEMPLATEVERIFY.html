<!doctype html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="Content-Type" content="text/html; charset=us-ascii">
    <title>Atom Feed Display</title>
    <link rel="stylesheet" href="../../archive_styles.css">
</head>

<body BGCOLOR="#fffffb">
    
    <h1>BIP OP_CHECKTEMPLATEVERIFY <span class="combined-summary">[combined summary]</span></h1>
    <hr class="solid">
    <br><b>Individual post summaries:</b>
    
        <ul>
            
                
                    <li>
                        <a href="/bitcoin-dev/Feb_2020/017627_BIP-OP-CHECKTEMPLATEVERIFY.html">BIP OP_CHECKTEMPLATEVERIFY</a>
                        <b>Jeremy 2020-02-14 19:16:26</b>
                    </li>
                
                    <li>
                        <a href="/bitcoin-dev/Sept_2020/018154_BIP-OP-CHECKTEMPLATEVERIFY.html">BIP OP_CHECKTEMPLATEVERIFY</a>
                        <b>Dmitry Petukhov 2020-09-03 14:42:23</b>
                    </li>
                
                    <li>
                        <a href="/bitcoin-dev/Dec_2019/017526_BIP-OP-CHECKTEMPLATEVERIFY.html">BIP OP_CHECKTEMPLATEVERIFY</a>
                        <b>Jeremy 2019-12-13 23:06:59</b>
                    </li>
                
                    <li>
                        <a href="/bitcoin-dev/Feb_2020/017631_BIP-OP-CHECKTEMPLATEVERIFY.html">BIP OP_CHECKTEMPLATEVERIFY</a>
                        <b>ZmnSCPxj 2020-02-15 00:24:37</b>
                    </li>
                
                    <li>
                        <a href="/bitcoin-dev/Dec_2019/017526_BIP-OP-CHECKTEMPLATEVERIFY.html">BIP OP_CHECKTEMPLATEVERIFY</a>
                        <b>Jeremy 2019-12-13 23:06:59</b>
                    </li>
                
                    <li>
                        <a href="/bitcoin-dev/Dec_2019/017527_BIP-OP-CHECKTEMPLATEVERIFY.html">BIP OP_CHECKTEMPLATEVERIFY</a>
                        <b>Jeremy 2019-12-19 20:08:03</b>
                    </li>
                
                    <li>
                        <a href="/bitcoin-dev/Feb_2020/017631_BIP-OP-CHECKTEMPLATEVERIFY.html">BIP OP_CHECKTEMPLATEVERIFY</a>
                        <b>ZmnSCPxj 2020-02-15 00:24:37</b>
                    </li>
                
                    <li>
                        <a href="/bitcoin-dev/Nov_2019/017496_BIP-OP-CHECKTEMPLATEVERIFY.html">BIP OP_CHECKTEMPLATEVERIFY</a>
                        <b>Russell O&#39;Connor 2019-11-27 21:32:51</b>
                    </li>
                
                    <li>
                        <a href="/bitcoin-dev/Nov_2019/017496_BIP-OP-CHECKTEMPLATEVERIFY.html">BIP OP_CHECKTEMPLATEVERIFY</a>
                        <b>Russell O&#39;Connor 2019-11-27 21:32:51</b>
                    </li>
                
                    <li>
                        <a href="/bitcoin-dev/Nov_2019/017498_BIP-OP-CHECKTEMPLATEVERIFY.html">BIP OP_CHECKTEMPLATEVERIFY</a>
                        <b>Jeremy 2019-11-28 19:59:42</b>
                    </li>
                
                    <li>
                        <a href="/bitcoin-dev/Feb_2020/017626_BIP-OP-CHECKTEMPLATEVERIFY.html">BIP OP_CHECKTEMPLATEVERIFY</a>
                        <b>Dmitry Petukhov 2020-02-14 11:18:26</b>
                    </li>
                
                    <li>
                        <a href="/bitcoin-dev/Sept_2020/018154_BIP-OP-CHECKTEMPLATEVERIFY.html">BIP OP_CHECKTEMPLATEVERIFY</a>
                        <b>Dmitry Petukhov 2020-09-03 14:42:23</b>
                    </li>
                
                    <li>
                        <a href="/bitcoin-dev/Sept_2020/018155_BIP-OP-CHECKTEMPLATEVERIFY.html">BIP OP_CHECKTEMPLATEVERIFY</a>
                        <b>Jeremy 2020-09-03 17:34:15</b>
                    </li>
                
                    <li>
                        <a href="/bitcoin-dev/Dec_2019/017525_BIP-OP-CHECKTEMPLATEVERIFY.html">BIP OP_CHECKTEMPLATEVERIFY</a>
                        <b>Jeremy 2019-12-11 00:37:59</b>
                    </li>
                
                    <li>
                        <a href="/bitcoin-dev/Dec_2019/017525_BIP-OP-CHECKTEMPLATEVERIFY.html">BIP OP_CHECKTEMPLATEVERIFY</a>
                        <b>Jeremy 2019-12-11 00:37:59</b>
                    </li>
                
                    <li>
                        <a href="/bitcoin-dev/Feb_2020/017626_BIP-OP-CHECKTEMPLATEVERIFY.html">BIP OP_CHECKTEMPLATEVERIFY</a>
                        <b>Dmitry Petukhov 2020-02-14 11:18:26</b>
                    </li>
                
                    <li>
                        <a href="/bitcoin-dev/June_2020/017934_BIP-OP-CHECKTEMPLATEVERIFY.html">BIP OP_CHECKTEMPLATEVERIFY</a>
                        <b>Joachim Strömbergson 2020-06-07 16:51:10</b>
                    </li>
                
                    <li>
                        <a href="/bitcoin-dev/Sept_2020/018154_BIP-OP-CHECKTEMPLATEVERIFY.html">BIP OP_CHECKTEMPLATEVERIFY</a>
                        <b>Dmitry Petukhov 2020-09-03 14:42:23</b>
                    </li>
                
                    <li>
                        <a href="/bitcoin-dev/Sept_2020/018155_BIP-OP-CHECKTEMPLATEVERIFY.html">BIP OP_CHECKTEMPLATEVERIFY</a>
                        <b>Jeremy 2020-09-03 17:34:15</b>
                    </li>
                
                    <li>
                        <a href="/bitcoin-dev/Sept_2020/018156_BIP-OP-CHECKTEMPLATEVERIFY.html">BIP OP_CHECKTEMPLATEVERIFY</a>
                        <b>Jeremy 2020-09-03 17:47:35</b>
                    </li>
                
                    <li>
                        <a href="/bitcoin-dev/Dec_2019/017525_BIP-OP-CHECKTEMPLATEVERIFY.html">BIP OP_CHECKTEMPLATEVERIFY</a>
                        <b>Jeremy 2019-12-11 00:37:59</b>
                    </li>
                
                    <li>
                        <a href="/bitcoin-dev/Dec_2019/017527_BIP-OP-CHECKTEMPLATEVERIFY.html">BIP OP_CHECKTEMPLATEVERIFY</a>
                        <b>Jeremy 2019-12-19 20:08:03</b>
                    </li>
                
                    <li>
                        <a href="/bitcoin-dev/Sept_2020/018155_BIP-OP-CHECKTEMPLATEVERIFY.html">BIP OP_CHECKTEMPLATEVERIFY</a>
                        <b>Jeremy 2020-09-03 17:34:15</b>
                    </li>
                
                    <li>
                        <a href="/bitcoin-dev/Sept_2020/018156_BIP-OP-CHECKTEMPLATEVERIFY.html">BIP OP_CHECKTEMPLATEVERIFY</a>
                        <b>Jeremy 2020-09-03 17:47:35</b>
                    </li>
                
                    <li>
                        <a href="/bitcoin-dev/Feb_2020/017626_BIP-OP-CHECKTEMPLATEVERIFY.html">BIP OP_CHECKTEMPLATEVERIFY</a>
                        <b>Dmitry Petukhov 2020-02-14 11:18:26</b>
                    </li>
                
                    <li>
                        <a href="/bitcoin-dev/June_2020/017934_BIP-OP-CHECKTEMPLATEVERIFY.html">BIP OP_CHECKTEMPLATEVERIFY</a>
                        <b>Joachim Strömbergson 2020-06-07 16:51:10</b>
                    </li>
                
                    <li>
                        <a href="/bitcoin-dev/June_2020/017935_BIP-OP-CHECKTEMPLATEVERIFY.html">BIP OP_CHECKTEMPLATEVERIFY</a>
                        <b>Jeremy 2020-06-07 22:45:16</b>
                    </li>
                
                    <li>
                        <a href="/bitcoin-dev/June_2020/017939_BIP-OP-CHECKTEMPLATEVERIFY.html">BIP OP_CHECKTEMPLATEVERIFY</a>
                        <b>Dmitry Petukhov 2020-06-08 06:05:45</b>
                    </li>
                
                    <li>
                        <a href="/bitcoin-dev/Nov_2019/017494_BIP-OP-CHECKTEMPLATEVERIFY.html">BIP OP_CHECKTEMPLATEVERIFY</a>
                        <b>Jeremy 2019-11-26 01:50:40</b>
                    </li>
                
                    <li>
                        <a href="/bitcoin-dev/Feb_2020/017627_BIP-OP-CHECKTEMPLATEVERIFY.html">BIP OP_CHECKTEMPLATEVERIFY</a>
                        <b>Jeremy 2020-02-14 19:16:26</b>
                    </li>
                
                    <li>
                        <a href="/bitcoin-dev/June_2020/017934_BIP-OP-CHECKTEMPLATEVERIFY.html">BIP OP_CHECKTEMPLATEVERIFY</a>
                        <b>Joachim Strömbergson 2020-06-07 16:51:10</b>
                    </li>
                
                    <li>
                        <a href="/bitcoin-dev/June_2020/017939_BIP-OP-CHECKTEMPLATEVERIFY.html">BIP OP_CHECKTEMPLATEVERIFY</a>
                        <b>Dmitry Petukhov 2020-06-08 06:05:45</b>
                    </li>
                
                    <li>
                        <a href="/bitcoin-dev/Nov_2019/017494_BIP-OP-CHECKTEMPLATEVERIFY.html">BIP OP_CHECKTEMPLATEVERIFY</a>
                        <b>Jeremy 2019-11-26 01:50:40</b>
                    </li>
                
                    <li>
                        <a href="/bitcoin-dev/Nov_2019/017494_BIP-OP-CHECKTEMPLATEVERIFY.html">BIP OP_CHECKTEMPLATEVERIFY</a>
                        <b>Jeremy 2019-11-26 01:50:40</b>
                    </li>
                
                    <li>
                        <a href="/bitcoin-dev/Nov_2019/017496_BIP-OP-CHECKTEMPLATEVERIFY.html">BIP OP_CHECKTEMPLATEVERIFY</a>
                        <b>Russell O&#39;Connor 2019-11-27 21:32:51</b>
                    </li>
                
                    <li>
                        <a href="/bitcoin-dev/Nov_2019/017498_BIP-OP-CHECKTEMPLATEVERIFY.html">BIP OP_CHECKTEMPLATEVERIFY</a>
                        <b>Jeremy 2019-11-28 19:59:42</b>
                    </li>
                
                    <li>
                        <a href="/bitcoin-dev/Feb_2020/017627_BIP-OP-CHECKTEMPLATEVERIFY.html">BIP OP_CHECKTEMPLATEVERIFY</a>
                        <b>Jeremy 2020-02-14 19:16:26</b>
                    </li>
                
                    <li>
                        <a href="/bitcoin-dev/June_2020/017935_BIP-OP-CHECKTEMPLATEVERIFY.html">BIP OP_CHECKTEMPLATEVERIFY</a>
                        <b>Jeremy 2020-06-07 22:45:16</b>
                    </li>
                
                    <li>
                        <a href="/bitcoin-dev/June_2020/017939_BIP-OP-CHECKTEMPLATEVERIFY.html">BIP OP_CHECKTEMPLATEVERIFY</a>
                        <b>Dmitry Petukhov 2020-06-08 06:05:45</b>
                    </li>
                
                    <li>
                        <a href="/bitcoin-dev/Nov_2019/017498_BIP-OP-CHECKTEMPLATEVERIFY.html">BIP OP_CHECKTEMPLATEVERIFY</a>
                        <b>Jeremy 2019-11-28 19:59:42</b>
                    </li>
                
                    <li>
                        <a href="/bitcoin-dev/Dec_2019/017526_BIP-OP-CHECKTEMPLATEVERIFY.html">BIP OP_CHECKTEMPLATEVERIFY</a>
                        <b>Jeremy 2019-12-13 23:06:59</b>
                    </li>
                
                    <li>
                        <a href="/bitcoin-dev/Dec_2019/017527_BIP-OP-CHECKTEMPLATEVERIFY.html">BIP OP_CHECKTEMPLATEVERIFY</a>
                        <b>Jeremy 2019-12-19 20:08:03</b>
                    </li>
                
                    <li>
                        <a href="/bitcoin-dev/Feb_2020/017631_BIP-OP-CHECKTEMPLATEVERIFY.html">BIP OP_CHECKTEMPLATEVERIFY</a>
                        <b>ZmnSCPxj 2020-02-15 00:24:37</b>
                    </li>
                
                    <li>
                        <a href="/bitcoin-dev/June_2020/017935_BIP-OP-CHECKTEMPLATEVERIFY.html">BIP OP_CHECKTEMPLATEVERIFY</a>
                        <b>Jeremy 2020-06-07 22:45:16</b>
                    </li>
                
                    <li>
                        <a href="/bitcoin-dev/Sept_2020/018156_BIP-OP-CHECKTEMPLATEVERIFY.html">BIP OP_CHECKTEMPLATEVERIFY</a>
                        <b>Jeremy 2020-09-03 17:47:35</b>
                    </li>
                
            
        </ul>
        
            <a href="https://lists.linuxfoundation.org/pipermail/bitcoin-dev/2020-February/017627.html">Click here to read the original discussion on the bitcoin-dev mailing list</a>
        
        <p><i>Published on: 2020-02-14T19:16:26+00:00</i></p>
        <hr>
        <h3>Summary:</h3>
        <p>The Bitcoin developer community has been working on refining the BIP draft for OP_CHECKTEMPLATEVERIFY. Recently, the name of the opcode specification was changed and modified to use arguments off of the stack with a primitive constexpr/literal tracker instead of script lookahead. This change allows future soft-fork updates to loosen or remove "constexpr" restrictions. RPC functions are being developed to aid in testing and evaluation of OP_CHECKTEMPLATEVERIFY.Exchanges can use CTV transactions that initially confirm a single output, then expand to all payments in the batch or a histogram of single-layer CTVs based on priority/amount spent. Business wallets, such as exchanges, can credit deposits from CTV trees without requiring full expansion. Long-dated futures may require a desirable radix for a tree of around 4 or 5 to minimize work on an individual basis. Privacy reasons may make it preferred to not broadcast payouts through mempool, and payouts may be made into non-interactive lightning channels with N-of-N taproot at each layer.Jeremy Rubin proposed a new way to contribute fees to another transaction chain as an observer to address application-DoS attacks beyond child-pays-for-parent (CTV). The "Pay for neighbor" (PFN) transaction was suggested, which would pay fees for other transactions and require a hard fork. Rubin has also prepared a draft of minor modifications on StandardTemplateHash described in the BIP but has not updated the main branches yet to allow for further feedback.Rubin also discussed the 'inverse timelock' feature enabled by OP_CTV, which introduces a manually triggered mechanism used in various schemes with covenants, like vaults with access revocable by spending the 'revocation utxo,' or trustless lending schemes where the covenant scripts can enforce different amounts of interest paid to the lender. An "automatic inverse timelock" is not possible to implement with only script but requires some action on the blockchain. The 'automatic inverse timelock' mechanism is not desirable historically as it could introduce hash cycles.The email thread discusses the potential implications of the 'revocation utxo' feature enabled by OP_CTV committing to scriptSig, which may change Bitcoin's behavior as a system. The email also mentions the possibility of introducing new rules that violate the principle of replayability during reorgs of depth less than 100.Jeremy Rubin responds to Russell O'Connor's feedback on the proposed OP_CHECKTEMPLATEVERIFY BIP. While Rubin considered O'Connor's concerns, he argued that it was reasonable with this choice of constexpr rule since it only adds one parameter which is a bool and is only ever a literal. Rubin refined the BIP draft for OP_CHECKTEMPLATEVERIFY and announced that he planned to host a review workshop in Q1 2020.Bitcoin Developers have made refinements to the BIP draft for OP_CHECKTEMPLATEVERIFY, which replaces the previous OP_SECURETHEBAG BIP. Changes include changing the name to something more fitting and acceptable to the community, changing the opcode specification, and providing a more detailed comparison to alternatives in the BIP. Developers are planning to host a review workshop in Q1 2020, most likely in San Francisco. RPC functions are under preliminary development for testing and evaluation of OP_CHECKTEMPLATEVERIFY. Furthermore, improvements to the mempool are also under development.The proposed changes to the OP_CTV draft will improve its functionality by committing to the INPUT_INDEX of the executing scriptPubKey, removing the constexpr restriction, and modifying the template digest. These changes will improve the efficiency and creativity of OP_CTV without limiting its functionality. There are concerns about the implications of the "inverse timelock" feature on Bitcoin's behavior during reorgs, and some argue that new rules violating certain principles should be introduced cautiously.The ability to commit to scriptSig of a non-segwit input could also be used for on-chain control of spending authorization. Finally, an email inquiry highlights concerns about proof of payment communication, transaction fees, and potential DoS attacks in relation to OP_CTV.Overall, the Bitcoin developer community is making significant progress in refining and improving OP_CHECKTEMPLATEVERIFY. The development of RPC functions and improvements to mempool will aid in testing and evaluation of the opcode specification, which will help resolve some difficult challenges faced by the Bitcoin network beyond CTV. Feedback and further discussions are ongoing, with a review workshop planned for Q1 2020. The proposed features have potential use cases in covenant schemes like trustless lending and access-revocable vaults, but there are also concerns about introducing new rules that violate certain principles.</p>
        <hr>
        <p><i>Updated on: 2023-06-13T22:33:49.871823+00:00</i></p>
    

    

    <footer>
        <span style="font-family: Arial, Helvetica, sans-serif;">&#10084;&#65039;</span> <a href="https://chaincode.com" target="_blank" rel="noreferrer" style="text-decoration: none; color: inherit;">Chaincode</a>
    </footer>
</body>

</html>