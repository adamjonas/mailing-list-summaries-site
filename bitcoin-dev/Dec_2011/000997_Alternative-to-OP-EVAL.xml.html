<!doctype html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="Content-Type" content="text/html; charset=us-ascii">
    <title>Atom Feed Display</title>
    <link rel="stylesheet" href="../../archive_styles.css">
</head>

<body BGCOLOR="#fffffb">
    
    <h1>Alternative to OP_EVAL</h1>
    <hr class="solid">
    
    <ul>
        
        
            <p><b>Author:</b> roconnor at theorem.ca 2011-12-29 06:55:03
            <br><i>Published on: 2011-12-29T06:55:03+00:00</i></p>

        
        

        
        
        <li>
        <a href="/bitcoin-dev/Dec_2011/combined_Alternative-to-OP-EVAL.xml.html"> Combined Summary of all posts in thread </a>
        </li>
        
        <li>
            
                <a href="https://lists.linuxfoundation.org/pipermail/bitcoin-dev/2011-December/000997.html">Click here to read original discussion on the bitcoin-dev mailing list</a>
            
        </li>

    </ul>

    <hr>
    <h3> Summary:</h3>
    <p>Gavin requested an alternative to OP_EVAL, and a proposal by Russell O'Connor for adding a third "codehash" stack has been made. The proposal suggests adding an OP_CODESEPARATOR that pushes the hash of the remaining code in the script onto the codehash stack, and a new operator, OP_CODEHASH, which pops the codehash stack and pushes it onto the main stack. This will produce send-to-script addresses. A new transaction will be added with the format: OP_CODEHASH OP_HASH160 {20-byte-hash-value} OP_EQUAL, which can only be redeemed by knowing the hash of the script. When the code runs, it will consume all the signatures, leaving the 20-byte-code-hash on the stack. If interpreted as a NOP, it is skipped, and the hash is hashed and compared to the 20-byte-hash-value, requiring a match to succeed. The proposal covers all desired behavior from OP_EVAL but with less radical change. Additionally, the language remains a weak stack-based language that is clearly terminating, with the number of operations executed still bounded by the number of operations occurring in the script.With the OP_EVAL proposal, the script language becomes essentially Turing complete, where there is no way to know what code will run without executing it, and there is no way to statically analyze the script without executing it. The proposal has no dynamically generated code that is executed, and variations can be done to improve it further. Overall, the proposal aims to provide a secure solution while avoiding radical changes.</p>
    <hr>
    <p><i> Updated on: 2023-06-05T01:23:28.088580+00:00 </i></p>
    
    

    <footer>
        <span style="font-family: Arial, Helvetica, sans-serif;">&#10084;&#65039;</span> <a href="https://chaincode.com" target="_blank" rel="noreferrer" style="text-decoration: none; color: inherit;">Chaincode</a>
    </footer>
</body>

</html>