<!doctype html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="Content-Type" content="text/html; charset=us-ascii">
    <title>Atom Feed Display</title>
    <link rel="stylesheet" href="../../archive_styles.css">
</head>

<body BGCOLOR="#fffffb">
    
    <h1>Proposal for extra nonce in block header <span class="combined-summary">[combined summary]</span></h1>
    <hr class="solid">
    <br><b>Individual post summaries:</b>
    
        <ul>
            
                
                    <li>
                        <a href="/bitcoin-dev/April_2014/005612_Proposal-for-extra-nonce-in-block-header.html">Proposal for extra nonce in block header</a>
                        <b>Melvin Carvalho 2014-04-27 08:17:11</b>
                    </li>
                
                    <li>
                        <a href="/bitcoin-dev/May_2014/005699_Proposal-for-extra-nonce-in-block-header.html">Proposal for extra nonce in block header</a>
                        <b>Timo Hanke 2014-05-04 15:32:25</b>
                    </li>
                
                    <li>
                        <a href="/bitcoin-dev/April_2014/005610_Proposal-for-extra-nonce-in-block-header.html">Proposal for extra nonce in block header</a>
                        <b>Timo Hanke 2014-04-27 07:07:32</b>
                    </li>
                
                    <li>
                        <a href="/bitcoin-dev/April_2014/005612_Proposal-for-extra-nonce-in-block-header.html">Proposal for extra nonce in block header</a>
                        <b>Melvin Carvalho 2014-04-27 08:17:11</b>
                    </li>
                
                    <li>
                        <a href="/bitcoin-dev/May_2014/005697_Proposal-for-extra-nonce-in-block-header.html">Proposal for extra nonce in block header</a>
                        <b>Timo Hanke 2014-05-04 15:14:51</b>
                    </li>
                
                    <li>
                        <a href="/bitcoin-dev/May_2014/005698_Proposal-for-extra-nonce-in-block-header.html">Proposal for extra nonce in block header</a>
                        <b>Mike Hearn 2014-05-04 15:26:06</b>
                    </li>
                
                    <li>
                        <a href="/bitcoin-dev/May_2014/005699_Proposal-for-extra-nonce-in-block-header.html">Proposal for extra nonce in block header</a>
                        <b>Timo Hanke 2014-05-04 15:32:25</b>
                    </li>
                
                    <li>
                        <a href="/bitcoin-dev/Oct_2014/006770_Proposal-for-extra-nonce-in-block-header.html">Proposal for extra nonce in block header</a>
                        <b>Timo Hanke 2014-10-18 18:25:59</b>
                    </li>
                
                    <li>
                        <a href="/bitcoin-dev/May_2014/005699_Proposal-for-extra-nonce-in-block-header.html">Proposal for extra nonce in block header</a>
                        <b>Timo Hanke 2014-05-04 15:32:25</b>
                    </li>
                
                    <li>
                        <a href="/bitcoin-dev/May_2014/005700_Proposal-for-extra-nonce-in-block-header.html">Proposal for extra nonce in block header</a>
                        <b>Timo Hanke 2014-05-04 16:08:22</b>
                    </li>
                
                    <li>
                        <a href="/bitcoin-dev/April_2014/005613_Proposal-for-extra-nonce-in-block-header.html">Proposal for extra nonce in block header</a>
                        <b>Mark Friedenbach 2014-04-27 09:38:06</b>
                    </li>
                
                    <li>
                        <a href="/bitcoin-dev/May_2014/005700_Proposal-for-extra-nonce-in-block-header.html">Proposal for extra nonce in block header</a>
                        <b>Timo Hanke 2014-05-04 16:08:22</b>
                    </li>
                
                    <li>
                        <a href="/bitcoin-dev/Oct_2014/006770_Proposal-for-extra-nonce-in-block-header.html">Proposal for extra nonce in block header</a>
                        <b>Timo Hanke 2014-10-18 18:25:59</b>
                    </li>
                
                    <li>
                        <a href="/bitcoin-dev/April_2014/005610_Proposal-for-extra-nonce-in-block-header.html">Proposal for extra nonce in block header</a>
                        <b>Timo Hanke 2014-04-27 07:07:32</b>
                    </li>
                
                    <li>
                        <a href="/bitcoin-dev/May_2014/005697_Proposal-for-extra-nonce-in-block-header.html">Proposal for extra nonce in block header</a>
                        <b>Timo Hanke 2014-05-04 15:14:51</b>
                    </li>
                
                    <li>
                        <a href="/bitcoin-dev/April_2014/005610_Proposal-for-extra-nonce-in-block-header.html">Proposal for extra nonce in block header</a>
                        <b>Timo Hanke 2014-04-27 07:07:32</b>
                    </li>
                
                    <li>
                        <a href="/bitcoin-dev/May_2014/005697_Proposal-for-extra-nonce-in-block-header.html">Proposal for extra nonce in block header</a>
                        <b>Timo Hanke 2014-05-04 15:14:51</b>
                    </li>
                
                    <li>
                        <a href="/bitcoin-dev/May_2014/005698_Proposal-for-extra-nonce-in-block-header.html">Proposal for extra nonce in block header</a>
                        <b>Mike Hearn 2014-05-04 15:26:06</b>
                    </li>
                
                    <li>
                        <a href="/bitcoin-dev/April_2014/005613_Proposal-for-extra-nonce-in-block-header.html">Proposal for extra nonce in block header</a>
                        <b>Mark Friedenbach 2014-04-27 09:38:06</b>
                    </li>
                
                    <li>
                        <a href="/bitcoin-dev/May_2014/005700_Proposal-for-extra-nonce-in-block-header.html">Proposal for extra nonce in block header</a>
                        <b>Timo Hanke 2014-05-04 16:08:22</b>
                    </li>
                
                    <li>
                        <a href="/bitcoin-dev/Oct_2014/006770_Proposal-for-extra-nonce-in-block-header.html">Proposal for extra nonce in block header</a>
                        <b>Timo Hanke 2014-10-18 18:25:59</b>
                    </li>
                
                    <li>
                        <a href="/bitcoin-dev/April_2014/005612_Proposal-for-extra-nonce-in-block-header.html">Proposal for extra nonce in block header</a>
                        <b>Melvin Carvalho 2014-04-27 08:17:11</b>
                    </li>
                
                    <li>
                        <a href="/bitcoin-dev/April_2014/005613_Proposal-for-extra-nonce-in-block-header.html">Proposal for extra nonce in block header</a>
                        <b>Mark Friedenbach 2014-04-27 09:38:06</b>
                    </li>
                
                    <li>
                        <a href="/bitcoin-dev/May_2014/005698_Proposal-for-extra-nonce-in-block-header.html">Proposal for extra nonce in block header</a>
                        <b>Mike Hearn 2014-05-04 15:26:06</b>
                    </li>
                
            
        </ul>
        
            <a href="https://lists.linuxfoundation.org/pipermail/bitcoin-dev/2014-April/005612.html">Click here to read the original discussion on the bitcoin-dev mailing list</a>
        
        <p><i>Published on: 2014-04-27T08:17:11+00:00</i></p>
        <hr>
        <h3>Summary:</h3>
        <p>On April 27, 2014, Timo Hanke proposed a Bitcoin Improvement Proposal (BIP) aimed at reducing incentives for miners to find cheap and non-standard ways to generate new work that may not be in the protocol's best interest. The proposal suggests re-assigning 2 bytes from the version field of the block header to a new extra nonce field. This would provide miners with a cheap constant-complexity method to create new work without altering the transaction tree while protecting the version and timestamp fields in the block header from abuse.Traditionally, the extra nonce is part of the coinbase field of the generation transaction, which is always the first transaction of a block. After incrementing the extra nonce, the miner has to hash the coinbase transaction and re-calculate the left-most branch of the merkle tree all the way to the merkle root to recalculate the block header. This process is necessary overhead besides hashing the block header itself. The relative cost of pre-hashing in its traditional form depends on the block size, which may create an unwanted incentive for miners to keep the block size small. However, this is not the main motivation for the current proposal. As ASIC cost per hash performance drops, the relative cost of pre-hashing increases, leading to an incentive for miners to find cheaper ways of creating new work than by means of pre-hashing. For example, rolling the timestamp faster than the real-time may create new work but is not in the protocol's best interest. The solution proposed is to reduce the range of version numbers from 2^32 to 2^16 and to declare the third and fourth bytes of the block header as legitimate space for an extra nonce.This will reduce the incentive for a miner to abuse the shortened version number by a factor in the order of 2^16. As a side effect, this proposal greatly reduces the bandwidth requirements of a blind pool protocol by only submitting the block header to the miner. Old versions of the client will accept blocks of this kind but will throw an alert at the user to upgrade. The only code change required is a cast of the version number to a short. There is no need to introduce a new block version number or to phase-out old block versions.The proposal was made as software upgrade that was absolutely required and aimed to make everybody follow the protocol specification by reducing incentives to ignore it. Besides, the proposal is backward compatible, and old and new versions of the client can co-exist without introducing a new block version number or phasing out old block versions.Mark Friedenbach suggested serializing the nVersion field as a VarInt and using the remaining space of 4 bytes as the extra nonce. His suggestion would allow serialization of numbers up to 0x1020407f (slightly over 28 bits) before the 4-byte field is exhausted.In conclusion, Timo Hanke's BIP proposes a reduction in the size of the block version number and reassigning two bytes from the version field of the block header to a new extra nonce field. This proposal aims to reduce incentives for miners to find cheap, non-standard ways to generate new work that are not in the best interest of the protocol and protect the version and timestamp fields in the block header from abuse. The proposal is backwards compatible, and old versions of the client will accept blocks of this kind but will throw an alert at the user to upgrade. The solution proposed reduces the range of version numbers from 2^32 to 2^16 and declares the third and fourth bytes of the block header as legitimate space for an extra nonce, reducing the incentive for a miner to abuse the shortened version number by a factor in the order of 2^16. The proposal greatly reduces the bandwidth requirements of a blind pool protocol by only submitting the block header to the miner.</p>
        <hr>
        <p><i>Updated on: 2023-06-08T21:57:22.268353+00:00</i></p>
    

    

    <footer>
        <span style="font-family: Arial, Helvetica, sans-serif;">&#10084;&#65039;</span> <a href="https://chaincode.com" target="_blank" rel="noreferrer" style="text-decoration: none; color: inherit;">Chaincode</a>
    </footer>
</body>

</html>