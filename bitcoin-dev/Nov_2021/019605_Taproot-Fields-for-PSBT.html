<!doctype html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="Content-Type" content="text/html; charset=us-ascii">
    <title>Atom Feed Display</title>
    <link rel="stylesheet" href="../../archive_styles.css">
</head>

<body BGCOLOR="#fffffb">
    
    <h1>Taproot Fields for PSBT</h1>
    <hr class="solid">
    
    <ul>
        
        
            <p><b>Author:</b> Sjors Provoost 2021-11-24 12:44:46
            <br><i>Published on: 2021-11-24T12:44:46+00:00</i></p>

        
        

        
        
        <li>
        <a href="/bitcoin-dev/Nov_2021/combined_Taproot-Fields-for-PSBT.html"> Combined Summary of all posts in thread </a>
        </li>
        
        <li>
            
                <a href="https://lists.linuxfoundation.org/pipermail/bitcoin-dev/2021-November/019605.html">Click here to read original discussion on the bitcoin-dev mailing list</a>
            
        </li>

    </ul>

    <hr>
    <h3> Summary:</h3>
    <p>A developer named Sjors is confused about why PSBT_IN_TAP_BIP32_DERIVATION and PSBT_OUT_TAP_BIP32_DERIVATION contain not only the derivation path for the xonlypubkey but also the tapleaf merkle path. He thought that it might be necessary for a signer to guess which script leaves they can sign with their own keys, but realized that you cannot know that without actually seeing the script. Andrew Chow proposed a BIP that defines new fields for Taproot support in PSBT. The details of the proposal can be found on GitHub at <a href="https://github.com/bitcoin/bips/blob/master/bip-0174.mediawiki">https://github.com/bitcoin/bips/blob/master/bip-0174.mediawiki</a>. The proposal includes Taproot Key BIP 32 Derivation Path for both PSBT_IN_TAP_BIP32_DERIVATION and PSBT_OUT_TAP_BIP32_DERIVATION with a 32 byte X-only public key. These fields include a compact size unsigned integer representing the number of leaf hashes followed by a list of leaf hashes, followed by the master key fingerprint concatenated with the derivation path of the public key. Public keys are those needed to spend this output. The leaf hashes are of the leaves which involve this public key.</p>
    <hr>
    <p><i> Updated on: 2023-06-14T23:25:35.220141+00:00 </i></p>
    
    

    <footer>
        <span style="font-family: Arial, Helvetica, sans-serif;">&#10084;&#65039;</span> <a href="https://chaincode.com" target="_blank" rel="noreferrer" style="text-decoration: none; color: inherit;">Chaincode</a>
    </footer>
</body>

</html>