<!doctype html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="Content-Type" content="text/html; charset=us-ascii">
    <title>Atom Feed Display</title>
    <link rel="stylesheet" href="../../archive_styles.css">
</head>

<body BGCOLOR="#fffffb">
    
    <h1>Huge wallets make Bitcoin Core unusable (Daemon+CLI &amp; Qt) <span class="combined-summary">[combined summary]</span></h1>
    <hr class="solid">
    <br><b>Individual post summaries:</b>
    
        <ul>
            
                
                    <li>
                        <a href="/bitcoin-dev/Aug_2022/020880_Huge-wallets-make-Bitcoin-Core-unusable-Daemon-CLI-Qt-.xml.html">Huge wallets make Bitcoin Core unusable (Daemon+CLI &amp; Qt)</a>
                        <b>Andrew Chow 2022-08-20 15:10:57</b>
                    </li>
                
                    <li>
                        <a href="/bitcoin-dev/Aug_2022/020878_Huge-wallets-make-Bitcoin-Core-unusable-Daemon-CLI-Qt-.xml.html">Huge wallets make Bitcoin Core unusable (Daemon+CLI &amp; Qt)</a>
                        <b>micaroni at gmail.com 2022-08-20 14:16:53</b>
                    </li>
                
            
        </ul>
        
            <a href="https://lists.linuxfoundation.org/pipermail/bitcoin-dev/2022-August/020880.html">Click here to read the original discussion on the bitcoin-dev mailing list</a>
        
        <p><i>Published on: 2022-08-20T15:10:57+00:00</i></p>
        <hr>
        <h3>Summary:</h3>
        <p>The issue being discussed is the degradation in performance of a wallet module in Bitcoin Core when it reaches a certain size. The post mentions a specific case where the wallet had 2.079.337 transactions and 446.503 generated addresses, causing most commands such as "getbalance", "walletpassphrase" and "getreceivedbyaddress" to time out. Even increasing the timeout or RPC threads worsened the situation. The wallet feature becomes almost useless for both end users and production servers, leading to the question of whether the wallet feature should be removed entirely if no improvements can be made. The current solution of creating a new wallet and sending funds there periodically is not ideal and raises privacy concerns. The post suggests some possible solutions, including caching the entire wallet in memory and code optimization. The removeprunedfunds RPC can also be used to remove old transactions and speed up balance calculations and transaction creation. There are also questions raised about optimizing the cache usage, reducing the wallet size, ignoring old addresses, improving I/O treatment and CPU usage, and implementing an "archive" command that automatically moves funds from a large wallet to a new one. Possible related issues and tests are also provided in the post, along with a bug where an old balance is displayed even after moving funds to a new wallet.</p>
        <hr>
        <p><i>Updated on: 2023-05-22T21:06:35.746224+00:00</i></p>
    

    

    <footer>
        <span style="font-family: Arial, Helvetica, sans-serif;">&#10084;&#65039;</span> <a href="https://chaincode.com" target="_blank" rel="noreferrer" style="text-decoration: none; color: inherit;">Chaincode</a>
    </footer>
</body>

</html>