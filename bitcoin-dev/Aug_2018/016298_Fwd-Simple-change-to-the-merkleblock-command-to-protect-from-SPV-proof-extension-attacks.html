<!doctype html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="Content-Type" content="text/html; charset=us-ascii">
    <title>Atom Feed Display</title>
    <link rel="stylesheet" href="../../archive_styles.css">
</head>

<body BGCOLOR="#fffffb">
    
    <h1>Fwd: Simple change to the &#34;merkleblock&#34; command to protect from SPV proof extension attacks</h1>
    <hr class="solid">
    
    <ul>
        
        
            <p><b>Author:</b> Sergio Demian Lerner 2018-08-14 15:26:25
            <br><i>Published on: 2018-08-14T15:26:25+00:00</i></p>

        
        

        
        
        <li>
            
                <a href="https://lists.linuxfoundation.org/pipermail/bitcoin-dev/2018-August/016298.html">Click here to read original discussion on the bitcoin-dev mailing list</a>
            
        </li>

    </ul>

    <hr>
    <h3> Summary:</h3>
    <p>The author proposes a new idea to fix the MERKLEBLOCK command in order to prevent rogue peers from attacking SPV peers using Bitcoin's Merkle tree structure flaws. The proposed solution is a network protocol improvement that limits the attacker's ability to supply chosen-hash digests in order to build a transaction. The idea is to store a pre-image of A, or SHA256(X), instead of storing A in the merkleblock structure. Verifiers (SPV nodes) would apply a single SHA256() operation to the left-sided terminal hashes before combining them. This change could be implemented through a new command MERKLEBLOCK2 or by using the protocol version to differentiate between the two modes of the MERKLEBLOCK command. If the idea gets community support, the author may write the BIP/code or invite anyone to do it. The proposal aims to avoid the coordination problem that could arise from the old idea to soft-fork Bitcoin to make invalid 64-byte transactions.</p>
    <hr>
    <p><i> Updated on: 2023-05-20T17:33:55.466365+00:00 </i></p>
    
    

    <footer>
        <span style="font-family: Arial, Helvetica, sans-serif;">&#10084;&#65039;</span> <a href="https://chaincode.com" target="_blank" rel="noreferrer" style="text-decoration: none; color: inherit;">Chaincode</a>
    </footer>
</body>

</html>