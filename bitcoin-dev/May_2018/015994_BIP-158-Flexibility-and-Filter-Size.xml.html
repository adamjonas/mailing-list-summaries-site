<!doctype html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="Content-Type" content="text/html; charset=us-ascii">
    <title>Atom Feed Display</title>
    <link rel="stylesheet" href="../../archive_styles.css">
</head>

<body BGCOLOR="#fffffb">
    
    <h1>BIP 158 Flexibility and Filter Size</h1>
    <hr class="solid">
    
    <ul>
        
        
            <p><b>Author:</b> Olaoluwa Osuntokun 2018-05-19 03:08:29
            <br><i>Published on: 2018-05-19T03:08:29+00:00</i></p>

        
        

        
        
        <li>
        <a href="/bitcoin-dev/May_2018/combined_BIP-158-Flexibility-and-Filter-Size.xml.html"> Combined Summary of all posts in thread </a>
        </li>
        
        <li>
            
                <a href="https://lists.linuxfoundation.org/pipermail/bitcoin-dev/2018-May/015994.html">Click here to read original discussion on the bitcoin-dev mailing list</a>
            
        </li>

    </ul>

    <hr>
    <h3> Summary:</h3>
    <p>The Bitcoin Improvement Proposal (BIP) contains code for generating test vectors for gcs filters. The aim of the code is to help implementations ensure the correctness of their gcs filters and it produces CSV files containing test vectors of various testnet blocks and at various false positive rates. When the BIP draft was published last year, code was put up along with an interactive website showing the process used to arrive at the current false positive rate. The goal was to minimize the bandwidth required to download each filter plus the expected bandwidth from downloading "large-ish" full segwit blocks. The code simulated a few wallet types in terms of the number of addresses, focusing on a "mid-sized" wallet. One could also model the selection as a Bernoulli process where researchers attempt to compute the probability that after k queries, they have k "successes". A success would mean the queries item wasn't found in the filter while a failure is a filter match (false positive or not). A failure in the process requires fetching the entire block.Riccardo Casatta asked for more details on the process, such as charts and explanations. He also expressed his belief that 2^-20 is super low and choosing a lot higher alpha will shrink the total filter size by gigabytes at the cost of having to wastefully download just some megabytes of blocks. Gregory Maxwell suggested making input prevouts filter based on the scriptpubkey being spent to eliminate multiple data type mixing entirely.</p>
    <hr>
    <p><i> Updated on: 2023-05-20T08:23:46.101947+00:00 </i></p>
    
    

    <footer>
        <span style="font-family: Arial, Helvetica, sans-serif;">&#10084;&#65039;</span> <a href="https://chaincode.com" target="_blank" rel="noreferrer" style="text-decoration: none; color: inherit;">Chaincode</a>
    </footer>
</body>

</html>