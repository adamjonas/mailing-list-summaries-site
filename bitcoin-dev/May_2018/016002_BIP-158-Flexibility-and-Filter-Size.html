<!doctype html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="Content-Type" content="text/html; charset=us-ascii">
    <title>Atom Feed Display</title>
    <link rel="stylesheet" href="../../archive_styles.css">
</head>

<body BGCOLOR="#fffffb">
    
    <h1>BIP 158 Flexibility and Filter Size</h1>
    <hr class="solid">
    
    <ul>
        
        
            <p><b>Author:</b> Olaoluwa Osuntokun 2018-05-22 01:15:22
            <br><i>Published on: 2018-05-22T01:15:22+00:00</i></p>

        
        

        
        
        <li>
        <a href="/bitcoin-dev/May_2018/combined_BIP-158-Flexibility-and-Filter-Size.html"> Combined Summary of all posts in thread </a>
        </li>
        
        <li>
            
                <a href="https://lists.linuxfoundation.org/pipermail/bitcoin-dev/2018-May/016002.html">Click here to read original discussion on the bitcoin-dev mailing list</a>
            
        </li>

    </ul>

    <hr>
    <h3> Summary:</h3>
    <p>In a recent update on bitcoin-dev mailing list, Laolu Osuntokun shared the script results and compared them to the original median size of the same block range. The data shows a 34% reduction in filter size when compared to the current filter with both txid, prev outpoint, output scripts. On the application level, switching to the input prev output script may make things awkward as it would need access to an additional (outpoint -> script) map to locate the matching transaction without access to an up-to-date UTOX set. If the filter sizes need to drop further, then the false positive rate might need to be raised. Laolu asked for estimates or direct measures w.r.t how much bandwidth current BIP 37 light clients consume. He suggested removing the current "extended" filter from the BIP altogether and re-adding it later with a distinct service bit if a compelling use case for being able to filter the sigScript/witness arises. Pieter Wuille responded that all the data needed for such a filter is in the block + undo files (the latter contain the scriptPubKeys of the outputs being spent). Laolu also shared that his script hasn't finished yet due to the increased I/O load to look up the scripts when indexing and he will report back once it's finished.</p>
    <hr>
    <p><i> Updated on: 2023-05-20T08:29:12.656666+00:00 </i></p>
    
    

    <footer>
        <span style="font-family: Arial, Helvetica, sans-serif;">&#10084;&#65039;</span> <a href="https://chaincode.com" target="_blank" rel="noreferrer" style="text-decoration: none; color: inherit;">Chaincode</a>
    </footer>
</body>

</html>