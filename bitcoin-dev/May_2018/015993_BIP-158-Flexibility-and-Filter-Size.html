<!doctype html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="Content-Type" content="text/html; charset=us-ascii">
    <title>Atom Feed Display</title>
    <link rel="stylesheet" href="../../archive_styles.css">
</head>

<body BGCOLOR="#fffffb">
    
    <h1>BIP 158 Flexibility and Filter Size</h1>
    <hr class="solid">
    
    <ul>
        
        
            <p><b>Author:</b> Pieter Wuille 2018-05-19 03:06:10
            <br><i>Published on: 2018-05-19T03:06:10+00:00</i></p>

        
        

        
        
        <li>
        <a href="/bitcoin-dev/May_2018/combined_BIP-158-Flexibility-and-Filter-Size.html"> Combined Summary of all posts in thread </a>
        </li>
        
        <li>
            
                <a href="https://lists.linuxfoundation.org/pipermail/bitcoin-dev/2018-May/015993.html">Click here to read original discussion on the bitcoin-dev mailing list</a>
            
        </li>

    </ul>

    <hr>
    <h3> Summary:</h3>
    <p>In a bitcoin-dev email thread, Greg suggested making input prevouts filter based on the scriptpubkey being spent to enhance processing. However, Olaoluwa Osuntokun pointed out that for new nodes to catch up the filter index, they would need to build up a utxo-set in memory during indexing or require a txindex to look up the prev out's script. The former increases the memory load during indexing while the latter adds considerable I/O load. Pieter then chimed in and mentioned that this isn't necessary as all the data needed for such a filter is in the block + undo files, which contain the scriptPubKeys of the outputs being spent. He has a script running to compare the filter sizes assuming the regular filter switches to include the prev out's script rather than the prev outpoint itself. However, the script hasn't yet finished due to the increased I/O load to look up the scripts when indexing.</p>
    <hr>
    <p><i> Updated on: 2023-05-20T08:29:29.927542+00:00 </i></p>
    
    

    <footer>
        <span style="font-family: Arial, Helvetica, sans-serif;">&#10084;&#65039;</span> <a href="https://chaincode.com" target="_blank" rel="noreferrer" style="text-decoration: none; color: inherit;">Chaincode</a>
    </footer>
</body>

</html>