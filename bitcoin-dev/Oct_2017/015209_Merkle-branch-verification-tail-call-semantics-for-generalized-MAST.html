<!doctype html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="Content-Type" content="text/html; charset=us-ascii">
    <title>Atom Feed Display</title>
    <link rel="stylesheet" href="../../archive_styles.css">
</head>

<body BGCOLOR="#fffffb">
    
    <h1>Merkle branch verification &amp; tail-call semantics for generalized MAST</h1>
    <hr class="solid">
    
    <ul>
        
        
            <p><b>Author:</b> Mark Friedenbach 2017-10-28 04:40:01
            <br><i>Published on: 2017-10-28T04:40:01+00:00</i></p>

        
        

        
        
        <li>
        <a href="/bitcoin-dev/Oct_2017/combined_Merkle-branch-verification-tail-call-semantics-for-generalized-MAST.html"> Combined Summary of all posts in thread </a>
        </li>
        
        <li>
            
                <a href="https://lists.linuxfoundation.org/pipermail/bitcoin-dev/2017-October/015209.html">Click here to read original discussion on the bitcoin-dev mailing list</a>
            
        </li>

    </ul>

    <hr>
    <h3> Summary:</h3>
    <p>Mark Friedenbach has updated three BIPs based on feedback. The changes include modifying the hashing function fast-SHA256, changing MERKLEBRANCHVERIFY to verify a configurable number of elements from the tree instead of just one, and tail-call eval compatibility with BIP141â€™s CLEANSTACK consensus rule by allowing parameters to be passed on the alt-stack. Moreover, he has restricted tail-call eval to segwit scripts only. There were other small modifications, typo fixes, and optimizations made as well. Friedenbach proposes two new script features to be added to the bitcoin protocol via soft-fork activation. These features are a new opcode, MERKLE-BRANCH-VERIFY (MBV), and tail-call execution semantics. MBV allows script authors to force redemption to use values selected from a pre-determined set committed to in the scriptPubKey without requiring revelation of unused elements in the set for both enhanced privacy and smaller script sizes. Tail-call execution semantics allow a single level of recursion into a subscript, providing properties similar to P2SH while at the same time more flexible. Furthermore, these two features together can enable a range of applications such as tree signatures and a generalized MAST. It also brings privacy and fungibility improvements to users of counter-signing wallet/vault services. Friedenbach believes that the implementation of these features is simple enough, and the use cases compelling enough that we could BIP 8/9 rollout of these features in relatively short order, perhaps before the end of the year. Three BIPs have been written to describe these features, and their associated implementation. Friedenbach invites public review and discussion. He notes that there should be a multi-element MBV opcode that allows verifying multiple items are extracted from a single tree. However, it is not obvious how MBV could be modified to support this.</p>
    <hr>
    <p><i> Updated on: 2023-06-12T18:19:22.956481+00:00 </i></p>
    
    

    <footer>
        <span style="font-family: Arial, Helvetica, sans-serif;">&#10084;&#65039;</span> <a href="https://chaincode.com" target="_blank" rel="noreferrer" style="text-decoration: none; color: inherit;">Chaincode</a>
    </footer>
</body>

</html>