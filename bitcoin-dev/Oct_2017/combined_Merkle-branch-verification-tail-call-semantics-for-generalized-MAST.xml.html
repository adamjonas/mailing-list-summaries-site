<!doctype html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="Content-Type" content="text/html; charset=us-ascii">
    <title>Atom Feed Display</title>
    <link rel="stylesheet" href="../../archive_styles.css">
</head>

<body BGCOLOR="#fffffb">
    
    <h1>Merkle branch verification &amp; tail-call semantics for generalized MAST <span class="combined-summary">[combined summary]</span></h1>
    <hr class="solid">
    <br><b>Individual post summaries:</b>
    
        <ul>
            
                
                    <li>
                        <a href="/bitcoin-dev/Oct_2017/015159_Merkle-branch-verification-tail-call-semantics-for-generalized-MAST.xml.html">Merkle branch verification &amp; tail-call semantics for generalized MAST</a>
                        <b>Russell O&#39;Connor 2017-10-02 17:15:38</b>
                    </li>
                
                    <li>
                        <a href="/bitcoin-dev/Nov_2017/015233_Merkle-branch-verification-tail-call-semantics-for-generalized-MAST.xml.html">Merkle branch verification &amp; tail-call semantics for generalized MAST</a>
                        <b>Luke Dashjr 2017-11-01 08:43:48</b>
                    </li>
                
                    <li>
                        <a href="/bitcoin-dev/Oct_2017/015209_Merkle-branch-verification-tail-call-semantics-for-generalized-MAST.xml.html">Merkle branch verification &amp; tail-call semantics for generalized MAST</a>
                        <b>Mark Friedenbach 2017-10-28 04:40:01</b>
                    </li>
                
                    <li>
                        <a href="/bitcoin-dev/Sept_2017/015022_Merkle-branch-verification-tail-call-semantics-for-generalized-MAST.xml.html">Merkle branch verification &amp; tail-call semantics for generalized MAST</a>
                        <b>Mark Friedenbach 2017-09-19 00:46:30</b>
                    </li>
                
                    <li>
                        <a href="/bitcoin-dev/Sept_2017/014978_Merkle-branch-verification-tail-call-semantics-for-generalized-MAST.xml.html">Merkle branch verification &amp; tail-call semantics for generalized MAST</a>
                        <b>Adán Sánchez de Pedro Crespo 2017-09-11 20:37:55</b>
                    </li>
                
                    <li>
                        <a href="/bitcoin-dev/Sept_2017/014999_Merkle-branch-verification-tail-call-semantics-for-generalized-MAST.xml.html">Merkle branch verification &amp; tail-call semantics for generalized MAST</a>
                        <b>Peter Todd 2017-09-13 09:41:07</b>
                    </li>
                
                    <li>
                        <a href="/bitcoin-dev/Sept_2017/015142_Merkle-branch-verification-tail-call-semantics-for-generalized-MAST.xml.html">Merkle branch verification &amp; tail-call semantics for generalized MAST</a>
                        <b>Mark Friedenbach 2017-09-30 23:51:49</b>
                    </li>
                
                    <li>
                        <a href="/bitcoin-dev/Sept_2017/014999_Merkle-branch-verification-tail-call-semantics-for-generalized-MAST.xml.html">Merkle branch verification &amp; tail-call semantics for generalized MAST</a>
                        <b>Peter Todd 2017-09-13 09:41:07</b>
                    </li>
                
                    <li>
                        <a href="/bitcoin-dev/Sept_2017/014962_Merkle-branch-verification-tail-call-semantics-for-generalized-MAST.xml.html">Merkle branch verification &amp; tail-call semantics for generalized MAST</a>
                        <b>Johnson Lau 2017-09-08 09:21:22</b>
                    </li>
                
                    <li>
                        <a href="/bitcoin-dev/Oct_2017/015159_Merkle-branch-verification-tail-call-semantics-for-generalized-MAST.xml.html">Merkle branch verification &amp; tail-call semantics for generalized MAST</a>
                        <b>Russell O&#39;Connor 2017-10-02 17:15:38</b>
                    </li>
                
                    <li>
                        <a href="/bitcoin-dev/Nov_2017/015234_Merkle-branch-verification-tail-call-semantics-for-generalized-MAST.xml.html">Merkle branch verification &amp; tail-call semantics for generalized MAST</a>
                        <b>Mark Friedenbach 2017-11-01 15:08:46</b>
                    </li>
                
                    <li>
                        <a href="/bitcoin-dev/Sept_2017/014978_Merkle-branch-verification-tail-call-semantics-for-generalized-MAST.xml.html">Merkle branch verification &amp; tail-call semantics for generalized MAST</a>
                        <b>Adán Sánchez de Pedro Crespo 2017-09-11 20:37:55</b>
                    </li>
                
                    <li>
                        <a href="/bitcoin-dev/Sept_2017/014993_Merkle-branch-verification-tail-call-semantics-for-generalized-MAST.xml.html">Merkle branch verification &amp; tail-call semantics for generalized MAST</a>
                        <b>Karl Johan Alm 2017-09-12 23:27:36</b>
                    </li>
                
                    <li>
                        <a href="/bitcoin-dev/Nov_2017/015256_Merkle-branch-verification-tail-call-semantics-for-generalized-MAST.xml.html">Merkle branch verification &amp; tail-call semantics for generalized MAST</a>
                        <b>Luke Dashjr 2017-11-04 07:59:07</b>
                    </li>
                
                    <li>
                        <a href="/bitcoin-dev/Sept_2017/014932_Merkle-branch-verification-tail-call-semantics-for-generalized-MAST.xml.html">Merkle branch verification &amp; tail-call semantics for generalized MAST</a>
                        <b>Mark Friedenbach 2017-09-07 00:38:55</b>
                    </li>
                
                    <li>
                        <a href="/bitcoin-dev/Sept_2017/015142_Merkle-branch-verification-tail-call-semantics-for-generalized-MAST.xml.html">Merkle branch verification &amp; tail-call semantics for generalized MAST</a>
                        <b>Mark Friedenbach 2017-09-30 23:51:49</b>
                    </li>
                
                    <li>
                        <a href="/bitcoin-dev/Sept_2017/014979_Merkle-branch-verification-tail-call-semantics-for-generalized-MAST.xml.html">Merkle branch verification &amp; tail-call semantics for generalized MAST</a>
                        <b>Mark Friedenbach 2017-09-12 02:03:42</b>
                    </li>
                
                    <li>
                        <a href="/bitcoin-dev/Sept_2017/014980_Merkle-branch-verification-tail-call-semantics-for-generalized-MAST.xml.html">Merkle branch verification &amp; tail-call semantics for generalized MAST</a>
                        <b>Bryan Bishop 2017-09-12 02:13:24</b>
                    </li>
                
                    <li>
                        <a href="/bitcoin-dev/Sept_2017/014984_Merkle-branch-verification-tail-call-semantics-for-generalized-MAST.xml.html">Merkle branch verification &amp; tail-call semantics for generalized MAST</a>
                        <b>Johnson Lau 2017-09-12 08:55:59</b>
                    </li>
                
                    <li>
                        <a href="/bitcoin-dev/Sept_2017/014992_Merkle-branch-verification-tail-call-semantics-for-generalized-MAST.xml.html">Merkle branch verification &amp; tail-call semantics for generalized MAST</a>
                        <b>Mark Friedenbach 2017-09-12 19:57:10</b>
                    </li>
                
                    <li>
                        <a href="/bitcoin-dev/Sept_2017/015139_Merkle-branch-verification-tail-call-semantics-for-generalized-MAST.xml.html">Merkle branch verification &amp; tail-call semantics for generalized MAST</a>
                        <b>Luke Dashjr 2017-09-30 23:23:32</b>
                    </li>
                
                    <li>
                        <a href="/bitcoin-dev/Sept_2017/014984_Merkle-branch-verification-tail-call-semantics-for-generalized-MAST.xml.html">Merkle branch verification &amp; tail-call semantics for generalized MAST</a>
                        <b>Johnson Lau 2017-09-12 08:55:59</b>
                    </li>
                
                    <li>
                        <a href="/bitcoin-dev/Sept_2017/014993_Merkle-branch-verification-tail-call-semantics-for-generalized-MAST.xml.html">Merkle branch verification &amp; tail-call semantics for generalized MAST</a>
                        <b>Karl Johan Alm 2017-09-12 23:27:36</b>
                    </li>
                
                    <li>
                        <a href="/bitcoin-dev/Sept_2017/015139_Merkle-branch-verification-tail-call-semantics-for-generalized-MAST.xml.html">Merkle branch verification &amp; tail-call semantics for generalized MAST</a>
                        <b>Luke Dashjr 2017-09-30 23:23:32</b>
                    </li>
                
                    <li>
                        <a href="/bitcoin-dev/Sept_2017/014962_Merkle-branch-verification-tail-call-semantics-for-generalized-MAST.xml.html">Merkle branch verification &amp; tail-call semantics for generalized MAST</a>
                        <b>Johnson Lau 2017-09-08 09:21:22</b>
                    </li>
                
                    <li>
                        <a href="/bitcoin-dev/Sept_2017/015022_Merkle-branch-verification-tail-call-semantics-for-generalized-MAST.xml.html">Merkle branch verification &amp; tail-call semantics for generalized MAST</a>
                        <b>Mark Friedenbach 2017-09-19 00:46:30</b>
                    </li>
                
                    <li>
                        <a href="/bitcoin-dev/Sept_2017/014984_Merkle-branch-verification-tail-call-semantics-for-generalized-MAST.xml.html">Merkle branch verification &amp; tail-call semantics for generalized MAST</a>
                        <b>Johnson Lau 2017-09-12 08:55:59</b>
                    </li>
                
                    <li>
                        <a href="/bitcoin-dev/Sept_2017/014999_Merkle-branch-verification-tail-call-semantics-for-generalized-MAST.xml.html">Merkle branch verification &amp; tail-call semantics for generalized MAST</a>
                        <b>Peter Todd 2017-09-13 09:41:07</b>
                    </li>
                
                    <li>
                        <a href="/bitcoin-dev/Nov_2017/015256_Merkle-branch-verification-tail-call-semantics-for-generalized-MAST.xml.html">Merkle branch verification &amp; tail-call semantics for generalized MAST</a>
                        <b>Luke Dashjr 2017-11-04 07:59:07</b>
                    </li>
                
                    <li>
                        <a href="/bitcoin-dev/Nov_2017/015233_Merkle-branch-verification-tail-call-semantics-for-generalized-MAST.xml.html">Merkle branch verification &amp; tail-call semantics for generalized MAST</a>
                        <b>Luke Dashjr 2017-11-01 08:43:48</b>
                    </li>
                
                    <li>
                        <a href="/bitcoin-dev/Sept_2017/014932_Merkle-branch-verification-tail-call-semantics-for-generalized-MAST.xml.html">Merkle branch verification &amp; tail-call semantics for generalized MAST</a>
                        <b>Mark Friedenbach 2017-09-07 00:38:55</b>
                    </li>
                
                    <li>
                        <a href="/bitcoin-dev/Sept_2017/014978_Merkle-branch-verification-tail-call-semantics-for-generalized-MAST.xml.html">Merkle branch verification &amp; tail-call semantics for generalized MAST</a>
                        <b>Adán Sánchez de Pedro Crespo 2017-09-11 20:37:55</b>
                    </li>
                
                    <li>
                        <a href="/bitcoin-dev/Sept_2017/014993_Merkle-branch-verification-tail-call-semantics-for-generalized-MAST.xml.html">Merkle branch verification &amp; tail-call semantics for generalized MAST</a>
                        <b>Karl Johan Alm 2017-09-12 23:27:36</b>
                    </li>
                
                    <li>
                        <a href="/bitcoin-dev/Sept_2017/015022_Merkle-branch-verification-tail-call-semantics-for-generalized-MAST.xml.html">Merkle branch verification &amp; tail-call semantics for generalized MAST</a>
                        <b>Mark Friedenbach 2017-09-19 00:46:30</b>
                    </li>
                
                    <li>
                        <a href="/bitcoin-dev/Sept_2017/015142_Merkle-branch-verification-tail-call-semantics-for-generalized-MAST.xml.html">Merkle branch verification &amp; tail-call semantics for generalized MAST</a>
                        <b>Mark Friedenbach 2017-09-30 23:51:49</b>
                    </li>
                
                    <li>
                        <a href="/bitcoin-dev/Oct_2017/015209_Merkle-branch-verification-tail-call-semantics-for-generalized-MAST.xml.html">Merkle branch verification &amp; tail-call semantics for generalized MAST</a>
                        <b>Mark Friedenbach 2017-10-28 04:40:01</b>
                    </li>
                
                    <li>
                        <a href="/bitcoin-dev/Nov_2017/015234_Merkle-branch-verification-tail-call-semantics-for-generalized-MAST.xml.html">Merkle branch verification &amp; tail-call semantics for generalized MAST</a>
                        <b>Mark Friedenbach 2017-11-01 15:08:46</b>
                    </li>
                
                    <li>
                        <a href="/bitcoin-dev/Nov_2017/015256_Merkle-branch-verification-tail-call-semantics-for-generalized-MAST.xml.html">Merkle branch verification &amp; tail-call semantics for generalized MAST</a>
                        <b>Luke Dashjr 2017-11-04 07:59:07</b>
                    </li>
                
                    <li>
                        <a href="/bitcoin-dev/Sept_2017/014932_Merkle-branch-verification-tail-call-semantics-for-generalized-MAST.xml.html">Merkle branch verification &amp; tail-call semantics for generalized MAST</a>
                        <b>Mark Friedenbach 2017-09-07 00:38:55</b>
                    </li>
                
                    <li>
                        <a href="/bitcoin-dev/Sept_2017/014979_Merkle-branch-verification-tail-call-semantics-for-generalized-MAST.xml.html">Merkle branch verification &amp; tail-call semantics for generalized MAST</a>
                        <b>Mark Friedenbach 2017-09-12 02:03:42</b>
                    </li>
                
                    <li>
                        <a href="/bitcoin-dev/Sept_2017/014980_Merkle-branch-verification-tail-call-semantics-for-generalized-MAST.xml.html">Merkle branch verification &amp; tail-call semantics for generalized MAST</a>
                        <b>Bryan Bishop 2017-09-12 02:13:24</b>
                    </li>
                
                    <li>
                        <a href="/bitcoin-dev/Sept_2017/014992_Merkle-branch-verification-tail-call-semantics-for-generalized-MAST.xml.html">Merkle branch verification &amp; tail-call semantics for generalized MAST</a>
                        <b>Mark Friedenbach 2017-09-12 19:57:10</b>
                    </li>
                
                    <li>
                        <a href="/bitcoin-dev/Nov_2017/015233_Merkle-branch-verification-tail-call-semantics-for-generalized-MAST.xml.html">Merkle branch verification &amp; tail-call semantics for generalized MAST</a>
                        <b>Luke Dashjr 2017-11-01 08:43:48</b>
                    </li>
                
                    <li>
                        <a href="/bitcoin-dev/Nov_2017/015234_Merkle-branch-verification-tail-call-semantics-for-generalized-MAST.xml.html">Merkle branch verification &amp; tail-call semantics for generalized MAST</a>
                        <b>Mark Friedenbach 2017-11-01 15:08:46</b>
                    </li>
                
                    <li>
                        <a href="/bitcoin-dev/Sept_2017/014979_Merkle-branch-verification-tail-call-semantics-for-generalized-MAST.xml.html">Merkle branch verification &amp; tail-call semantics for generalized MAST</a>
                        <b>Mark Friedenbach 2017-09-12 02:03:42</b>
                    </li>
                
                    <li>
                        <a href="/bitcoin-dev/Sept_2017/014980_Merkle-branch-verification-tail-call-semantics-for-generalized-MAST.xml.html">Merkle branch verification &amp; tail-call semantics for generalized MAST</a>
                        <b>Bryan Bishop 2017-09-12 02:13:24</b>
                    </li>
                
                    <li>
                        <a href="/bitcoin-dev/Sept_2017/014992_Merkle-branch-verification-tail-call-semantics-for-generalized-MAST.xml.html">Merkle branch verification &amp; tail-call semantics for generalized MAST</a>
                        <b>Mark Friedenbach 2017-09-12 19:57:10</b>
                    </li>
                
                    <li>
                        <a href="/bitcoin-dev/Oct_2017/015159_Merkle-branch-verification-tail-call-semantics-for-generalized-MAST.xml.html">Merkle branch verification &amp; tail-call semantics for generalized MAST</a>
                        <b>Russell O&#39;Connor 2017-10-02 17:15:38</b>
                    </li>
                
                    <li>
                        <a href="/bitcoin-dev/Sept_2017/015139_Merkle-branch-verification-tail-call-semantics-for-generalized-MAST.xml.html">Merkle branch verification &amp; tail-call semantics for generalized MAST</a>
                        <b>Luke Dashjr 2017-09-30 23:23:32</b>
                    </li>
                
                    <li>
                        <a href="/bitcoin-dev/Oct_2017/015209_Merkle-branch-verification-tail-call-semantics-for-generalized-MAST.xml.html">Merkle branch verification &amp; tail-call semantics for generalized MAST</a>
                        <b>Mark Friedenbach 2017-10-28 04:40:01</b>
                    </li>
                
                    <li>
                        <a href="/bitcoin-dev/Sept_2017/014962_Merkle-branch-verification-tail-call-semantics-for-generalized-MAST.xml.html">Merkle branch verification &amp; tail-call semantics for generalized MAST</a>
                        <b>Johnson Lau 2017-09-08 09:21:22</b>
                    </li>
                
            
        </ul>
        
            <a href="https://lists.linuxfoundation.org/pipermail/bitcoin-dev/2017-October/015159.html">Click here to read the original discussion on the bitcoin-dev mailing list</a>
        
        <p><i>Published on: 2017-10-02T17:15:38+00:00</i></p>
        <hr>
        <h3>Summary:</h3>
        <p>Bitcoin developer Mark Friedenbach has proposed two new features to be added to the Bitcoin protocol via soft-fork activation. These features are MERKLE-BRANCH-VERIFY (MBV) and tail-call execution semantics. MBV allows script authors to force redemption to use values selected from a pre-determined set committed to in the scriptPubKey for enhanced privacy and smaller script sizes. Tail-call execution semantics enable a single level of recursion into a subscript, providing properties similar to P2SH while being more flexible. These two features together are enough to enable a range of applications such as tree signatures and a generalized MAST useful for constructing private smart contracts.Friedenbach believes that implementing these features is simple enough, and the use cases compelling enough that they could BIP 8/9 rollout of these features in relatively short order, perhaps before the end of the year. He has written three BIPs to describe these features and their associated implementation, which are open for public review and discussion. The proposal for Merkle tree is similar to the one being used at Stampery. During discussions on the bitcoin-dev mailing list, there were debates about design decisions for a new witness version and the possibility of allowing static analysis of sigop. While some believe this would be a useful feature, others worry about the security implications of interpreting arbitrary data as code. One proposed solution to this issue is to add a flag to stack items in the Script interpreter marking them as "executable" or "non-executable". There were also discussions about the complexity of the code and whether there is a repository containing the latest implementation of BIP 114. Witness script versioning is fully compatible with P2SH and BIP173, meaning existing wallets will have no problem paying to BIP114. The minimal BIP114 could be really simple, with just two new script features added to the bitcoin protocol: MERKLE-BRANCH-VERIFY (MBV) and tail-call execution semantics.Furthermore, discussions included topics such as unclosed stack, SigOp counting, and witness script versioning. There were changes made to the hashing function fast-SHA256 so that an internal node cannot be interpreted simultaneously as a leaf. MERKLEBRANCHVERIFY was modified to verify a configurable number of elements from the tree, instead of just one. Tail-call eval was restricted to segwit scripts only to avoid the issue with unclean stacks. Mark Friedenbach has updated three BIPs based on feedback, including modifying the hashing function fast-SHA256, changing MERKLEBRANCHVERIFY to verify a configurable number of elements from the tree instead of just one, and tail-call eval compatibility with BIP141’s CLEANSTACK consensus rule by allowing parameters to be passed on the alt-stack. Moreover, he has restricted tail-call eval to segwit scripts only. The email thread contains discussions about the complexity of the code and whether there is a repo containing the latest implementation of BIP 114. In addition, Friedenbach expressed his concerns over removing the block size limit in Bitcoin as it would make the system vulnerable to DoS attacks. He suggested keeping a per UTXO tally and demanding additional fees when trying to respend a UTXO which was previously "spent" with an invalid op count as a possible solution.Discussion also included the topic of code complexity in relation to the BIP114 implementation and whether it could be simplified. In an email exchange between Johnson Lau and Mark Friedenbach on September 12, 2017, they discussed the use of OP_CHECKSIGADD and how it may be vulnerable to DoS attacks. They debated design decisions for a new witness version, including tree signatures and MAST. The use of a limit was also discussed to prevent DoS attacks, with Friedenbach suggesting committing the total validation cost as the first witness stack item.Overall, Mark Friedenbach has proposed several new script features to improve the Bitcoin protocol, while also expressing concerns about potential vulnerabilities and suggesting solutions to address them. These proposals have sparked discussions among developers on the bitcoin-dev mailing list, covering topics such as tail-call execution semantics, SigOp counting, and witness script versioning.</p>
        <hr>
        <p><i>Updated on: 2023-06-12T18:25:28.943351+00:00</i></p>
    

    

    <footer>
        <span style="font-family: Arial, Helvetica, sans-serif;">&#10084;&#65039;</span> <a href="https://chaincode.com" target="_blank" rel="noreferrer" style="text-decoration: none; color: inherit;">Chaincode</a>
    </footer>
</body>

</html>