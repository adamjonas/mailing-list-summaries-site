<!doctype html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="Content-Type" content="text/html; charset=us-ascii">
    <title>Atom Feed Display</title>
    <link rel="stylesheet" href="../../archive_styles.css">
</head>

<body BGCOLOR="#fffffb">
    
    <h1>Version 1 witness programs (first draft) <span class="combined-summary">[combined summary]</span></h1>
    <hr class="solid">
    <br><b>Individual post summaries:</b>
    
        <ul>
            
                
                    <li>
                        <a href="/bitcoin-dev/Oct_2017/015156_Version-1-witness-programs-first-draft-.xml.html">Version 1 witness programs (first draft)</a>
                        <b>Luke Dashjr 2017-10-02 00:45:22</b>
                    </li>
                
                    <li>
                        <a href="/bitcoin-dev/Oct_2017/015144_Version-1-witness-programs-first-draft-.xml.html">Version 1 witness programs (first draft)</a>
                        <b>Luke Dashjr 2017-10-01 02:47:41</b>
                    </li>
                
                    <li>
                        <a href="/bitcoin-dev/Oct_2017/015145_Version-1-witness-programs-first-draft-.xml.html">Version 1 witness programs (first draft)</a>
                        <b>Mark Friedenbach 2017-10-01 05:04:32</b>
                    </li>
                
                    <li>
                        <a href="/bitcoin-dev/Oct_2017/015146_Version-1-witness-programs-first-draft-.xml.html">Version 1 witness programs (first draft)</a>
                        <b>Felix Weis 2017-10-01 11:22:30</b>
                    </li>
                
                    <li>
                        <a href="/bitcoin-dev/Oct_2017/015151_Version-1-witness-programs-first-draft-.xml.html">Version 1 witness programs (first draft)</a>
                        <b>Russell O&#39;Connor 2017-10-01 19:41:46</b>
                    </li>
                
                    <li>
                        <a href="/bitcoin-dev/Oct_2017/015152_Version-1-witness-programs-first-draft-.xml.html">Version 1 witness programs (first draft)</a>
                        <b>Mark Friedenbach 2017-10-01 20:39:11</b>
                    </li>
                
                    <li>
                        <a href="/bitcoin-dev/Oct_2017/015153_Version-1-witness-programs-first-draft-.xml.html">Version 1 witness programs (first draft)</a>
                        <b>Luke Dashjr 2017-10-01 20:43:18</b>
                    </li>
                
                    <li>
                        <a href="/bitcoin-dev/Oct_2017/015157_Version-1-witness-programs-first-draft-.xml.html">Version 1 witness programs (first draft)</a>
                        <b>Luke Dashjr 2017-10-02 02:56:27</b>
                    </li>
                
                    <li>
                        <a href="/bitcoin-dev/Oct_2017/015141_Version-1-witness-programs-first-draft-.xml.html">Version 1 witness programs (first draft)</a>
                        <b>Luke Dashjr 2017-10-01 01:13:29</b>
                    </li>
                
                    <li>
                        <a href="/bitcoin-dev/Oct_2017/015143_Version-1-witness-programs-first-draft-.xml.html">Version 1 witness programs (first draft)</a>
                        <b>Mark Friedenbach 2017-10-01 02:23:47</b>
                    </li>
                
                    <li>
                        <a href="/bitcoin-dev/Oct_2017/015145_Version-1-witness-programs-first-draft-.xml.html">Version 1 witness programs (first draft)</a>
                        <b>Mark Friedenbach 2017-10-01 05:04:32</b>
                    </li>
                
                    <li>
                        <a href="/bitcoin-dev/Oct_2017/015147_Version-1-witness-programs-first-draft-.xml.html">Version 1 witness programs (first draft)</a>
                        <b>Luke Dashjr 2017-10-01 17:36:05</b>
                    </li>
                
                    <li>
                        <a href="/bitcoin-dev/Oct_2017/015150_Version-1-witness-programs-first-draft-.xml.html">Version 1 witness programs (first draft)</a>
                        <b>Mark Friedenbach 2017-10-01 19:27:21</b>
                    </li>
                
                    <li>
                        <a href="/bitcoin-dev/Oct_2017/015155_Version-1-witness-programs-first-draft-.xml.html">Version 1 witness programs (first draft)</a>
                        <b>Mark Friedenbach 2017-10-02 00:35:38</b>
                    </li>
                
                    <li>
                        <a href="/bitcoin-dev/Oct_2017/015157_Version-1-witness-programs-first-draft-.xml.html">Version 1 witness programs (first draft)</a>
                        <b>Luke Dashjr 2017-10-02 02:56:27</b>
                    </li>
                
                    <li>
                        <a href="/bitcoin-dev/Oct_2017/015160_Version-1-witness-programs-first-draft-.xml.html">Version 1 witness programs (first draft)</a>
                        <b>Russell O&#39;Connor 2017-10-02 20:38:49</b>
                    </li>
                
                    <li>
                        <a href="/bitcoin-dev/Oct_2017/015162_Version-1-witness-programs-first-draft-.xml.html">Version 1 witness programs (first draft)</a>
                        <b>Russell O&#39;Connor 2017-10-05 21:28:48</b>
                    </li>
                
                    <li>
                        <a href="/bitcoin-dev/Oct_2017/015141_Version-1-witness-programs-first-draft-.xml.html">Version 1 witness programs (first draft)</a>
                        <b>Luke Dashjr 2017-10-01 01:13:29</b>
                    </li>
                
                    <li>
                        <a href="/bitcoin-dev/Oct_2017/015145_Version-1-witness-programs-first-draft-.xml.html">Version 1 witness programs (first draft)</a>
                        <b>Mark Friedenbach 2017-10-01 05:04:32</b>
                    </li>
                
                    <li>
                        <a href="/bitcoin-dev/Oct_2017/015147_Version-1-witness-programs-first-draft-.xml.html">Version 1 witness programs (first draft)</a>
                        <b>Luke Dashjr 2017-10-01 17:36:05</b>
                    </li>
                
                    <li>
                        <a href="/bitcoin-dev/Oct_2017/015149_Version-1-witness-programs-first-draft-.xml.html">Version 1 witness programs (first draft)</a>
                        <b>Russell O&#39;Connor 2017-10-01 19:05:38</b>
                    </li>
                
                    <li>
                        <a href="/bitcoin-dev/Oct_2017/015150_Version-1-witness-programs-first-draft-.xml.html">Version 1 witness programs (first draft)</a>
                        <b>Mark Friedenbach 2017-10-01 19:27:21</b>
                    </li>
                
                    <li>
                        <a href="/bitcoin-dev/Oct_2017/015151_Version-1-witness-programs-first-draft-.xml.html">Version 1 witness programs (first draft)</a>
                        <b>Russell O&#39;Connor 2017-10-01 19:41:46</b>
                    </li>
                
                    <li>
                        <a href="/bitcoin-dev/Oct_2017/015156_Version-1-witness-programs-first-draft-.xml.html">Version 1 witness programs (first draft)</a>
                        <b>Luke Dashjr 2017-10-02 00:45:22</b>
                    </li>
                
                    <li>
                        <a href="/bitcoin-dev/Oct_2017/015158_Version-1-witness-programs-first-draft-.xml.html">Version 1 witness programs (first draft)</a>
                        <b>Sjors Provoost 2017-10-02 09:09:00</b>
                    </li>
                
                    <li>
                        <a href="/bitcoin-dev/Oct_2017/015161_Version-1-witness-programs-first-draft-.xml.html">Version 1 witness programs (first draft)</a>
                        <b>Mark Friedenbach 2017-10-05 20:33:56</b>
                    </li>
                
                    <li>
                        <a href="/bitcoin-dev/Oct_2017/015144_Version-1-witness-programs-first-draft-.xml.html">Version 1 witness programs (first draft)</a>
                        <b>Luke Dashjr 2017-10-01 02:47:41</b>
                    </li>
                
                    <li>
                        <a href="/bitcoin-dev/Oct_2017/015151_Version-1-witness-programs-first-draft-.xml.html">Version 1 witness programs (first draft)</a>
                        <b>Russell O&#39;Connor 2017-10-01 19:41:46</b>
                    </li>
                
                    <li>
                        <a href="/bitcoin-dev/Oct_2017/015152_Version-1-witness-programs-first-draft-.xml.html">Version 1 witness programs (first draft)</a>
                        <b>Mark Friedenbach 2017-10-01 20:39:11</b>
                    </li>
                
                    <li>
                        <a href="/bitcoin-dev/Oct_2017/015154_Version-1-witness-programs-first-draft-.xml.html">Version 1 witness programs (first draft)</a>
                        <b>Johnson Lau 2017-10-01 21:32:56</b>
                    </li>
                
                    <li>
                        <a href="/bitcoin-dev/Oct_2017/015155_Version-1-witness-programs-first-draft-.xml.html">Version 1 witness programs (first draft)</a>
                        <b>Mark Friedenbach 2017-10-02 00:35:38</b>
                    </li>
                
                    <li>
                        <a href="/bitcoin-dev/Oct_2017/015158_Version-1-witness-programs-first-draft-.xml.html">Version 1 witness programs (first draft)</a>
                        <b>Sjors Provoost 2017-10-02 09:09:00</b>
                    </li>
                
                    <li>
                        <a href="/bitcoin-dev/Oct_2017/015160_Version-1-witness-programs-first-draft-.xml.html">Version 1 witness programs (first draft)</a>
                        <b>Russell O&#39;Connor 2017-10-02 20:38:49</b>
                    </li>
                
                    <li>
                        <a href="/bitcoin-dev/Oct_2017/015161_Version-1-witness-programs-first-draft-.xml.html">Version 1 witness programs (first draft)</a>
                        <b>Mark Friedenbach 2017-10-05 20:33:56</b>
                    </li>
                
                    <li>
                        <a href="/bitcoin-dev/Oct_2017/015162_Version-1-witness-programs-first-draft-.xml.html">Version 1 witness programs (first draft)</a>
                        <b>Russell O&#39;Connor 2017-10-05 21:28:48</b>
                    </li>
                
                    <li>
                        <a href="/bitcoin-dev/Oct_2017/015141_Version-1-witness-programs-first-draft-.xml.html">Version 1 witness programs (first draft)</a>
                        <b>Luke Dashjr 2017-10-01 01:13:29</b>
                    </li>
                
                    <li>
                        <a href="/bitcoin-dev/Oct_2017/015148_Version-1-witness-programs-first-draft-.xml.html">Version 1 witness programs (first draft)</a>
                        <b>Mark Friedenbach 2017-10-01 18:34:07</b>
                    </li>
                
                    <li>
                        <a href="/bitcoin-dev/Oct_2017/015150_Version-1-witness-programs-first-draft-.xml.html">Version 1 witness programs (first draft)</a>
                        <b>Mark Friedenbach 2017-10-01 19:27:21</b>
                    </li>
                
                    <li>
                        <a href="/bitcoin-dev/Oct_2017/015156_Version-1-witness-programs-first-draft-.xml.html">Version 1 witness programs (first draft)</a>
                        <b>Luke Dashjr 2017-10-02 00:45:22</b>
                    </li>
                
                    <li>
                        <a href="/bitcoin-dev/Oct_2017/015143_Version-1-witness-programs-first-draft-.xml.html">Version 1 witness programs (first draft)</a>
                        <b>Mark Friedenbach 2017-10-01 02:23:47</b>
                    </li>
                
                    <li>
                        <a href="/bitcoin-dev/Oct_2017/015146_Version-1-witness-programs-first-draft-.xml.html">Version 1 witness programs (first draft)</a>
                        <b>Felix Weis 2017-10-01 11:22:30</b>
                    </li>
                
                    <li>
                        <a href="/bitcoin-dev/Oct_2017/015154_Version-1-witness-programs-first-draft-.xml.html">Version 1 witness programs (first draft)</a>
                        <b>Johnson Lau 2017-10-01 21:32:56</b>
                    </li>
                
                    <li>
                        <a href="/bitcoin-dev/Oct_2017/015155_Version-1-witness-programs-first-draft-.xml.html">Version 1 witness programs (first draft)</a>
                        <b>Mark Friedenbach 2017-10-02 00:35:38</b>
                    </li>
                
                    <li>
                        <a href="/bitcoin-dev/Oct_2017/015160_Version-1-witness-programs-first-draft-.xml.html">Version 1 witness programs (first draft)</a>
                        <b>Russell O&#39;Connor 2017-10-02 20:38:49</b>
                    </li>
                
                    <li>
                        <a href="/bitcoin-dev/Oct_2017/015162_Version-1-witness-programs-first-draft-.xml.html">Version 1 witness programs (first draft)</a>
                        <b>Russell O&#39;Connor 2017-10-05 21:28:48</b>
                    </li>
                
                    <li>
                        <a href="/bitcoin-dev/Oct_2017/015146_Version-1-witness-programs-first-draft-.xml.html">Version 1 witness programs (first draft)</a>
                        <b>Felix Weis 2017-10-01 11:22:30</b>
                    </li>
                
                    <li>
                        <a href="/bitcoin-dev/Oct_2017/015148_Version-1-witness-programs-first-draft-.xml.html">Version 1 witness programs (first draft)</a>
                        <b>Mark Friedenbach 2017-10-01 18:34:07</b>
                    </li>
                
                    <li>
                        <a href="/bitcoin-dev/Oct_2017/015149_Version-1-witness-programs-first-draft-.xml.html">Version 1 witness programs (first draft)</a>
                        <b>Russell O&#39;Connor 2017-10-01 19:05:38</b>
                    </li>
                
                    <li>
                        <a href="/bitcoin-dev/Oct_2017/015143_Version-1-witness-programs-first-draft-.xml.html">Version 1 witness programs (first draft)</a>
                        <b>Mark Friedenbach 2017-10-01 02:23:47</b>
                    </li>
                
                    <li>
                        <a href="/bitcoin-dev/Oct_2017/015147_Version-1-witness-programs-first-draft-.xml.html">Version 1 witness programs (first draft)</a>
                        <b>Luke Dashjr 2017-10-01 17:36:05</b>
                    </li>
                
                    <li>
                        <a href="/bitcoin-dev/Oct_2017/015149_Version-1-witness-programs-first-draft-.xml.html">Version 1 witness programs (first draft)</a>
                        <b>Russell O&#39;Connor 2017-10-01 19:05:38</b>
                    </li>
                
                    <li>
                        <a href="/bitcoin-dev/Oct_2017/015153_Version-1-witness-programs-first-draft-.xml.html">Version 1 witness programs (first draft)</a>
                        <b>Luke Dashjr 2017-10-01 20:43:18</b>
                    </li>
                
                    <li>
                        <a href="/bitcoin-dev/Oct_2017/015157_Version-1-witness-programs-first-draft-.xml.html">Version 1 witness programs (first draft)</a>
                        <b>Luke Dashjr 2017-10-02 02:56:27</b>
                    </li>
                
                    <li>
                        <a href="/bitcoin-dev/Oct_2017/015144_Version-1-witness-programs-first-draft-.xml.html">Version 1 witness programs (first draft)</a>
                        <b>Luke Dashjr 2017-10-01 02:47:41</b>
                    </li>
                
                    <li>
                        <a href="/bitcoin-dev/Oct_2017/015148_Version-1-witness-programs-first-draft-.xml.html">Version 1 witness programs (first draft)</a>
                        <b>Mark Friedenbach 2017-10-01 18:34:07</b>
                    </li>
                
                    <li>
                        <a href="/bitcoin-dev/Oct_2017/015152_Version-1-witness-programs-first-draft-.xml.html">Version 1 witness programs (first draft)</a>
                        <b>Mark Friedenbach 2017-10-01 20:39:11</b>
                    </li>
                
                    <li>
                        <a href="/bitcoin-dev/Oct_2017/015153_Version-1-witness-programs-first-draft-.xml.html">Version 1 witness programs (first draft)</a>
                        <b>Luke Dashjr 2017-10-01 20:43:18</b>
                    </li>
                
                    <li>
                        <a href="/bitcoin-dev/Oct_2017/015154_Version-1-witness-programs-first-draft-.xml.html">Version 1 witness programs (first draft)</a>
                        <b>Johnson Lau 2017-10-01 21:32:56</b>
                    </li>
                
                    <li>
                        <a href="/bitcoin-dev/Oct_2017/015158_Version-1-witness-programs-first-draft-.xml.html">Version 1 witness programs (first draft)</a>
                        <b>Sjors Provoost 2017-10-02 09:09:00</b>
                    </li>
                
                    <li>
                        <a href="/bitcoin-dev/Oct_2017/015161_Version-1-witness-programs-first-draft-.xml.html">Version 1 witness programs (first draft)</a>
                        <b>Mark Friedenbach 2017-10-05 20:33:56</b>
                    </li>
                
            
        </ul>
        
            <a href="https://lists.linuxfoundation.org/pipermail/bitcoin-dev/2017-October/015156.html">Click here to read the original discussion on the bitcoin-dev mailing list</a>
        
        <p><i>Published on: 2017-10-02T00:45:22+00:00</i></p>
        <hr>
        <h3>Summary:</h3>
        <p>Bitcoin developers have been discussing potential changes to the signature format that would allow for future flexibility and compatibility with potential hard forks. Proposed changes include introducing minor versions for witnesses inside the witness itself, undefined opcodes causing the script to exit with success, and the ability for signatures to commit to additional conditions expressed in the form of serialized scripts. The email conversation also explores the concept of cross chain replay protection and a SIGHASH_WITNESS_WEIGHT flag instead of SIGHASH_WITNESS_DEPTH. There is also discussion on whether to allow static analysis of sigop and whether to eliminate the CLEANSTACK rule. The email suggests gate new behavior based on script execution flags, which are set based on the script version. Additionally, the discussion covers the possibility of allowing signature-time commitment of extra scripts and committing to the length of serialized witness data.Bitcoin developers have discussed potential changes to the signature format in an email thread. The aim is to ensure future flexibility and compatibility with potential hard forks. Three proposals were put forward to allow further upgrades within v1 witness, to allow signature-time commitment of extra scripts, and to allow static analysis of sigop. One proposal suggested introducing minor versions in the witness, while another proposed using OP_RETURNTRUE. However, these proposals faced certain disadvantages. Instead, the email suggests gate new behavior based on script execution flags, which are set based on the script version. Luke Dashjr proposed changes to the Bitcoin scripting process, which include introducing minor versions for witnesses, undefined opcodes causing the script to exit with success, and the ability for signatures to commit to additional conditions. Additionally, the CLEANSTACK rule should be eliminated, and instead, the number of items on the stack should be incorporated into the signature hash. Furthermore, Mark Friedenbach proposed incorporating an optional commitment to witness size in bytes by adding SIGHASH_WITNESS_SIZE in addition to SIGHASH_WITNESS_DEPTH. Another suggestion was to create a SIGHASH_WITNESS_WEIGHT flag instead of SIGHASH_WITNESS_DEPTH. The clean stack should be eliminated for other potential future uses, such as recursive tail-call for general computation capability. Committing to the number of witness elements is fully sufficient, and using the number of elements helps avoid problems of not knowing the actual size in bytes at the time of signing. Finally, Luke Dashjr has suggested eliminating the 520-byte push limitation for v1 scripts that could benefit from larger proof sizes.Bitcoin developers have been discussing various proposals and ideas for improving Bitcoin scripting. Mark Friedenbach suggested using script execution flags based on script versions to gate new behavior instead of utilizing OP_RETURNTRUE or generalized NOP method. He also argued that the clean stack should not be eliminated in order to allow for the possibility of recursive tail-call for general computation capability in the future. Russell O'Connor proposed creating a SIGHASH_WITNESS_WEIGHT flag instead of SIGHASH_WITNESS_DEPTH, which was debated by other developers. Luke Dashjr proposed a new draft for Segwit and Bitcoin scripting with five key changes, including minor versions for witnesses and a shorter fixed-length signature format. The developers also discussed cross chain replay protection, committing to the length of serialized witness data, and other potential future uses such as recursive tail-call for general computation capability.The bitcoin-dev mailing list has discussed potential changes to Bitcoin scripting and SegWit. One proposal suggests allowing further upgrades within v1 witness by implementing minor versions in the witness, while another proposes using OP_RETURNTRUE. All proposals allow signature-time commitment of extra scripts, but with different approaches. The discussion also covers the possibility of eliminating clean stack, which is currently a consensus requirement to avoid witness malleability, but could potentially be useful for recursive tail-call for general computation capability in the future. Additionally, Luke Dashjr proposes introducing a new shorter fixed-length signature format and allowing signatures to commit to additional conditions expressed in serialized script. However, the last part is not deployable yet as the signature must commit to the script interpreter flags and internal "sigversion" to prevent exploitation. Russell O'Connor proposes creating a SIGHASH_WITNESS_WEIGHT flag instead of SIGHASH_WITNESS_DEPTH, and Mark Friedenbach suggests gating new behavior based on script execution flags.Script validation flags can prevent malleability issues and Policy validation flags already exist to check for non-standard-zero values. However, they were not made consensus rules with Segwit v0 due to concerns over scope creep. Script versions and quadratic hashing fixes were the minimum necessary for safe activation of Segwit while enabling future upgrades that would have otherwise required hard forks. During a discussion on October 1, 2017, Mark Friedenbach proposed the idea of incorporating an optional commitment to witness size in bytes. There are three proposals with the same objective but different designs. On October 2, 2017, Luke Dashjr proposed two new options for BIP114 but later changed his mind. A first draft for Segwit and Bitcoin scripting has been</p>
        <hr>
        <p><i>Updated on: 2023-06-12T21:31:33.105486+00:00</i></p>
    

    

    <footer>
        <span style="font-family: Arial, Helvetica, sans-serif;">&#10084;&#65039;</span> <a href="https://chaincode.com" target="_blank" rel="noreferrer" style="text-decoration: none; color: inherit;">Chaincode</a>
    </footer>
</body>

</html>