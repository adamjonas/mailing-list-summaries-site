<!doctype html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="Content-Type" content="text/html; charset=us-ascii">
    <title>Atom Feed Display</title>
    <link rel="stylesheet" href="../../archive_styles.css">
</head>

<body BGCOLOR="#fffffb">
    
    <h1>Making OP_CODESEPARATOR and FindAndDelete in non-segwit scripts non-standard</h1>
    <hr class="solid">
    
    <ul>
        
        
            <p><b>Author:</b> Johnson Lau 2017-11-15 18:02:48
            <br><i>Published on: 2017-11-15T18:02:48+00:00</i></p>

        
        

        
        
        <li>
        <a href="/bitcoin-dev/Nov_2017/combined_Making-OP-CODESEPARATOR-and-FindAndDelete-in-non-segwit-scripts-non-standard.html"> Combined Summary of all posts in thread </a>
        </li>
        
        <li>
            
                <a href="https://lists.linuxfoundation.org/pipermail/bitcoin-dev/2017-November/015292.html">Click here to read original discussion on the bitcoin-dev mailing list</a>
            
        </li>

    </ul>

    <hr>
    <h3> Summary:</h3>
    <p>The proposal being made on <a href="https://github.com/bitcoin/bitcoin/pull/11423">https://github.com/bitcoin/bitcoin/pull/11423</a> is to make OP_CODESEPARATOR and FindAndDelete in non-segwit scripts non-standard. The author thinks that the FindAndDelete() function is one of the most useless and complicated functions in the script language. Although it is omitted from segwit (BIP143), it still needs to be supported in non-segwit scripts. However, it would only be triggered in some weird edge cases like using out-of-range SIGHASH_SINGLE. Non-segwit scripts also use a FindAndDelete()-like function to remove OP_CODESEPARATOR from scriptCode. OP_CODESEPARATOR in segwit scripts are useful for Tumblebit so it is not disabled in this proposal. By disabling both functions, it guarantees that scriptCode serialized inside SignatureHash() must be constant.If a softfork is used to remove FindAndDelete() and OP_CODESEPARATOR from non-segwit scripts, it could completely remove FindAndDelete() from the consensus code later by whitelisting all blocks before the softfork block. The first step is to make them non-standard in the next release.</p>
    <hr>
    <p><i> Updated on: 2023-05-20T04:19:23.100742+00:00 </i></p>
    
    

    <footer>
        <span style="font-family: Arial, Helvetica, sans-serif;">&#10084;&#65039;</span> <a href="https://chaincode.com" target="_blank" rel="noreferrer" style="text-decoration: none; color: inherit;">Chaincode</a>
    </footer>
</body>

</html>