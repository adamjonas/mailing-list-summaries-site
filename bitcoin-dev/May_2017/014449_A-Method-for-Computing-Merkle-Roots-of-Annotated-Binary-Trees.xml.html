<!doctype html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="Content-Type" content="text/html; charset=us-ascii">
    <title>Atom Feed Display</title>
    <link rel="stylesheet" href="../../archive_styles.css">
</head>

<body BGCOLOR="#fffffb">
    
    <h1>A Method for Computing Merkle Roots of Annotated Binary Trees</h1>
    <hr class="solid">
    
    <ul>
        
        
            <p><b>Author:</b> Russell O&#39;Connor 2017-05-29 14:55:37
            <br><i>Published on: 2017-05-29T14:55:37+00:00</i></p>

        
        

        
        
        <li>
        <a href="/bitcoin-dev/May_2017/combined_A-Method-for-Computing-Merkle-Roots-of-Annotated-Binary-Trees.xml.html"> Combined Summary of all posts in thread </a>
        </li>
        
        <li>
            
                <a href="https://lists.linuxfoundation.org/pipermail/bitcoin-dev/2017-May/014449.html">Click here to read original discussion on the bitcoin-dev mailing list</a>
            
        </li>

    </ul>

    <hr>
    <h3> Summary:</h3>
    <p>In a discussion on the Bitcoin development mailing list, Russell O'Connor pointed out that not all of the inputs to the SHA256 compression function are equal. 'merkleRoot' is designed to ensure that the first argument of the SHA256 compression function is only fed some output of the SHA256 compression function. However, Peter Todd noted that this does not hold true in the case of pruned trees, as for the pruning to be useful, you don't know what produced the left merkleRoot, and thus you can't guarantee it is in fact a midstate of a genuine SHA256 hash. O'Connor acknowledged this, stating that there is no reason to think that the SHA-256 compression function will be secure with chosen initial values. He suggested a solution involving putting the hash of the tags into Sha256Compress's first argument, which would still hold the Merkle-Damgard property under certain conditions about tags determining the type of node, but would lose the ability to cleverly avoid collisions between the Sha256 and MerkleRoot functions by using safe tags.</p>
    <hr>
    <p><i> Updated on: 2023-06-12T01:06:41.069864+00:00 </i></p>
    
    

    <footer>
        <span style="font-family: Arial, Helvetica, sans-serif;">&#10084;&#65039;</span> <a href="https://chaincode.com" target="_blank" rel="noreferrer" style="text-decoration: none; color: inherit;">Chaincode</a>
    </footer>
</body>

</html>