<!doctype html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="Content-Type" content="text/html; charset=us-ascii">
    <title>Atom Feed Display</title>
    <link rel="stylesheet" href="../../archive_styles.css">
</head>

<body BGCOLOR="#fffffb">
    
    <h1>Rolling UTXO set hashes <span class="combined-summary">[combined summary]</span></h1>
    <hr class="solid">
    <br><b>Individual post summaries:</b>
    
        <ul>
            
                
                    <li>
                        <a href="/bitcoin-dev/May_2017/014337_Rolling-UTXO-set-hashes.xml.html">Rolling UTXO set hashes</a>
                        <b>Pieter Wuille 2017-05-15 20:01:14</b>
                    </li>
                
                    <li>
                        <a href="/bitcoin-dev/May_2017/014402_Rolling-UTXO-set-hashes.xml.html">Rolling UTXO set hashes</a>
                        <b>Pieter Wuille 2017-05-23 20:43:45</b>
                    </li>
                
                    <li>
                        <a href="/bitcoin-dev/May_2017/014347_Rolling-UTXO-set-hashes.xml.html">Rolling UTXO set hashes</a>
                        <b>Gregory Maxwell 2017-05-16 18:20:00</b>
                    </li>
                
                    <li>
                        <a href="/bitcoin-dev/May_2017/014345_Rolling-UTXO-set-hashes.xml.html">Rolling UTXO set hashes</a>
                        <b>Pieter Wuille 2017-05-16 18:17:19</b>
                    </li>
                
                    <li>
                        <a href="/bitcoin-dev/May_2017/014341_Rolling-UTXO-set-hashes.xml.html">Rolling UTXO set hashes</a>
                        <b>Gregory Maxwell 2017-05-15 23:59:58</b>
                    </li>
                
            
        </ul>
        
            <a href="https://lists.linuxfoundation.org/pipermail/bitcoin-dev/2017-May/014337.html">Click here to read the original discussion on the bitcoin-dev mailing list</a>
        
        <p><i>Published on: 2017-05-15T20:01:14+00:00</i></p>
        <hr>
        <h3>Summary:</h3>
        <p>The article discusses an efficient way of computing a UTXO set hash that allows for adding and deleting elements in any order. The author proposes using MuHash modulo a sufficiently large safe prime or an elliptic curve group to compute the hash of unordered data incrementally. Both approaches support adding and deleting set elements in any order, allowing for easy maintenance of a running sum for the entire UTXO set. Preliminary benchmarks suggest that these approaches are reasonable for full nodes to maintain, effectively providing a rolling cryptographic checksum of the UTXO set at all times. Use cases include database consistency checking, replacement for Bitcoin Core's gettxoutsetinfo RPC's hash computation, and fast sync methods with known good blocks/UTXO sets.The Bitcoin community has raised concerns about efficiently comparing UTXO sets, and rolling UTXO set hashes have been proposed as a potential solution. However, this approach does not address the question of how to reduce full node costs by sending proofs instead of requiring them to maintain the data. There are different models proposed, including insertion-ordered TXO trees, txid-ordered UTXO Patricia tries, AVL+ trees, and append-only bitfield. Each model has different trade-offs in terms of CPU, RAM for validators, complexity for wallets/index services, etc., and there is no network-wide choice yet. It is worthwhile to investigate solutions to the "how can we efficiently compare UTXO sets" problem separately from the "how do we reduce full node costs by sending proofs instead of it maintaining the data."Lite nodes with UTXO sets have long been an advantage for committing to UTXO data, and the recent interest in full block lite clients for privacy reasons complements membership proofless usage. However, the size of txin prevout/nsequence and spent txouts for transactions with unspent outputs left should also be considered. The construction being considered and benchmarked uses 256-bit truncated SHA512(256bit txid || 32bit voutindex || 1bit coinbase || 31bit height || CTxOut output) as secp256k1 X coordinate or as key to seed a ChaCha20 PRNG whose outputs is the 3072-bit MuHash number.</p>
        <hr>
        <p><i>Updated on: 2023-05-20T02:22:18.603429+00:00</i></p>
    

    

    <footer>
        <span style="font-family: Arial, Helvetica, sans-serif;">&#10084;&#65039;</span> <a href="https://chaincode.com" target="_blank" rel="noreferrer" style="text-decoration: none; color: inherit;">Chaincode</a>
    </footer>
</body>

</html>