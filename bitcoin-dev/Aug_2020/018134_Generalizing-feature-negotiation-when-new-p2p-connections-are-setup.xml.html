<!doctype html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="Content-Type" content="text/html; charset=us-ascii">
    <title>Atom Feed Display</title>
    <link rel="stylesheet" href="../../archive_styles.css">
</head>

<body BGCOLOR="#fffffb">
    
    <h1>Generalizing feature negotiation when new p2p connections are setup</h1>
    <hr class="solid">
    
    <ul>
        
        
            <p><b>Author:</b> G. Andrew Stone 2020-08-24 13:59:26
            <br><i>Published on: 2020-08-24T13:59:26+00:00</i></p>

        
        

        
        
        <li>
        <a href="/bitcoin-dev/Aug_2020/combined_Generalizing-feature-negotiation-when-new-p2p-connections-are-setup.xml.html"> Combined Summary of all posts in thread </a>
        </li>
        
        <li>
            
                <a href="https://lists.linuxfoundation.org/pipermail/bitcoin-dev/2020-August/018134.html">Click here to read original discussion on the bitcoin-dev mailing list</a>
            
        </li>

    </ul>

    <hr>
    <h3> Summary:</h3>
    <p>A proposal has been made to create a new message, XVERSION, as an alternative to the contentious discussion around allowing unknown messages or not. This message would be a key-value array of arbitrary data that any protocol extension can choose a new key for. The value field can be serialized via the same network serialization format, making it possible to publish custom data via this message without needing to bump the protocol rev field. Typical "custom data" would be the min and max supported version of some specific extended protocol, but any data is possible since the "value" field can be serialized via the same network serialization format. It therefore doubles as a "configuration" message as well as protocol extension negotiation. Code has been deployed for a long time and a specification can be found at <a href="https://gitlab.com/bitcoinunlimited/BCHUnlimited/-/blob/dev/doc/xversionmessage.md">https://gitlab.com/bitcoinunlimited/BCHUnlimited/-/blob/dev/doc/xversionmessage.md</a>. The original motivation behind the proposal was to establish what the expectations are for new feature deployment, particularly whether the protocol version should continue to be bumped or not. However, after helpful discussions, the author of the proposal has withdrawn their suggestion. The proposal was to build in new messages to accomplish the same goal as the XVERSION message, but the use of multi-round messaging was deemed unnecessary complexity. An example where the XVERSION message could be useful is to communicate the maximum unconfirmed chain a node will commit to the mempool, and peers don't bother to send transactions that exceed this limit. The XVERSION message provides a way to negotiate non-bilateral feature support and supersedes the limited service bits currently available.</p>
    <hr>
    <p><i> Updated on: 2023-06-14T15:05:00.442692+00:00 </i></p>
    
    

    <footer>
        <span style="font-family: Arial, Helvetica, sans-serif;">&#10084;&#65039;</span> <a href="https://chaincode.com" target="_blank" rel="noreferrer" style="text-decoration: none; color: inherit;">Chaincode</a>
    </footer>
</body>

</html>