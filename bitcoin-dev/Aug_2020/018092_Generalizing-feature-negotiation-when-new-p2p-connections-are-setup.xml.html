<!doctype html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="Content-Type" content="text/html; charset=us-ascii">
    <title>Atom Feed Display</title>
    <link rel="stylesheet" href="../../archive_styles.css">
</head>

<body BGCOLOR="#fffffb">
    
    <h1>Generalizing feature negotiation when new p2p connections are setup</h1>
    <hr class="solid">
    
    <ul>
        
        
            <p><b>Author:</b> Suhas Daftuar 2020-08-17 20:40:02
            <br><i>Published on: 2020-08-17T20:40:02+00:00</i></p>

        
        

        
        
        <li>
        <a href="/bitcoin-dev/Aug_2020/combined_Generalizing-feature-negotiation-when-new-p2p-connections-are-setup.xml.html"> Combined Summary of all posts in thread </a>
        </li>
        
        <li>
            
                <a href="https://lists.linuxfoundation.org/pipermail/bitcoin-dev/2020-August/018092.html">Click here to read original discussion on the bitcoin-dev mailing list</a>
            
        </li>

    </ul>

    <hr>
    <h3> Summary:</h3>
    <p>In a recent email exchange on the bitcoin-dev mailing list, Suhas Daftuar proposed that Bitcoin network clients should ignore unknown messages received before a VERACK and codified this idea in a draft BIP. Eric Voskuil responded, suggesting that accompanying new messages (which are optional) with a protocol version bump would be a better approach to ensure network clients are never reading unknown messages from a peer. This would allow each client to limit its communication to the negotiated protocol and ignore known but unsupported/disabled features. However, Suhas pointed out that the coordination cost of making p2p protocol improvements in this way may cause problems down the road if software implementations miss a proposed new protocol upgrade. Despite this concern, Suhas acknowledged that the coordination cost is not unbearable and as long as there is a process for making p2p protocol improvements, he is not too worried about what mechanism is used. He also stated that if there will be software that expects things to operate using the same method proposed in BIP 339 (WTXID-based transaction relay), then he can withdraw the suggestion he made in his proposal. Additionally, Suhas questioned whether there is a safer way for Bitcoin to deploy changes to avoid disruption and network splits.Suhas had previously posted a proposal for WTXID-based transaction relay, which included a proposal for feature negotiation to take place prior to the VERACK message being received by each side. The implementation of BIP 339 has since been merged into Bitcoin Core, though it has not yet been released. Suhas hopes that future protocol upgrades that would benefit from feature negotiation at the time of connection can use the same method as proposed in BIP 339 without even needing to bump the protocol version.</p>
    <hr>
    <p><i> Updated on: 2023-05-20T23:44:30.200764+00:00 </i></p>
    
    

    <footer>
        <span style="font-family: Arial, Helvetica, sans-serif;">&#10084;&#65039;</span> <a href="https://chaincode.com" target="_blank" rel="noreferrer" style="text-decoration: none; color: inherit;">Chaincode</a>
    </footer>
</body>

</html>