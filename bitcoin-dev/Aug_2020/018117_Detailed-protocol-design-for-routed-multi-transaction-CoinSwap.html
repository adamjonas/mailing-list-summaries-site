<!doctype html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="Content-Type" content="text/html; charset=us-ascii">
    <title>Atom Feed Display</title>
    <link rel="stylesheet" href="../../archive_styles.css">
</head>

<body BGCOLOR="#fffffb">
    
    <h1>Detailed protocol design for routed multi-transaction CoinSwap</h1>
    <hr class="solid">
    
    <ul>
        
        
            <p><b>Author:</b> Chris Belcher 2020-08-21 09:47:31
            <br><i>Published on: 2020-08-21T09:47:31+00:00</i></p>

        
        

        
        
        <li>
        <a href="/bitcoin-dev/Aug_2020/combined_Detailed-protocol-design-for-routed-multi-transaction-CoinSwap.html"> Combined Summary of all posts in thread </a>
        </li>
        
        <li>
            
                <a href="https://lists.linuxfoundation.org/pipermail/bitcoin-dev/2020-August/018117.html">Click here to read original discussion on the bitcoin-dev mailing list</a>
            
        </li>

    </ul>

    <hr>
    <h3> Summary:</h3>
    <p>ZmnSCPxj and another person discussed the issue of spending a single UTXO in CoinSwap transactions and how it is problematic. They suggested that a single UTXO should be spent to two outputs: the CoinSwap 2-of-2 and the change output. Multipath CoinSwap routes were also discussed, with makers having no incentive to pay any miner fees, leaving takers to pay all the miner fees. To avoid abuse by makers, takers can set limits on the size of the maker's transactions. The definition of contract transactions in CoinSwap was also discussed, with coins being transferred into a contract where they can be spent either by waiting for a timeout or providing a hash preimage value. Relative timelocks were preferred over absolute timelocks as they make private key turnover slightly more usable, but there are dangers associated with this. For this reason, makers are encouraged to indicate a minimum timeout in their advertisements. The article also discusses the risk of theft in CoinSwaps, where a taker can steal funds without any cost or risk. The use of absolute timelocks may solve this problem, but it combines the time period for watchtowers to respond and the period under which private keys must be used. This means that makers may have to wait a long time to get their coins back if the swap fails with the timeout case. To reduce one round trip when two parties are agreeing on a 2-of-2 multisig address, the article suggests using EC tweak. While 2p-ECDSA is intended to be used eventually, regular multisigs with OP_CHECKMULTISIG will be implemented first. The author believes that 2p-ECDSA should be a priority after getting a decent alpha version, as it offers more privacy than PayJoin due to its larger anonymity set.</p>
    <hr>
    <p><i> Updated on: 2023-06-14T03:23:30.812416+00:00 </i></p>
    
    

    <footer>
        <span style="font-family: Arial, Helvetica, sans-serif;">&#10084;&#65039;</span> <a href="https://chaincode.com" target="_blank" rel="noreferrer" style="text-decoration: none; color: inherit;">Chaincode</a>
    </footer>
</body>

</html>