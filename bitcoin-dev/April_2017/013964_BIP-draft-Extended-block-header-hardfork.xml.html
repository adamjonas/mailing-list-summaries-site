<!doctype html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="Content-Type" content="text/html; charset=us-ascii">
    <title>Atom Feed Display</title>
    <link rel="stylesheet" href="../../archive_styles.css">
</head>

<body BGCOLOR="#fffffb">
    
    <h1>BIP draft: Extended block header hardfork</h1>
    <hr class="solid">
    
    <ul>
        
        
            <p><b>Author:</b> Johnson Lau 2017-04-02 20:13:23
            <br><i>Published on: 2017-04-02T20:13:23+00:00</i></p>

        
        

        
        
        <li>
        <a href="/bitcoin-dev/April_2017/combined_BIP-draft-Extended-block-header-hardfork.xml.html"> Combined Summary of all posts in thread </a>
        </li>
        
        <li>
            
                <a href="https://lists.linuxfoundation.org/pipermail/bitcoin-dev/2017-April/013964.html">Click here to read original discussion on the bitcoin-dev mailing list</a>
            
        </li>

    </ul>

    <hr>
    <h3> Summary:</h3>
    <p>The proposed hardfork, called "spoonnet," fulfills the commonly requested features for bitcoin businesses, including deterministic activation logic, strong and simple 2-way replay protection, wipe-out protection, and predictable resource use. The activation is based on flag day because it is difficult to measure community consensus on-chain. A reference implementation for consensus codes can be found at <a href="https://github.com/jl2012/bitcoin/tree/spoonnet2.">https://github.com/jl2012/bitcoin/tree/spoonnet2.</a> The extended block header hardfork proposal aims to provide a flexible and upgradable header format through a hardfork. The current Bitcoin protocol has a fixed 80-byte block header with no space reserved for additional data, which is not ideal for light clients. The proposed extended block header format includes objectives such as being easily upgradeable with softforks, compatible with the Stratum mining protocol, and having a deterministic hardfork activation. The hardfork employs a simple flag day deployment based on the median timestamp of previous blocks, ensuring a deterministic and permanent departure from the original rules. The witness field of the coinbase input is used to store the extended header, minimizing changes in the peer-to-peer protocol between full nodes. Committing to the block height allows determining the value before all parental headers are obtained. This is a hard forking change that breaks compatibility with old full node and light node, and it should not be deployed without widespread consensus. Old full nodes will consider the block header nVersion as invalid, while light nodes may consider the hardfork chain as the best chain if it has the most total proof-of-work, but they will not see any transactions in the chain. The proposed hardfork includes several specifications, such as requiring the nVersion of the block header to have the most significant bit signalled, segregated witness enabled, and bytes 36 to 67 in the block header replaced by the double SHA256 hash of the extended header. The special extheader softfork allows future protocol upgrades to increase the size of the extended header and redefine the calculation of block weight in a backward compatible way.</p>
    <hr>
    <p><i> Updated on: 2023-05-20T01:30:21.778790+00:00 </i></p>
    
    

    <footer>
        <span style="font-family: Arial, Helvetica, sans-serif;">&#10084;&#65039;</span> <a href="https://chaincode.com" target="_blank" rel="noreferrer" style="text-decoration: none; color: inherit;">Chaincode</a>
    </footer>
</body>

</html>