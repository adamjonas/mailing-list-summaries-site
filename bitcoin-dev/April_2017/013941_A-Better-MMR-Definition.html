<!doctype html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="Content-Type" content="text/html; charset=us-ascii">
    <title>Atom Feed Display</title>
    <link rel="stylesheet" href="../../archive_styles.css">
</head>

<body BGCOLOR="#fffffb">
    
    <h1>A Better MMR Definition</h1>
    <hr class="solid">
    
    <ul>
        
        
            <p><b>Author:</b> praxeology_guy 2017-04-01 10:18:12
            <br><i>Published on: 2017-04-01T10:18:12+00:00</i></p>

        
        

        
        
        <li>
        <a href="/bitcoin-dev/April_2017/combined_A-Better-MMR-Definition.html"> Combined Summary of all posts in thread </a>
        </li>
        
        <li>
            
                <a href="https://lists.linuxfoundation.org/pipermail/bitcoin-dev/2017-April/013941.html">Click here to read original discussion on the bitcoin-dev mailing list</a>
            
        </li>

    </ul>

    <hr>
    <h3> Summary:</h3>
    <p>Peter Todd has given his approval of the MMR structure that allows wallets to keep their MMR proof and txo index instead of requiring the entire network to maintain an index on txids w/ plain old utxo snapshots. He suggests that if a parent node has a single fully spent child node, its hash is equal to its other child's hash. Peter raises concerns about the performance of recalculating all of the node hashes on old spends but believes it wouldn't be an issue with a long enough delay policy. He also mentions issues with people keeping their MMR proofs up to date and discovering received txos before they get pruned.Peter asks about the process for removing old utxos from the utxo set and placing them into the MMR and whether a longer delay would be better as long as the utxo doesn't get too big. He suggests making a new commitment on every 6*24 blocks or so to reduce the number of times the same nodes are re-hashed while not having much impact on security.Peter also enquires about re-orgs and restoration of previous leaf and inner nodes and asks about current thoughts on block size weighting for MMR proofs, suggesting to count the extra byte length that full nodes need to relay as similar to SegWit witness data.</p>
    <hr>
    <p><i> Updated on: 2023-06-11T21:40:05.937225+00:00 </i></p>
    
    

    <footer>
        <span style="font-family: Arial, Helvetica, sans-serif;">&#10084;&#65039;</span> <a href="https://chaincode.com" target="_blank" rel="noreferrer" style="text-decoration: none; color: inherit;">Chaincode</a>
    </footer>
</body>

</html>