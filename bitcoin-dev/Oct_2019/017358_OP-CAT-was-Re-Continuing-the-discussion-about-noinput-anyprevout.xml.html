<!doctype html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="Content-Type" content="text/html; charset=us-ascii">
    <title>Atom Feed Display</title>
    <link rel="stylesheet" href="../../archive_styles.css">
</head>

<body BGCOLOR="#fffffb">
    
    <h1>OP_CAT was Re: Continuing the discussion about noinput / anyprevout</h1>
    <hr class="solid">
    
    <ul>
        
        
            <p><b>Author:</b> ZmnSCPxj 2019-10-04 07:00:13
            <br><i>Published on: 2019-10-04T07:00:13+00:00</i></p>

        
        

        
        
        <li>
        <a href="/bitcoin-dev/Oct_2019/combined_OP-CAT-was-Re-Continuing-the-discussion-about-noinput-anyprevout.xml.html"> Combined Summary of all posts in thread </a>
        </li>
        
        <li>
            
                <a href="https://lists.linuxfoundation.org/pipermail/bitcoin-dev/2019-October/017358.html">Click here to read original discussion on the bitcoin-dev mailing list</a>
            
        </li>

    </ul>

    <hr>
    <h3> Summary:</h3>
    <p>A proposal has been made to replace OP_CAT with an OP_SHA256STREAM that uses streaming properties of a SHA256 hash function. The proposal suggests using the new opcode to start a new hash with an item, add an item to the hash in state and finalize it. However, the proposal brings up the tension between generically-useable components, which are less efficient, and specific-use components, which may end up not being useable in the future, as OP_SHA256STREAM would no longer be usable if SHA256 is eventually broken. In another email thread, Ethan Heilman proposed tagging nodes to avoid derailing the NO_INPUT conversation, adding that he likes ZmnSCPxj's idea better as it increases performance. He further suggested increasing the size of the two inputs to OP_CAT to be 260 Bytes each where 520 Bytes is the maximum allowable size of an object on the stack. However, ZmnSCPxj disagreed with the 64-byte maximum output size for OP_CAT, stating that it would not be sufficient to check merkle tree proofs. ZmnSCPxj proposed removing SIGHASH from signatures and putting SIGHASH on public keys. Public keys would be encoded as either 33-bytes (implicit SIGHASH_ALL) or 34-bytes (SIGHASH byte followed by pubkey type, followed by pubkey coordinate). OP_CHECKSIG and friends would then look at the public key to determine sighash algorithm rather than the signature. The proposal also suggests adding the opcode OP_SETPUBKEYSIGHASH, which retains the old feature where the sighash is selected at time-of-spending rather than time-of-payment.</p>
    <hr>
    <p><i> Updated on: 2023-06-13T21:42:11.928043+00:00 </i></p>
    
    

    <footer>
        <span style="font-family: Arial, Helvetica, sans-serif;">&#10084;&#65039;</span> <a href="https://chaincode.com" target="_blank" rel="noreferrer" style="text-decoration: none; color: inherit;">Chaincode</a>
    </footer>
</body>

</html>