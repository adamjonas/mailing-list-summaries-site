<!doctype html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="Content-Type" content="text/html; charset=us-ascii">
    <title>Atom Feed Display</title>
    <link rel="stylesheet" href="../../archive_styles.css">
</head>

<body BGCOLOR="#fffffb">
    
    <h1>BloomFilter issue with segwit addresses</h1>
    <hr class="solid">
    
    <ul>
        
        
            <p><b>Author:</b> Andreas Schildbach 2018-04-13 15:32:15
            <br><i>Published on: 2018-04-13T15:32:15+00:00</i></p>

        
        

        
        
        <li>
        <a href="/bitcoin-dev/April_2018/combined_BloomFilter-issue-with-segwit-addresses.xml.html"> Combined Summary of all posts in thread </a>
        </li>
        
        <li>
            
                <a href="https://lists.linuxfoundation.org/pipermail/bitcoin-dev/2018-April/015894.html">Click here to read original discussion on the bitcoin-dev mailing list</a>
            
        </li>

    </ul>

    <hr>
    <h3> Summary:</h3>
    <p>Anton, a developer on the bitcoinj mailing list, has brought to attention a compatibility issue between segwit and BIP37 (Bloom Filtering). The issue pertains only to P2WPKH and transactions without change outputs. In such cases, inputs and outputs contain no data elements that would cause a match for the filter. The public key, which would match, goes to the witness but not to the input. As a solution, it was suggested to include an OP_RETURN output with a matching public key in such transactions. Anton confirmed that this workaround is working, however, some of the size improvements of segwit are nullified by this workaround. It is being pondered if Bitcoin Core would be willing to extend the BIP37 matching rules such that data elements in the witness are also matched against.</p>
    <hr>
    <p><i> Updated on: 2023-06-13T01:32:27.116470+00:00 </i></p>
    
    

    <footer>
        <span style="font-family: Arial, Helvetica, sans-serif;">&#10084;&#65039;</span> <a href="https://chaincode.com" target="_blank" rel="noreferrer" style="text-decoration: none; color: inherit;">Chaincode</a>
    </footer>
</body>

</html>