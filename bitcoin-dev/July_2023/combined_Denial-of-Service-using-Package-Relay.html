<!doctype html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="Content-Type" content="text/html; charset=us-ascii">
    <title>Atom Feed Display</title>
    <link rel="stylesheet" href="../../archive_styles.css">
</head>

<body BGCOLOR="#fffffb">
    
    <h1>Denial of Service using Package Relay <span class="combined-summary">[combined summary]</span></h1>
    <hr class="solid">
    <br><b>Individual post summaries:</b>
    
        <ul>
            
                
                    <li>
                        <a href="/bitcoin-dev/July_2023/021785_Denial-of-Service-using-Package-Relay.html">Denial of Service using Package Relay</a>
                        <b>Andrew Chow 2023-07-06 17:24:47+00:00</b>
                    </li>
                
                    <li>
                        <a href="/bitcoin-dev/July_2023/021784_Denial-of-Service-using-Package-Relay.html">Denial of Service using Package Relay</a>
                        <b>alicexbt 2023-07-06 16:22:44+00:00</b>
                    </li>
                
            
        </ul>
        
            <a href="https://lists.linuxfoundation.org/pipermail/bitcoin-dev/2023-July/021785.html">Click here to read the original discussion on the bitcoin-dev mailing list</a>
        
        <p><i>Published on: 2023-07-06T17:24:47+00:00</i></p>
        <hr>
        <h3>Summary:</h3>
        <p>User alicexbt raised concerns about the acceptance of unconfirmed inputs in a coinjoin transaction, as it could potentially invalidate the coinjoin. The user also mentioned that the coordinator B should not accept the unconfirmed UTXO from step 2 because it is unaware of that transaction and has zero fee. They noted that a similar attack could be carried out by registering the same UTXO with multiple coordinators without package relay. However, they acknowledged the benefits of package relay, such as the ability for any participant to rebroadcast the coinjoin with a further Child Pays for Parent (CPFP) if it falls below the minimum relay fee. The user also mentioned upcoming proposals for Replace-By-Fee (RBF) in package transactions, which could eliminate the need for all participants to re-sign the coinjoin for RBF. Overall, the user highlighted concerns about the acceptance of unconfirmed inputs in coinjoins and discussed the potential benefits of package relay and upcoming RBF proposals for improving security and efficiency.The user informed Bitcoin Developers about a potential vulnerability in coinjoin related to the use of the package relay feature. They explained that this vulnerability could be exploited for a Denial of Service (DoS) attack and emphasized its significance, comparing it to a soft fork. The user provided an example of the attack involving two coinjoin implementations, A and B, where the attacker registers an input in implementation A, double-spends the same input with zero fees to their own address, and registers the unconfirmed UTXO from step 2 in implementation B. This results in implementation B relaying a package containing a coinjoin transaction that pays for the double-spent input. Both users and implementation B have incentives to engage in this type of attack. The user also mentioned an alternative approach where the attacker registers the same input in both implementations A and B, but highlighted the tradeoffs associated with this approach. They stressed the importance of addressing this vulnerability promptly and provided a link to the package relay proposal for further details.The email was signed by /dev/fd0floppy disk guy using Proton Mail secure email.</p>
        <hr>
        <p><i>Updated on: 2023-08-11T15:34:40.119121+00:00</i></p>
    

    

    <footer>
        <span style="font-family: Arial, Helvetica, sans-serif;">&#10084;&#65039;</span> <a href="https://chaincode.com" target="_blank" rel="noreferrer" style="text-decoration: none; color: inherit;">Chaincode</a>
    </footer>
</body>

</html>