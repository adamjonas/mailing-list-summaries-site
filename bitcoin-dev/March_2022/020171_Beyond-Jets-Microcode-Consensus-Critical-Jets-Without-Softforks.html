<!doctype html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="Content-Type" content="text/html; charset=us-ascii">
    <title>Atom Feed Display</title>
    <link rel="stylesheet" href="../../archive_styles.css">
</head>

<body BGCOLOR="#fffffb">
    
    <h1>Beyond Jets: Microcode: Consensus-Critical Jets Without Softforks</h1>
    <hr class="solid">
    
    <ul>
        
        
            <p><b>Author:</b> Anthony Towns 2022-03-22 23:11:05
            <br><i>Published on: 2022-03-22T23:11:05+00:00</i></p>

        
        

        
        
        <li>
        <a href="/bitcoin-dev/March_2022/combined_Beyond-Jets-Microcode-Consensus-Critical-Jets-Without-Softforks.html"> Combined Summary of all posts in thread </a>
        </li>
        
        <li>
            
                <a href="https://lists.linuxfoundation.org/pipermail/bitcoin-dev/2022-March/020171.html">Click here to read original discussion on the bitcoin-dev mailing list</a>
            
        </li>

    </ul>

    <hr>
    <h3> Summary:</h3>
    <p>A proposal for microcode for Bitcoin SCRIPT has been made. The proposal includes defining a generic low-level language, RISC, and then mapping it to a specific high-level language. Users can sacrifice Bitcoins to define new microcodes. The proposed RISC language includes general instructions such as arithmetic, SECP256K1 scalar and point math, bytevector concatenation, sha256 midstates, bytevector bit manipulation, transaction introspection, and so on. The defined microcode is compiled using LLVM and then stored in a 256-long array of functions, where the array index is the `OP_` code. Bugs in existing microcodes can be fixed by basing a new microcode from the existing microcode and redefining the buggy implementation. Existing Tapscripts need to be re-spent to point to the new bugfixed microcode, but if you used the point-spend branch as an N-of-N of all participants you have an upgrade mechanism for free. There are concerns about the cost of introducing new functionality and the storage size of the "microcode-utxo" database. Additionally, there is a tragedy-of-the-commons problem wherein whoever creates the microcode pays the cost, but anyone can use it and gain the benefit, which could create centralization pressure. This approach isn't very composable, and it might be good to explain how this proposal addresses the concerns raised at the end of a previous discussion on recursive covenants.</p>
    <hr>
    <p><i> Updated on: 2023-05-22T18:30:33.986281+00:00 </i></p>
    
    

    <footer>
        <span style="font-family: Arial, Helvetica, sans-serif;">&#10084;&#65039;</span> <a href="https://chaincode.com" target="_blank" rel="noreferrer" style="text-decoration: none; color: inherit;">Chaincode</a>
    </footer>
</body>

</html>