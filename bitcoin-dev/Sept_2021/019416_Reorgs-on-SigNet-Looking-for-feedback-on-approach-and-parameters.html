<!doctype html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="Content-Type" content="text/html; charset=us-ascii">
    <title>Atom Feed Display</title>
    <link rel="stylesheet" href="../../archive_styles.css">
</head>

<body BGCOLOR="#fffffb">
    
    <h1>Reorgs on SigNet - Looking for feedback on approach and parameters</h1>
    <hr class="solid">
    
    <ul>
        
        
            <p><b>Author:</b> Anthony Towns 2021-09-08 07:59:04
            <br><i>Published on: 2021-09-08T07:59:04+00:00</i></p>

        
        

        
        
        <li>
        <a href="/bitcoin-dev/Sept_2021/combined_Reorgs-on-SigNet-Looking-for-feedback-on-approach-and-parameters.html"> Combined Summary of all posts in thread </a>
        </li>
        
        <li>
            
                <a href="https://lists.linuxfoundation.org/pipermail/bitcoin-dev/2021-September/019416.html">Click here to read original discussion on the bitcoin-dev mailing list</a>
            
        </li>

    </ul>

    <hr>
    <h3> Summary:</h3>
    <p>A discussion on the reorg-interval for SigNet was held among developers. The interval chosen depends on user needs with some suggesting 3 reorgs per day, each 48 blocks apart. This allows developers in all time zones to be awake during one or two reorgs per day and ensures reliable reorgs when they are not awake. However, too frequent reorgs could hinder other SigNet users. For testing deeper reorgs (10+ blocks) a survey could be sent out to members. Optech could also hold special fire-drill events for reorgs of 15, 150, or 1,500 blocks. Regarding scenario 1, at least two nodes and miner scripts need to be running with an always-miner A continuously producing blocks and rejecting blocks with the to-be-reorged version bit flag set. And a race-miner R that only mines D blocks at the start of each interval and then waits X blocks. Both have the same hash rate, and it is random which miner will first mine and propagate a block. In the end, the A miner chain will always win the race. The depth of the reorgs should also be considered. One-block reorgs are a regular feature on mainnet, and multiple ones happening daily to make testing easier would be great. Two to three block reorgs are good for testing the "your tx didn't get enough confirms to be credited to your account" case, while 4-6 block reorgs are technically plausible but likely to violate business assumptions. Seven to 100 block reorgs would indicate there was probably a bug, and 100-2000+ block reorgs would result from severe bugs that weren't found quickly or where getting over 50% of miners organized took more than a few hours. A quick draft of code for -signetacceptreorg=0 is available at <a href="https://github.com/ajtowns/bitcoin/commits/202108-signetreorg">https://github.com/ajtowns/bitcoin/commits/202108-signetreorg</a>. The only concern about doing this on the default signet is ensuring nodes that set -signetacceptreorg=0 don't end up partitioning the p2p network due to either rejecting a higher work chain or rejecting txs due to double-spends across the two chains.</p>
    <hr>
    <p><i> Updated on: 2023-05-21T03:35:15.898397+00:00 </i></p>
    
    

    <footer>
        <span style="font-family: Arial, Helvetica, sans-serif;">&#10084;&#65039;</span> <a href="https://chaincode.com" target="_blank" rel="noreferrer" style="text-decoration: none; color: inherit;">Chaincode</a>
    </footer>
</body>

</html>