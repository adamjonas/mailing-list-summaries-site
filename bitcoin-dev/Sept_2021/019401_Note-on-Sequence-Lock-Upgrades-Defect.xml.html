<!doctype html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="Content-Type" content="text/html; charset=us-ascii">
    <title>Atom Feed Display</title>
    <link rel="stylesheet" href="../../archive_styles.css">
</head>

<body BGCOLOR="#fffffb">
    
    <h1>Note on Sequence Lock Upgrades Defect</h1>
    <hr class="solid">
    
    <ul>
        
        
            <p><b>Author:</b> Jeremy 2021-09-05 03:19:57
            <br><i>Published on: 2021-09-05T03:19:57+00:00</i></p>

        
        

        
        
        <li>
        <a href="/bitcoin-dev/Sept_2021/combined_Note-on-Sequence-Lock-Upgrades-Defect.xml.html"> Combined Summary of all posts in thread </a>
        </li>
        
        <li>
            
                <a href="https://lists.linuxfoundation.org/pipermail/bitcoin-dev/2021-September/019401.html">Click here to read original discussion on the bitcoin-dev mailing list</a>
            
        </li>

    </ul>

    <hr>
    <h3> Summary:</h3>
    <p>In a recent discussion among Bitcoin developers, the issue of sequence values used by wallet implementations was brought up. Specifically, the question was whether any other numbers besides 0xfffffffd (the sequence number that is rbf-opt-in and csv-opt-out) are currently expected by any wallet software to be broadcastable with the DISABLE flag set. The Bitcoin Core script test uses this number, but it's unclear if others do as well. The discussion also touched on the advantages of using 0xfffffffd versus just 0, and whether people commonly use 0xfffffffd. While 0xfffffffe is considered special, it seems that the former has the alternative of either a 0-valued sequence lock or a 1. This conversation was prompted by a flaw in the Sequence lock implementation regarding upgradability, which Jeremy Rubin noticed recently. He proposed a patch for the issue on GitHub, but suggested widely surveying the community before making any changes to ensure that no one is depending on the current semantics in any live application. Rubin also published a blog post explaining the defect and his proposed solution.</p>
    <hr>
    <p><i> Updated on: 2023-06-15T01:28:51.239635+00:00 </i></p>
    
    

    <footer>
        <span style="font-family: Arial, Helvetica, sans-serif;">&#10084;&#65039;</span> <a href="https://chaincode.com" target="_blank" rel="noreferrer" style="text-decoration: none; color: inherit;">Chaincode</a>
    </footer>
</body>

</html>