<!doctype html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="Content-Type" content="text/html; charset=us-ascii">
    <title>Atom Feed Display</title>
    <link rel="stylesheet" href="../../archive_styles.css">
</head>

<body BGCOLOR="#fffffb">
    
    <h1>OP_BEFOREBLOCKVERIFY - discussing and opcode that invalidates a spend path after a certain block</h1>
    <hr class="solid">
    
    <ul>
        
        
            <p><b>Author:</b> Russell O&#39;Connor 2021-06-10 18:35:41
            <br><i>Published on: 2021-06-10T18:35:41+00:00</i></p>

        
        

        
        
        <li>
        <a href="/bitcoin-dev/June_2021/combined_OP-BEFOREBLOCKVERIFY-discussing-and-opcode-that-invalidates-a-spend-path-after-a-certain-block.xml.html"> Combined Summary of all posts in thread </a>
        </li>
        
        <li>
            
                <a href="https://lists.linuxfoundation.org/pipermail/bitcoin-dev/2021-June/019051.html">Click here to read original discussion on the bitcoin-dev mailing list</a>
            
        </li>

    </ul>

    <hr>
    <h3> Summary:</h3>
    <p>A proposal for a new opcode in Bitcoin called OP_BEFOREBLOCKVERIFY (OP_BBV) has been made by Billy Tetrud on the bitcoin-dev mailing list. The opcode would take a block height as a parameter and mark a transaction invalid if the current block being evaluated is greater than or equal to that height. The motivation behind the proposal is to enable switch-off transactions, such as reversible or expiring payments, to be done in a single transaction, rather than requiring multiple transactions. This would make such applications more economically feasible. However, there are concerns regarding the potential for OP_BBV to create DOS vectors where malicious actors might spam the mempool with transactions containing this opcode, and that it could cause reorg issues where transactions that were spent become not spendable because they were mined too near their expiry point. Tetrud argues that these concerns are solvable, particularly in the case of OP_BBV, where software can warn users to wait for 6 confirmations in relevant scenarios where a 6-block reorg might reverse the transaction. He discusses the tradeoffs and risks of the proposal in detail in a document he wrote for OP_BBV. Tetrud also notes that the proposal is an initial step towards more efficient wallet vaults, which would require other new opcodes. However, he advises against discussing the specifics of these vaults in this thread and suggests focusing on OP_BBV instead.</p>
    <hr>
    <p><i> Updated on: 2023-06-14T22:33:01.913731+00:00 </i></p>
    
    

    <footer>
        <span style="font-family: Arial, Helvetica, sans-serif;">&#10084;&#65039;</span> <a href="https://chaincode.com" target="_blank" rel="noreferrer" style="text-decoration: none; color: inherit;">Chaincode</a>
    </footer>
</body>

</html>