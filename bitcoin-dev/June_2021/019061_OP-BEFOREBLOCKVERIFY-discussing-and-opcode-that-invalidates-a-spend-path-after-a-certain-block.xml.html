<!doctype html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="Content-Type" content="text/html; charset=us-ascii">
    <title>Atom Feed Display</title>
    <link rel="stylesheet" href="../../archive_styles.css">
</head>

<body BGCOLOR="#fffffb">
    
    <h1>OP_BEFOREBLOCKVERIFY - discussing and opcode that invalidates a spend path after a certain block</h1>
    <hr class="solid">
    
    <ul>
        
        
            <p><b>Author:</b> Russell O&#39;Connor 2021-06-12 15:58:29
            <br><i>Published on: 2021-06-12T15:58:29+00:00</i></p>

        
        

        
        
        <li>
        <a href="/bitcoin-dev/June_2021/combined_OP-BEFOREBLOCKVERIFY-discussing-and-opcode-that-invalidates-a-spend-path-after-a-certain-block.xml.html"> Combined Summary of all posts in thread </a>
        </li>
        
        <li>
            
                <a href="https://lists.linuxfoundation.org/pipermail/bitcoin-dev/2021-June/019061.html">Click here to read original discussion on the bitcoin-dev mailing list</a>
            
        </li>

    </ul>

    <hr>
    <h3> Summary:</h3>
    <p>The conversation between Billy Tetrud and another person revolves around the concept of a taproot annex, which refers to additional inputs to a script with additional constraints. The person explains that the normal approach for this would be to add an annex field for a maxheight value and add a consensus rule that invalidates transactions with a maxheight value in blocks whose height exceeds it. An OP code could then be added to push a copy of the smallest maxheight value from the annex onto the stack or compare a stack item with every maxheight value from the annex. This indirection makes script validity cacheable.Regarding an auto-double-spend wallet that would send every payment with an annex value limiting the payment's validity up to the next block, the person suggests requiring the input to OP_BBV to be in the script itself and not originate from the witness. However, they believe that the ideal solution is to change the definition for what counts as finalization to account for BBV transactions mined close to their expiration. Still, they argue that relying on voluntary transaction relay policy cannot solve security problems.The person concludes by stating that they do not have further time to engage in an idea that they do not consider likely to achieve broad community support.</p>
    <hr>
    <p><i> Updated on: 2023-06-14T22:30:55.487102+00:00 </i></p>
    
    

    <footer>
        <span style="font-family: Arial, Helvetica, sans-serif;">&#10084;&#65039;</span> <a href="https://chaincode.com" target="_blank" rel="noreferrer" style="text-decoration: none; color: inherit;">Chaincode</a>
    </footer>
</body>

</html>