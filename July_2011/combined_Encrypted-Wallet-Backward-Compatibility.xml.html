<!doctype html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="Content-Type" content="text/html; charset=us-ascii">
    <title>Atom Feed Display</title>
    <link rel="stylesheet" href="../archive_styles.css">
</head>

<body BGCOLOR="#fffffb">
    
    <h1>Encrypted Wallet Backward Compatibility <span class="combined-summary">[combined summary]</span></h1>
    <hr class="solid">
    <br><b>Individual post summaries:</b>
    
    <ul>
        
        
        <li>
        <a href="/July_2011/000129_Encrypted-Wallet-Backward-Compatibility.xml.html">Encrypted Wallet Backward Compatibility</a>
        <b>Matt Corallo 2011-07-04 17:52:53</b>
        </li>
        
        <li>
        <a href="/July_2011/000135_Encrypted-Wallet-Backward-Compatibility.xml.html">Encrypted Wallet Backward Compatibility</a>
        <b>Matt Corallo 2011-07-05 01:10:39</b>
        </li>
        
        <li>
        <a href="/July_2011/000134_Encrypted-Wallet-Backward-Compatibility.xml.html">Encrypted Wallet Backward Compatibility</a>
        <b>Gregory Maxwell 2011-07-04 22:30:12</b>
        </li>
        
        <li>
        <a href="/July_2011/000132_Encrypted-Wallet-Backward-Compatibility.xml.html">Encrypted Wallet Backward Compatibility</a>
        <b>Gregory Maxwell 2011-07-04 20:59:07</b>
        </li>
        
        <li>
        <a href="/July_2011/000163_Encrypted-Wallet-Backward-Compatibility.xml.html">Encrypted Wallet Backward Compatibility</a>
        <b>Pieter Wuille 2011-07-10 19:10:07</b>
        </li>
        
        <li>
        <a href="/July_2011/000138_Encrypted-Wallet-Backward-Compatibility.xml.html">Encrypted Wallet Backward Compatibility</a>
        <b>Matt Corallo 2011-07-05 11:03:15</b>
        </li>
        
        <li>
        <a href="/July_2011/000131_Encrypted-Wallet-Backward-Compatibility.xml.html">Encrypted Wallet Backward Compatibility</a>
        <b>Matt Corallo 2011-07-04 20:39:32</b>
        </li>
        
        <li>
        <a href="/July_2011/000161_Encrypted-Wallet-Backward-Compatibility.xml.html">Encrypted Wallet Backward Compatibility</a>
        <b>Matt Corallo 2011-07-10 14:21:17</b>
        </li>
        

        
    </ul>
    <a href="https://lists.linuxfoundation.org/pipermail/bitcoin-dev/2011-July/000129.html">Click here to read original discussion on the bitcoin-dev mailing list</a>
    <p><i>Published on: 2011-07-04T17:52:53+00:00</i></p>
    <hr>
    <h3> Summary:</h3>
    <p>There are currently backward-compatibility issues with Wallet encryption in Bitcoin. This was noted by joric and it has been observed that in version 0.3.23, Bitcoin dies after writing one unencrypted private key to the otherwise encrypted wallet. In version 0.3.22, Bitcoin opens fine and displays transactions but shows a total balance of what is held only in unencrypted keys, and each transaction shows only confirmation count, date, no description, and a debit/credit of 0.00.Several suggestions have been made to work around Bitcoin's overwillingness to load wallets with keys it has no clue about. One suggestion is to rename wallet.dat for encrypted wallets. Another option is to simply do nothing and let old clients get mad. However, if the new client handles multiple key types gracefully, it can suggest encrypting the unencrypted keys with a password. Matt Corallo suggests agreeing on either <a href="https://github.com/bitcoin/bitcoin/pull/378">https://github.com/bitcoin/bitcoin/pull/378</a> or <a href="https://github.com/bitcoin/bitcoin/pull/381,">https://github.com/bitcoin/bitcoin/pull/381,</a> so that any solution to this problem that is better in 0.3.24 can be in as many hands as possible, and so that the network issues can be resolved. Corallo prefers pull request 378 as it is simpler and means that you don't have to keep track of what features you have or have not used in a wallet, but instead just write and let the keys take care of themselves. In 2011, the developers of Bitcoin were discussing ways to intentionally break unsafe or poorly designed backup mechanisms. They considered truncating the wallet.dat file and setting its file-permissions to 000 to prevent old versions of Bitcoin or dumb wallet backup scripts from reading it. However, they also discussed the potential problems this could cause for users who might not realize their backups were failing. One solution suggested was to rewrite the old file before erasing it and replacing it with a placeholder to increase the chances that unencrypted keying material would not be left on disk. Another suggestion was to add a nMinVersion field to the wallet.dat file to specify the minimum version required to read it in the future. Developers also discussed a data structure in wallet settings that should cause all versions of Bitcoin to crash on load instead of making a new wallet or opening in some bizarre half-state, but it's unclear if this solution was implemented. Overall, the developers were trying to find ways to improve the security and reliability of Bitcoin backups while minimizing the risk of data loss for users.</p>
    <hr>
    <p><i> Updated on: 2023-05-15T18:51:13.959608+00:00 </i></p>
    

    

    <footer>
        <span style="font-family: Arial, Helvetica, sans-serif;">&#10084;&#65039;</span> <a href="https://chaincode.com" target="_blank" rel="noreferrer" style="text-decoration: none; color: inherit;">Chaincode</a>
    </footer>
</body>

</html>